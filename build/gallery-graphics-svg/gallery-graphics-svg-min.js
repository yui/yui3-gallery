YUI.add("gallery-graphics-svg",function(c){function a(){}a.prototype={curveTo:function(i,g,n,m,l,k){var e,j,h,d,f,o;if(this._pathType!=="C"){this._pathType="C";j=["C"];this._pathArray.push(j);}else{j=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!j){j=[];this._pathArray.push(j);}}e=this._pathArray.length-1;this._pathArray[e]=this._pathArray[e].concat([Math.round(i),Math.round(g),Math.round(n),Math.round(m),l,k]);h=Math.max(l,Math.max(i,n));f=Math.max(k,Math.max(g,m));d=Math.min(l,Math.min(i,n));o=Math.min(k,Math.min(g,m));this._trackSize(h,f);this._trackSize(d,o);},quadraticCurveTo:function(i,h,l,k){var e,j,g,d,f,m;if(this._pathType!=="Q"){this._pathType="Q";j=["Q"];this._pathArray.push(j);}else{j=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!j){j=[];this._pathArray.push(j);}}e=this._pathArray.length-1;this._pathArray[e]=this._pathArray[e].concat([Math.round(i),Math.round(h),Math.round(l),Math.round(k)]);g=Math.max(l,i);f=Math.max(k,h);d=Math.min(l,i);m=Math.min(k,h);this._trackSize(g,f);this._trackSize(d,m);},drawRect:function(d,g,e,f){this.moveTo(d,g);this.lineTo(d+e,g);this.lineTo(d+e,g+f);this.lineTo(d,g+f);this.lineTo(d,g);},drawRoundRect:function(d,j,e,g,f,i){this.moveTo(d,j+i);this.lineTo(d,j+g-i);this.quadraticCurveTo(d,j+g,d+f,j+g);this.lineTo(d+e-f,j+g);this.quadraticCurveTo(d+e,j+g,d+e,j+g-i);this.lineTo(d+e,j+i);this.quadraticCurveTo(d+e,j,d+e-f,j);this.lineTo(d+f,j);this.quadraticCurveTo(d,j,d,j+i);},drawWedge:function(f,i,h,g,e,d){this._drawingComplete=false;this.path=this._getWedgePath({x:f,y:i,startAngle:h,arc:g,radius:e,yRadius:d});},_getWedgePath:function(A){var o=A.x,l=A.y,t=A.startAngle,k=A.arc,f=A.radius,g=A.yRadius||f,s,q,j,z,h,p,n,w,v,e,d,u=0,m=f*2,r=" M"+o+", "+l;if(Math.abs(k)>360){k=360;}s=Math.ceil(Math.abs(k)/45);q=k/s;j=-(q/180)*Math.PI;z=(t/180)*Math.PI;if(s>0){p=o+Math.cos(t/180*Math.PI)*f;n=l+Math.sin(t/180*Math.PI)*g;r+=" L"+Math.round(p)+", "+Math.round(n);r+=" Q";for(;u<s;++u){z+=j;h=z-(j/2);w=o+Math.cos(z)*f;v=l+Math.sin(z)*g;e=o+Math.cos(h)*(f/Math.cos(j/2));d=l+Math.sin(h)*(g/Math.cos(j/2));r+=Math.round(e)+" "+Math.round(d)+" "+Math.round(w)+" "+Math.round(v)+" ";}r+=" L"+o+", "+l;}this._trackSize(m,m);return r;},lineTo:function(j,h,f){var e=arguments,g,d,l,k;this._pathArray=this._pathArray||[];if(typeof j==="string"||typeof j==="number"){e=[[j,h]];}d=e.length;this._shapeType="path";if(this._pathType!=="L"){this._pathType="L";k=["L"];this._pathArray.push(k);}else{k=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!k){k=[];this._pathArray.push(k);}}l=this._pathArray.length-1;for(g=0;g<d;++g){this._pathArray[l]=this._pathArray[l].concat([e[g][0],e[g][1]]);this._trackSize.apply(this,e[g]);}},moveTo:function(d,g){var f,e;this._pathArray=this._pathArray||[];if(this._pathType!="M"){this._pathType="M";e=["M"];this._pathArray.push(e);}else{e=this._pathArray[Math.max(0,this._pathArray.length-1)];if(!e){e=[];this._pathArray.push(e);}}f=this._pathArray.length-1;this._pathArray[f]=this._pathArray[f].concat([d,g]);this._trackSize(d,g);},end:function(){this._draw();},setSize:function(d,e){var f;if(this.get("autoSize")){f=this.get("node");if(d>f.getAttribute("width")){f.setAttribute("width",d);}if(e>f.getAttribute("height")){f.setAttribute("height",e);}}},_trackSize:function(d,e){var f=this.get("node");if(d>this._right){this._right=d;}if(d<this._left){this._left=d;}if(e<this._top){this._top=e;}if(e>this._bottom){this._bottom=e;}this._width=this._right-this._left;this._height=this._bottom-this._top;f.style.left=this._left+"px";f.style.top=this._top+"px";this.setSize(this._width,this._height);}};c.Drawing=a;c.Shape=c.Base.create("shape",c.Base,[],{initializer:function(){this.publish("shapeUpdate");this._addListeners();},_getNode:function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg:"+this._type),d=this.get("pointerEvents")||"none";e.setAttribute("pointer-events",d);e.setAttribute("class","yui3-"+this.name);e.setAttribute("id",this.get("id"));return e;},_addListeners:function(){this.after("initializedChange",this._updateHandler);this.after("transformAdded",this._updateHandler);this.after("strokeChange",this._updateHandler);this.after("fillChange",this._updateHandler);this.after("widthChange",this._updateHandler);this.after("heightChange",this._updateHandler);this.after("xChange",this._updateHandler);this.after("yChange",this._updateHandler);},_strokeChangeHandler:function(m){var g=this.get("node"),o=this.get("stroke"),p,f,j,h,k,d,l,n=o.linejoin||"round";if(o&&o.weight&&o.weight>0){p=o.alpha;f=o.dashstyle||"none";j=c.Lang.isArray(f)?f.toString():f;o.color=o.color||"#000000";o.weight=o.weight||1;o.alpha=c.Lang.isNumber(p)?p:1;o.linecap=o.linecap||"butt";g.setAttribute("stroke-dasharray",j);g.setAttribute("stroke",o.color);g.setAttribute("stroke-linecap",o.linecap);g.setAttribute("stroke-width",o.weight);g.setAttribute("stroke-opacity",o.alpha);if(n=="round"||n=="bevel"){g.setAttribute("stroke-linejoin",n);}else{n=parseInt(n,10);if(c.Lang.isNumber(n)){g.setAttribute("stroke-miterlimit",Math.max(n,1));g.setAttribute("stroke-linejoin","miter");}}}else{g.setAttribute("stroke","none");}},_fillChangeHandler:function(h){var f=this.get("node"),g=this.get("fill"),d;if(g){if(!g.color){f.setAttribute("fill","none");}else{d=g.alpha;g.alpha=c.Lang.isNumber(d)?d:1;f.setAttribute("fill",g.color);f.setAttribute("fill-opacity",d);}}else{f.setAttribute("fill","none");}},translate:function(d,e){this._translateX=d;this._translateY=e;this._translate.apply(this,arguments);},_translate:function(d,e){this._addTransform("translate",arguments);},skewX:function(d){this._addTransform("skewX",arguments);},skewY:function(d){this._addTransform("skewY",arguments);},rotate:function(d){this._addTransform("rotate",arguments);},scale:function(d){this._addTransform("scale",arguments);},matrix:function(h,g,l,k,j,i){this._addTransform("matrix",arguments);},_addTransform:function(e,d){if(!this._transformArgs){this._transformArgs={};}this._transformArgs[e]=Array.prototype.slice.call(d,0);
this.fire("transformAdded");},_updateTransform:function(){var g=this.get("node"),f,e,h,d=g.getAttribute("transform"),i;if(this._transformArgs){if(this._transformArgs.hasOwnProperty("rotate")){e=this._transformArgs.rotate;e[1]=this.get("x")+(this.get("width")*0.5);e[2]=this.get("y")+(this.get("height")*0.5);}}for(f in this._transformArgs){if(f&&this._transformArgs.hasOwnProperty(f)){h=f+"("+this._transformArgs[f].toString()+")";if(d&&d.length>0){i=new RegExp(f+"(.*)");if(d.indexOf(f)>-1){d=d.replace(i,h);}else{d+=" "+h;}}else{d=h;}}}if(d){g.setAttribute("transform",d);}},_draw:function(){var d=this.get("node");d.setAttribute("width",this.get("width"));d.setAttribute("height",this.get("height"));d.setAttribute("x",this.get("x"));d.setAttribute("y",this.get("y"));d.style.left=this.get("x")+"px";d.style.top=this.get("y")+"px";this._fillChangeHandler();this._strokeChangeHandler();this._updateTransform();},_updateHandler:function(d){this._draw();this.fire("shapeUpdate");},_translateX:0,_translateY:0,getBounds:function(){var l=this.get("width"),g=this.get("height"),m=this.get("stroke"),k=this.get("x"),j=this.get("y"),i=0,f=this.get("translateX"),e=this.get("translateY"),d={};if(m&&m.weight){i=m.weight;}d.left=k-i+f;d.top=j-i+e;d.right=k+l+i+f;d.bottom=j+g+i+e;return d;}},{ATTRS:{node:{readOnly:true,valueFn:"_getNode"},id:{valueFn:function(){return c.guid();},setter:function(e){var d=this.get("node");d.setAttribute("id",e);return e;}},x:{value:0},y:{value:0},width:{},height:{},visible:{value:true,setter:function(e){var d=e?"visible":"hidden";this.get("node").style.visibility=d;return e;}},fill:{setter:function(f){var e,d=this.get("fill")||this._getAttrCfg("fill").defaultValue;e=(f)?c.merge(d,f):null;if(e&&e.color){if(e.color===undefined||e.color=="none"){e.color=null;}}return e;}},stroke:{valueFn:function(){return{weight:1,dashstyle:null,color:"#000",alpha:1};},setter:function(e){var d=this.get("stroke")||this._getAttrCfg("stroke").defaultValue;return(e)?c.merge(d,e):null;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"},translateX:{getter:function(){return this._translateX;},setter:function(d){this._translateX=d;this._transform(d,this._translateY);return d;}},translateY:{getter:function(){return this._translateY;},setter:function(d){this._translateY=d;this._transform(this._translateX,d);return d;}},graphic:{setter:function(d){this.after("shapeUpdate",c.bind(d.updateCoordSpace,d));return d;}}}});c.Path=c.Base.create("path",c.Shape,[c.Drawing],{_left:0,_right:0,_top:0,_bottom:0,_type:"path",_draw:function(){var e,l,d,o,f,n,m,r="",h=this.get("node"),k=this.get("translateX"),j=this.get("translateY"),g=this._left,p=this._top,q=this.get("fill");if(this._pathArray){e=this._pathArray.concat();while(e&&e.length>0){l=e.shift();o=l.length;d=l[0];r+=" "+d+(l[1]-g);switch(d){case"L":case"M":case"Q":for(m=2;m<o;++m){f=(m%2===0)?p:g;f=l[m]-f;r+=", "+f;}break;case"C":for(m=2;m<o;++m){f=(m%2===0)?p:g;n=l[m];n-=f;r+=" "+n;}break;}}if(q&&q.color){r+="z";}if(r){h.setAttribute("d",r);}this._transformArgs=this._transformArgs||{};this._transformArgs.translate=[g+k,p+j];this.set("path",r);this._fillChangeHandler();this._strokeChangeHandler();this._updateTransform();}},translate:function(d,f){var e=this.get("node");d=parseInt(d,10);f=parseInt(f,10);this._translateX=d;this._translateY=f;this._translate(this._left+d,this._top+f);},end:function(){this._draw();this.fire("shapeUpdate");},clear:function(){this._left=0;this._right=0;this._top=0;this._bottom=0;this._pathArray=[];this.set("path","");},getBounds:function(){var e=0,g={},h=this.get("stroke"),f=this.get("translateX"),d=this.get("translateY");if(h&&h.weight){e=h.weight;}g.left=this._left-e+f;g.top=this._top-e+d;g.right=(this._right-this._left)+e+f;g.bottom=(this._bottom-this._top)+e+d;return g;}},{ATTRS:{path:{value:""},width:{getter:function(){var d=this._right,e=this._left,f=Math.max(this._right-this._left,0);return f;}},height:{getter:function(){return Math.max(this._bottom-this._top,0);}}}});c.Rect=c.Base.create("rect",c.Shape,[],{_type:"rect"});c.Ellipse=c.Base.create("ellipse",c.Shape,[],{_type:"ellipse",_draw:function(){var d=this.get("node"),m=this.get("width"),g=this.get("height"),l=this.get("x"),j=this.get("y"),k=m*0.5,i=g*0.5,f=l+k,e=j+i;d.setAttribute("rx",k);d.setAttribute("ry",i);d.setAttribute("cx",f);d.setAttribute("cy",e);this._fillChangeHandler();this._strokeChangeHandler();this._updateTransform();}},{ATTRS:{xRadius:{readOnly:true,getter:function(){var d=this.get("width");if(d){d*=0.5;}return d;}},yRadius:{readOnly:true,getter:function(){var d=this.get("height");if(d){d*=0.5;}return d;}},x:{lazyAdd:false,value:0},y:{lazyAdd:false}}});c.Circle=c.Base.create("circle",c.Shape,[],{_type:"circle",_addListeners:function(){c.Circle.superclass._addListeners.apply(this);this.after("radiusChange",this._updateHandler);},_draw:function(){var g=this.get("node"),f=this.get("x"),i=this.get("y"),e=this.get("radius"),d=f+e,h=i+e;g.setAttribute("r",e);g.setAttribute("cx",d);g.setAttribute("cy",h);this._fillChangeHandler();this._strokeChangeHandler();this._updateTransform();}},{ATTRS:{width:{readOnly:true,getter:function(){return this.get("radius")*2;}},height:{readOnly:true,getter:function(){return this.get("radius")*2;}},radius:{value:0}}});function b(d){this.initializer.apply(this,arguments);}b.prototype={autoSize:true,initializer:function(e){e=e||{};var d=e.width||0,f=e.height||0;this.id=c.guid();this.node=this._createGraphics();this.node.setAttribute("id",this.id);this.setSize(d,f);if(e.render){this.render(e.render);}},destroy:function(){this._removeChildren(this.node);if(this.node&&this.node.parentNode){this.node.parentNode.removeChild(this.node);}},_removeChildren:function(d){if(d.hasChildNodes()){var e;while(d.firstChild){e=d.firstChild;this._removeChildren(e);d.removeChild(e);}}},toggleVisible:function(d){this._toggleVisible(this.node,d);},_toggleVisible:function(h,j){var g=c.Selector.query(">/*",h),e=j?"visible":"hidden",f=0,d;if(g){d=g.length;
for(;f<d;++f){this._toggleVisible(g[f],j);}}h.style.visibility=e;},clear:function(){if(this._graphicsList){while(this._graphicsList.length>0){this.node.removeChild(this._graphicsList.shift());}}},setSize:function(d,e){if(this.autoSize){if(d>this.node.getAttribute("width")){this.node.setAttribute("width",d);}if(e>this.node.getAttribute("height")){this.node.setAttribute("height",e);}}},_trackSize:function(d,e){if(d>this._right){this._right=d;}if(d<this._left){this._left=d;}if(e<this._top){this._top=e;}if(e>this._bottom){this._bottom=e;}this._width=this._right-this._left;this._height=this._bottom-this._top;this.node.style.left=this._left+"px";this.node.style.top=this._top+"px";this.setSize(this._width,this._height);},render:function(g){var d=c.one(g),e=parseInt(d.getComputedStyle("width"),10),f=parseInt(d.getComputedStyle("height"),10);d=d||c.config.doc.body;d.appendChild(this.node);this.setSize(e,f);return this;},_createGraphics:function(){var d=this._createGraphicNode("svg");this._styleGroup(d);return d;},_styleGroup:function(d){d.style.position="absolute";d.style.top="0px";d.style.left="0px";d.style.overflow="auto";d.setAttribute("overflow","auto");d.setAttribute("pointer-events","none");},_createGraphicNode:function(f,d){var g=document.createElementNS("http://www.w3.org/2000/svg","svg:"+f),e=d||"none";if(f!=="defs"&&f!=="stop"&&f!=="linearGradient"){g.setAttribute("pointer-events",e);}return g;},addShape:function(d){var e=d.get("node");d.set("graphic",this);this.node.appendChild(e);if(!this._graphicsList){this._graphicsList=[];}if(!this._shapes){this._shapes={};}this._graphicsList.push(e);this._shapes[d.get("id")]=d;this.updateCoordSpace();},getShape:function(d){return this._shapes[d];},updateCoordSpace:function(k){var j,h=0,g,f=this._graphicsList,d=f.length;this._left=0;this._right=0;this._top=0;this._bottom=0;for(;h<d;++h){g=this.getShape(f[h].getAttribute("id"));j=g.getBounds();this._left=Math.min(this._left,j.left);this._top=Math.min(this._top,j.top);this._right=Math.max(this._right,j.right);this._bottom=Math.max(this._bottom,j.bottom);}this._width=this._right-this._left;this._height=this._bottom-this._top;this.node.setAttribute("width",this._width);this.node.setAttribute("height",this._height);this.node.style.width=this._width+"px";this.node.style.height=this._height+"px";this.node.style.left=this._left+"px";this.node.style.top=this._top+"px";this.node.setAttribute("viewBox",""+this._left+" "+this._top+" "+this._width+" "+this._height+"");},_left:0,_right:0,_top:0,_bottom:0};c.Graphic=b;},"@VERSION@",{requires:["graphics"],skinnable:false});