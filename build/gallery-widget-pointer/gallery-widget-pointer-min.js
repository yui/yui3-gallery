YUI.add("gallery-widget-pointer",function(e,t){function l(){e.after(this._renderUIPointer,this,"renderUI"),e.after(this._bindUIPointer,this,"bindUI"),e.after(this._syncUIPointer,this,"syncUI")}var n=e.ClassNameManager.getClassName,r="up",i="down",s="left",o="right",u="pointer",a="widget",f={pointer:n(a,u),above:n(a,u,r),below:n(a,u,i),left:n(a,u,s),right:n(a,u,o)};l.ATTRS={pointerAlign:{valueFn:function(){return{placement:"above"}},setter:function(e){return typeof e=="string"?{placement:e}:e}}},l.CLASSES=f,l.prototype={POINTER_TEMPLATE:'<div class="'+f.pointer+'"></div>',initializer:function(){this._pointer=e.Node.create(this.POINTER_TEMPLATE),this._pointerBox||(this._pointerBox=this.get("boundingBox"))},destructor:function(){this._pointer.unplug(e.Plugin.Align),this._pointer=this._pointerBox=null},_renderUIPointer:function(){var t=this.get("pointerAlign");this.get("boundingBox").prepend(this._pointer),this._pointer.plug(e.Plugin.Align),t&&this._setPointerClassnames(t.placement)},_bindUIPointer:function(){this.after("pointerAlignChange",this._afterPointerAlignChange)},_syncUIPointer:function(){var e=this.get("pointerAlign");this._uiSetPointerAlign(e.node,e.placement)},alignPointer:function(t,n){return arguments.length?(t=e.one(t)||this._pointerBox,this.set("pointerAlign",{node:t,placement:n||t.getData("placement")})):this._syncUIPointer(),this},_getArrowType:function(e){var t="";switch(e){case"below":t=f.above;break;case"right":t=f.left;break;case"above":t=f.below;break;case"left":t=f.right;break;default:}return t},_uiSetPointerAlign:function(t,n){var r=this._pointer,i=this._pointerBox,s=i.get("region");t&&i!==t&&e.mix(s,t.get("region"),!0,n==="above"||n==="below"?["left","right","width"]:["top","bottom","height"]);switch(n){case"above":r.align.to(s,"bc","tc",!0);break;case"below":r.align.to(s,"tc","bc",!0);break;case"left":r.align.to(s,"rc","lc",!0);break;case"right":r.align.to(s,"lc","rc",!0);break;default:}},_setPointerClassnames:function(e){this._pointer.set("className",f.pointer+" "+this._getArrowType(e))},_afterPointerAlignChange:function(e){var t=e.newVal;t&&(this._setPointerClassnames(t.placement),this._uiSetPointerAlign(t.node,t.placement))}},e.WidgetPointer=l},"@VERSION@",{requires:["widget","base-build","align-plugin","classnamemanager"],skinnable:!0,version:.1});
