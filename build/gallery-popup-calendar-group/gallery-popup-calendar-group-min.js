YUI.add("gallery-popup-calendar-group",function(a){a.PopupCalendarGroup=a.Base.create("popup-calendar-group",a.Base,[],{initializer:function(b){var d=b.calendars[0].start.input,c=d.getData("min-date"),e=d.getData("max-date");if(!b.startDate){if(c){this.set("startDate",c);}else{this.set("startDate",new Date());}}if(!b.endDate){if(e){this.set("endDate",e);}}a.Array.each(b.calendars,this._instantiateCalendars,this);},_instantiateCalendars:function(k){var d=this.get("config"),c=k.start,b=c.input,f=k.end,j=f.input;if(typeof b=="string"){c.input=a.one(b);}if(typeof j=="string"){f.input=a.one(j);}var e=d.filterFunction,m=d.rules;if(e&&m){d.customRenderer={filterFunction:e,rules:m};this.set("filterFunction",e);}a.mix(c,d);a.mix(f,d);var n=k.start.cal=new a.PopupCalendar(c),g=k.end.cal=new a.PopupCalendar(f),l=a.bind(c.dateSelected,n),h=a.bind(f.dateSelected,g),i=new Date();this._dateSelectedFn(i,n);this._dateSelectedFn(i,g);n.on("dateSelected",function(p){var o=p.newSelection[0];l(p);this.set("selectedStartDate",o);g.set("minimumDate",o);this._dateSelectedFn(o,g,"end");},this);g.on("dateSelected",function(p){var o=p.newSelection[0];h(p);this.set("selectedEndDate",o);n.set("maximumDate",o);this._dateSelectedFn(o,n,"start");},this);this.set("calendars",k);},_dateSelectedFn:function(b,d,c){d.set("disabledDatesRule","disabledDates");d.set("customRenderer",{rules:d._buildDisabledRule(b,c),filterFunction:this.filterFunction});},destructor:function(){}},{ATTRS:{config:{value:null},container:{value:a,setter:function(b){if(typeof b=="string"){return a.one(b);}else{return b;}}},calendars:{value:null},filterFunction:{value:null},startDate:{value:null},endDate:{value:null},selectedStartDate:{value:null},selectedEndDate:{value:null}}});},"gallery-2012.05.09-20-27",{requires:["gallery-popup-calendar","calendar"],skinnable:false});