YUI.add("gallery-paginate",function(c){var d=c.ClassNameManager.getClassName,o="paginate",k=d(o,"link"),b=d(o,"pages"),j=d(o,"page"),m=d(o,"on"),i=d(o,"page-of"),h=d(o,"next"),e=d(o,"previous"),l=d(o,"last"),f=d(o,"first");function a(p){return isFinite(+p);}function n(p){return isFinite(+p)?+p:null;}function g(p){g.superclass.constructor.call(this,p);}g.NAME="paginate";g.ATTRS={recordsPerPage:{value:0,validator:a,setter:n},recordsTotal:{value:0,validator:a,setter:n},currentPage:{value:1,validator:a,setter:n},totalPages:{value:0},isCircular:{value:false},isVertical:{value:false},template:{value:"{FirstPageLink} {PreviousPageLink} {PageLinks} {PageOf} {PageItems} {NextPageLink} {LastPageLink}",validator:c.Lang.isString}};c.Paginate=c.extend(g,c.Widget,{initializer:function(){this.set("totalPages",Math.ceil(this.get("recordsTotal")/this.get("recordsPerPage")));},renderUI:function(){var v=this.get("template"),x=this.get("currentPage"),w=[],r=[],u=0,s=this.get("totalPages"),q;for(;u<s;u+=1){q=(u+1===x)?" "+m:"";r[u]='<a class="'+k+" "+j+q+'" data-index="'+(u+1)+'">'+(u+1)+"</a> ";w[u]='<a class="'+j+q+'">'+(u+1)+"</a> ";}this.get("contentBox").setContent(c.substitute(v,{"FirstPageLink":'<a class="'+k+" "+f+'">First</a>',"PreviousPageLink":'<a class="'+k+" "+e+'">Previous</a>',"PageLinks":'<span class="'+b+'">'+r.join(" ")+"</span>","PageItems":'<span class="'+b+'">'+w.join(" ")+"</span>","PageOf":'<a class="'+i+'">'+x+" of "+s+"</a>","NextPageLink":'<a class="'+k+" "+h+'">Next</a>',"LastPageLink":'<a class="'+k+" "+l+'">Last</a>'}));},bindUI:function(){var q=this,r=q.get("boundingBox"),p=q.get("contentBox");r.on("flick",function(s){if(s.flick.distance>0){q.getPreviousPage();}else{q.getNextPage();}},{axis:(q.get("isVertical"))?"y":"x",minDistance:10,minVelocity:0.8});p.on("mousedown",function(s){s.preventDefault();});p.delegate("click",q.getPreviousPage,"."+k+"."+e,q);p.delegate("click",q.getNextPage,"."+k+"."+h,q);p.delegate("click",function(){q.getPage(Number(this.getAttribute("data-index")));},"."+k+"."+j);p.delegate("click",c.bind(q.getPage,q,1),"."+k+"."+f);p.delegate("click",c.bind(q.getPage,q,q.get("totalPages")),"."+k+"."+l);q.after("recordsPerPageChange",q._recordsChange);q.after("recordsTotalChange",q._recordsChange);q.after("currentPageChange",q.syncUI);},syncUI:function(){this.renderUI();},getPage:function(q){this.set("currentPage",q);return q;},getNextPage:function(){var q=(this.hasNextPage())?this.get("currentPage")+1:(this.get("isCircular"))?1:this.get("currentPage");this.set("currentPage",q);return q;},hasNextPage:function(){return(this.get("currentPage")<this.get("totalPages"));},getPreviousPage:function(){var q=(this.hasPreviousPage())?this.get("currentPage")-1:(this.get("isCircular"))?this.get("totalPages"):1;this.set("currentPage",q);return q;},hasPreviousPage:function(){return(this.get("currentPage")>1);},_recordsChange:function(){var p=this;p.initializer();p.renderUI();}});},"gallery-2011.06.29-23-18",{requires:["widget","event-flick","event","substitute"]});