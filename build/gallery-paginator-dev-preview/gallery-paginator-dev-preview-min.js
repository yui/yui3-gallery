YUI.add("gallery-paginator-dev-preview",function(a){YUI.add("gallery-paginator-dev-preview-core",function(d){var c=d.Attribute.INVALID_VALUE,b=d.Lang.isNumber;function e(){}e.ATTRS={totalItems:{value:0,validator:"_validateTotalItems"},itemsPerPage:{value:1,validator:"_validateItemsPerPage"},page:{valueFn:"_initPage",setter:"_setPage"},pages:{readOnly:true,getter:"_getPages"}};d.mix(e.prototype,{next:function(){this.set("page",this.get("page")+1);},previous:function(){this.set("page",this.get("page")-1);},_afterItemsPerPageChange:function(h){var g=this.get("page"),f=g?(g-1)*h.prevVal:0;this.set("page",Math.floor(f/h.newVal)+1,{originEvent:h});},_afterTotalItemsChange:function(h){var g=h.newVal,f=this.get("itemsPerPage"),i=(this.get("page")-1)*f;if(g<h.prevVal&&g<=i){this.set("page",Math.ceil(g/f),{originEvent:h});}},_getPages:function(){return Math.ceil(this.get("totalItems")/this.get("itemsPerPage"));},initializer:function(){this.after({totalItemsChange:d.bind("_afterTotalItemsChange",this),itemsPerPageChange:d.bind("_afterItemsPerPageChange",this)});},_initPage:function(){return this.get("totalItems")>0?1:0;},_setPage:function(i){var f=this.get("itemsPerPage"),g=this.get("totalItems"),h;i=+i;if(i>0){h=(i-1)*"itemsPerPage";if(h>=g){i=Math.ceil(g/f);}}else{i=c;}return i;},_validateTotalItems:function(f){return b(f)&&f>0;},_validateItemsPerPage:function(f){return b(f)&&f>0;}},true);d.namespace("Paginator").Core=e;},"gallery-2012.04.26-15-49");YUI.add("lang/gallery-paginator-dev-preview-simple-view",function(b){b.Intl.add("paginator-simple-view","",{first:"first",last:"last",next:"next",previous:"previous"});},"gallery-2012.04.26-15-49");YUI.add("lang/gallery-paginator-dev-preview-simple-view_en",function(b){b.Intl.add("paginator-simple-view","en",{first:"first",last:"last",next:"next",previous:"previous"});},"gallery-2012.04.26-15-49");YUI.add("gallery-paginator-dev-preview-simple-view",function(e){var n=e.ClassNameManager.getClassName,f="paginator",g="page",i=".",b=n(f,"first",g),c=n(f,"last",g),m=n(f,"next",g),h=n(f,"previous",g),l=n(f,g),d=n(f,"pages"),o=n(f,"page","item"),k=n(f,"current",g),j="yui3-page",p={};p[i+b]=p[i+c]=p[i+m]=p[i+h]=p[i+l]={click:"_onPageLinkClick"};e.Paginator.SimpleView=e.Base.create(f,e.View,[],{render:function(){this.get("container").setContent(this._createHTML());this._bindUI();},_bindUI:function(){if(!this._changeHandles){this._changeHandles=this.get("host").after(["pageChange","totalItemsChange","itemsPerPageChange"],this.render,this);}},_createHTML:function(){var s=e.merge(this.get("strings"),{firstClass:b,lastClass:c,nextClass:m,previousClass:h,pageClass:l,pagesClass:d,itemClass:o,currentClass:k}),r=/\{(\w+)(?:\s+(\w+))?\}/g,q=e.Paginator.SimpleView.Formatter,u=this;function t(v,w,z){var y=q[w],x=s[w];if(y){x=y.apply(u,arguments).replace(r,t);}return x;}return this.get("template").replace(r,t);},events:p,destructor:function(){if(this._changeHandles){this._changeHandles.detach();delete this._changeHandles;}},_onPageLinkClick:function(r){var q=+r.currentTarget.getData(j);r.preventDefault();this.get("host").set("page",q,{originEvent:r});}},{Formatter:{pageLinks:function(z,r,B){var C=this.get("host"),s=C.get("pages"),A=Math.min(this.get("pageLinks"),s),w=C.get("page"),q=Math.max(1,Math.ceil(w-(A/2))),t=Math.min(s,q+A-1),y=A-(t-q+1),x,u,v;q=Math.max(1,q-y);x='<ol start="'+q+'" class="{pagesClass}">';for(u=q,v=q+A;u<v;++u){x+='<li class="{itemClass}">{pageLink '+u+"}</li>";}x+="</ol>";return x;},pageLink:function(x,q,u){var y=this.get("host"),t=y.get("page"),r=y.get("pages"),w=this.get("strings."+u)||u,v=this.get("urlFormatter"),s=isFinite(+u)?"{pageClass}":"{"+u+"Class}";u=(u==="first")?1:(u==="last")?r:(u==="next")?Math.min(r,t+1):(u==="previous")?Math.max(1,t-1):u;if(t==u){s+=" {currentClass}";}return e.Lang.sub(this.get("pageLinkTemplate"),{page:u,label:w,linkClass:s,url:v?v.call(this,+u):"#"});}},ATTRS:{host:{},pageLinks:{value:7},template:{value:"{pageLink first}{pageLink previous}{pageLinks}{pageLink next}{pageLink last}"},pageLinkTemplate:{value:'<a href="{url}" class="{linkClass}" data-'+j+'="{page}">{label}</a>'},strings:{valueFn:function(){return e.Intl.get("paginator-simple-view");}}}});},"gallery-2012.04.26-15-49",{requires:["view","intl","gallery-paginator-dev-preview-core"]});YUI.add("gallery-paginator-dev-preview-base",function(b){b.Paginator.Base=b.Base.create("paginator",b.Widget,[b.Paginator.Core],{initializer:function(){this.publish("renderView",{defaultFn:b.bind("_defRenderViewFn",this)});},renderUI:function(){var d=this.get("view"),c=b.merge(this.getAttrs(),(this.get("viewConfig")||{}),{host:this,container:this.get("contentBox")});if(d){this.view=new d(c);}},syncUI:function(){if(this.view){this.fire("renderView",{view:this.view});}},_defRenderViewFn:function(c){if(c.view&&c.view.render){c.view.render();}},_validateView:function(c){return c===null||(b.Lang.isFunction(c)&&c.prototype.render);}},{ATTRS:{view:{value:b.Paginator.SimpleView,validator:"_validateView"},viewConfig:{}}});b.Paginator=b.mix(b.Base.create("paginator",b.Paginator.Base,[]),b.Paginator);},"gallery-2012.04.26-15-49",{requires:["base-build","gallery-paginator-dev-preview-core","gallery-paginator-dev-preview-simple-view"]});a.use("gallery-paginator-dev-preview-core","lang/gallery-paginator-dev-preview-simple-view","lang/gallery-paginator-dev-preview-simple-view_en","gallery-paginator-dev-preview-simple-view","gallery-paginator-dev-preview-base");},"gallery-2012.04.26-15-49",{requires:["base-build","widget","view","intl"]});