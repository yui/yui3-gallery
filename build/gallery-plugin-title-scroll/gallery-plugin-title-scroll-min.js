YUI.add("gallery-plugin-title-scroll",function(a){a.Plugin.TitleScroll=a.Base.create("title-scroll",a.Plugin.Base,[],{_timer:new a.Timer(),_originalTitle:"",_newTitle:"",initializer:function(){this._captureOriginal();this._timer.set("callback",a.bind(this._scrollTitle,this));},start:function(){this._captureOriginal();this._newTitle=this._normalize(this._originalTitle+this._getWhiteSpace());this._timer.set("length",this.get("speed"));if(this.get("scrollOnce")){this._timer.set("repeatCount",this._newTitle.length);}this._timer.start();return this;},stop:function(b){this._timer.stop();if(b){this._setTitle(this._originalTitle);}return this;},_normalize:function(b){return b.replace(/ /gi,String.fromCharCode(160));},_getWhiteSpace:function(){var b,c=this.get("whiteSpace")||1,d="";for(b=0;b<c;b++){d+=" ";}return d;},_captureOriginal:function(){this._originalTitle=this.get("host").get("title");},_scrollTitle:function(b){var c=this.get("direction")=="right"?this._newTitle.slice(this._newTitle.length-1)+this._newTitle.slice(0,this._newTitle.length-1):this._newTitle.slice(1)+this._newTitle.slice(0,1);this._newTitle=c;this._setTitle(c);},_setTitle:function(b){this.get("host").set("title",b);}},{NS:"scroll",ATTRS:{whiteSpace:{value:1},direction:{value:"left",validator:function(b){b=b.toString().toLowerCase();if(b==="left"||b==="right"){return true;}return false;}},speed:{value:200},scrollOnce:{value:false}}});},"gallery-2011.03.11-23-49",{requires:["plugin","gallery-timer"]});