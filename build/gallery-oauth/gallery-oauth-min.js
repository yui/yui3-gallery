YUI.add("gallery-oauth",function(d){var a="http://oauth.googlecode.com/svn/code/javascript/",c=["oauth","sha1"],b=0;if(!YUI.Env.oauthLoaded){d.each(c,function(e){var f=a+e+".js";d.Get.script(f,{onSuccess:function(){b++;if(b===c.length){YUI.Env.oauthLoaded=true;d.oAuth.fire();}}});});}d.namespace("oAuth");d.oAuth={fire:function(){d.each(d.oAuth._items,function(f,e){f();delete d.oAuth._items[e];});},ready:function(e){if(YUI.Env.oauthLoaded){e();}else{d.oAuth._items.push(e);}},_items:[],signURL:function(n,j,f){var k={consumerSecret:j,tokenSecret:""},l="",h="",e="",g="",i="",o,m,q,p={action:f,method:"GET",parameters:[["oauth_version","1.0"],["oauth_consumer_key",n]]};OAuth.setTimestampAndNonce(p);OAuth.SignatureMethod.sign(p,k);e=OAuth.getParameterMap(p);h=OAuth.decodeForm(OAuth.SignatureMethod.getBaseString(p));if(e.parameters){d.each(e.parameters,function(r){d.each(r,function(s){if(s=="oauth_signature"){g=r[1];}});});}q=h[2][0].split("&");q.push("oauth_signature="+encodeURIComponent(g));q.sort(function(s,r){if(s[0]<r[0]){return -1;}if(s[0]>r[0]){return 1;}if(s[1]<r[1]){return -1;}if(s[1]>r[1]){return 1;}return 0;});d.each(q,function(s,r){i+=q[r]+"&";});l=h[1][0]+"?"+i.slice(0,i.length-1);return l;}};if(d.YQLRequest){d.YQLRequest.prototype._send=d.YQLRequest.prototype.send;d.YQLRequest.prototype.send=function(){if(this._params.key&&this._params.secret){if(!this._opts){this._opts={};}this._opts.key=this._params.key;this._opts.secret=this._params.secret;delete this._params.key;delete this._params.secret;if(this._params.base){this._opts.base=this._params.base;delete this._params.base;}if(d.Lang.isFunction(this._callback)){this._callback={on:{success:this._callback}};}this._callback.format=d.bind(function(e,f){var e=d.oAuth.signURL(this._opts.key,this._opts.secret,(e+"&callback="+f));return e;},this);}this._send();};}},"gallery-2011.04.27-17-14",{optional:["yql"],requires:["jsonp"]});