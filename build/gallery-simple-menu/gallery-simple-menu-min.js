YUI.add("gallery-simple-menu",function(a){var b="menu-active",d="menu-visible",i="role",f="aria-hidden",e=0,g=1,c=(a.config.win.hasOwnProperty&&a.config.win.hasOwnProperty("ontouchstart"))?"touchstart":"mousedown";function h(j){this._link=j.host;this._menu=this._link.next();this._link.set("aria-haspopup","true");this._menu.setAttrs({"role":"menu","aria-labelledby":this._link.getAttribute("id"),"aria-hidden":"true"});this._menu.all("ul,li").set(i,"presentation");this._menu.all("a").set(i,"menuitem");this._menu.plug(a.Plugin.NodeFocusManager,{descendants:"a",keys:(a.UA.gecko?{previous:"press:38",next:"press:40"}:{previous:"down:38",next:"down:40"})});this._link.on("click",function(k){k.halt();this.toggle();},this);this._menu.on("keydown",function(k){if(k.keyCode===27){k.halt();this.hide();}},this);a.one(document).on(c,function(l){var k=l.target;if(k!==this._link&&!this._menu.contains(k)){this.hide();}},this);}h.prototype={_state:g,show:function(){if(this._state!==e){this._link.addClass(b);this._menu.addClass(d);this._menu.set(f,false);this._menu.focusManager.focus();this._state=e;}},hide:function(){if(this._state!==g){this._link.removeClass(b);this._menu.removeClass(d);this._menu.set(f,true);this._link.focus();this._state=g;}},toggle:function(){this[this._state===g?"show":"hide"]();}};h.NAME="SimpleMenu";h.NS="simplemenu";a.namespace("Plugin").SimpleMenu=h;},"@VERSION@",{requires:["node-focusmanager"]});