YUI.add("gallery-bt-page",function(e,t){var n="addChild",r,i=[];e.Bottle.Page=e.Base.create("btpage",e.Widget,[e.WidgetParent,e.WidgetPosition,e.WidgetStack,e.Bottle.PushPop],{initializer:function(){i.push(r=this),this.get("nativeScroll")&&this.get("boundingBox").addClass("btp-native"),this._bpgEventHandlers=new e.EventHandle([this.after(n,this._afterPGAddChild)])},destructor:function(){this._bpgEventHandlers.detach(),delete this._bpgEventHandlers},_afterPGAddChild:function(e){e.child.set("nativeScroll",this.get("nativeScroll"))},resize:function(){var t=e.Bottle.Device.getBrowserWidth(),n=e.Bottle.Device.getBrowserHeight();if(this.get("width")===t&&this.get("height")===n)return;if(this.get("nativeScroll")){e.fire("btSyncScreen");return}this.setAttrs({width:t,height:n})}},{ATTRS:{nativeScroll:{value:!0,validator:e.Lang.isBool,writeOnce:"initOnly"}},HTML_PARSER:{nativeScroll:function(t){var n=t.getData("native-scroll");return n==="false"?!1:n==="true"?!0:e.Bottle.Device.getTouchSupport()}},getInstances:function(){return i},scrollTo:function(e,t){var n=r?r.topScroll():null,i;r&&!r.get("nativeScroll")?(e.getY&&(i=n.get("scrollY"),n.scrollTo(0,0,0),e=e.getY()-n.get("boundingBox").getY(),n.scrollTo(0,i,0)),n.scrollTo(0,e,t)):window.scrollTo(0,e.getY?e.getY():e)},getCurrent:function(){return r},getScrollY:function(){return e.Bottle.get("nativeScroll")||!r?e.DOM.docScrollY():r.topScroll().get("scrollY")},onScroll:function(t){if(!t)return;e.Bottle.get("nativeScroll")?e.on("scroll",t):r.topScroll().on("scrollEnd",t)},updateContent:function(){var e=r.topScroll();e&&(e._uiDimensionsChange(),e&&e._maxScrollY&&e.scrollTo(e.get("scrollX"),Math.min(e.get("scrollY"),e._maxScrollY)))}})},"gallery-2013.02.27-21-03",{requires:["widget-position","widget-stack","gallery-bt-pushpop"]});
