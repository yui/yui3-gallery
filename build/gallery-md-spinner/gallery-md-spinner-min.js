YUI.add("gallery-md-spinner",function(b){var l=b.Lang,n="contentBox",k="value",i="Change",j="input",g="inputError",p="up",m="down",c="ui",a="parser",f="formatter",o="min",d="max",h="wraparound",e="wrapped";b.Spinner=b.Base.create("spinner",b.Widget,[b.MakeNode],{renderUI:function(){this.get(n).append(this._makeNode());this._locateNodes();},_afterBoundingBoxMousedown:function(t){var s=t.target,q,v=false,u=this.get(k),r=this.get("minorStep");if(s.hasClass(this._classNames.up)){this.set(k,u+r);q=1;v=true;}else{if(s.hasClass(this._classNames.down)){this.set(k,u-r);q=-1;v=true;}}if(v){this._setMouseDownTimers(q,r);}},_defaultCB:function(){return null;},_afterDocumentMouseup:function(){this._clearMouseDownTimers();},_onDirectionKey:function(r){r.preventDefault();var s=this.get(k),q=this.get("minorStep"),t=this.get("majorStep");switch(r.charCode){case 38:s+=q;break;case 40:s-=q;break;case 33:s+=t;break;case 34:s-=t;break;}this.set(k,s);},_afterInputChange:function(){var r=this._inputNode,q=this.get(a)(r.get(k));if(this._validateValue(q)){this.set(k,q);}else{r.focus();r.addClass(this._classNames[g]);b.later(1000,this,function(){r.removeClass(this._classNames[g]);});}},parser:function(q){return parseInt(q,10);},formatter:function(q){return q;},_setMouseDownTimers:function(q,r){this._mouseDownTimer=b.later(500,this,function(){this._mousePressTimer=b.later(100,this,function(){this.set(k,this.get(k)+(q*r));},null,true);});},_wrap:function(s){var q=this.get(d),r=this.get(o),t=s.newVal;if(t>q){t-=q-r+1;this.fire(e,{prevVal:s.newVal,newVal:t});}else{if(t<r){t+=q-r+1;this.fire(e,{prevVal:s.newVal,newVal:t});}}s.newVal=t;},_clearMouseDownTimers:function(){if(this._mouseDownTimer){this._mouseDownTimer.cancel();this._mouseDownTimer=null;}if(this._mousePressTimer){this._mousePressTimer.cancel();this._mousePressTimer=null;}},_uiSetValue:function(q,r){if(r===c){return;}this._inputNode.set(k,this.get(f)(q));},_uiSetWraparound:function(q){if(q){this._wrapListener=this.on(k+i,this._wrap,this);}else{if(this._wrapListener){this._wrapListener.detach();}}},_validateValue:function(q){return q>=this.get(o)&&q<=this.get(d);}},{_TEMPLATE:['<input type="text" title="{s input}" class="{c input}">','<button type="button" title="{s up}" class="{c up}"></button>','<button type="button" title="{s down}" class="{c down}"></button>'].join("\n"),_CLASS_NAMES:[j,p,m,g],_EVENTS:{boundingBox:[{type:"key",fn:"_onDirectionKey",args:((!b.UA.opera)?"down:":"press:")+"38, 40, 33, 34"},"mousedown"],document:"mouseup",input:"change"},ATTRS:{min:{value:0},max:{value:100},value:{value:0,validator:"_validateValue"},minorStep:{value:1},majorStep:{value:10},tabIndex:{value:0},strings:{value:{input:"Press the arrow up/down keys for minor increments, page up/down for major increments.",up:"Increment",down:"Decrement"}},formatter:{valueFn:function(){return this.formatter;},validator:l.isFunction},parser:{valueFn:function(){return this.parser;},validator:l.isFunction},wraparound:{value:false,validator:l.isBoolean}},_ATTRS_2_UI:{BIND:[k,h],SYNC:[k,h]},HTML_PARSER:{value:function(q){var r=parseInt(q.get(k),10);return l.isNumber(r)?r:null;}}});},"gallery-2011.10.27-17-08",{skinnable:true,requires:["base-build","event-key","widget","node-focusmanager","gallery-makenode"]});