YUI.add("gallery-split-desktop",function(b){var af="px",B="#",W="HTML",d="width",J="height",ai="backgroundImage",l="backgroundPosition",i="assets/",m="/gallery-split-desktop/",M=960,I=150,r=700,E=30,p="drag-here.png",t=i+p,U=162,y=7,aa="center-handle.png",k=null,a="handle",C="ea_",z='id="',O='" ',g="<img ",Z='src="',o='" ',s="/>",v=B+"99cccc",D="pix-blue.gif",A=i+D,ab={wrapper:"page_wrapper",crown:"crown",nw:"nw",nwbody:"body_nw",ne:"ne",borders:"borders",nebody:"body_ne",main:"main"},T="pageWidth",S="bordersColor",F="dragHereImg",j="pathToImages",Q="borderPixImg",x="handleImg",f="dragHereLeft",c="dragHereTop",ae="mainHeight",q="crownHeight",G="prefix",ad=B+C+ab.ne,X=B+C+ab.nwbody,L=B+C+ab.main,e=B+C+ab.wrapper,K=null,u=null,n=null,H=null,ac=null,ag=false,ah=0,N=0,V=0,P=5;function R(h){R.superclass.constructor.apply(this,arguments);}R.NAME="splitDesktop";R.ATTRS={boundingBox:{value:W},contentBox:{value:"page_wrapper"},pageWidth:{value:M+af},bodyHeight:{value:r+af},dragHereImg:{value:p},pathToImages:{value:i},pathToStyles:{value:i},pointerLeftPos:{value:U+af},pointerTopPos:{value:y+af},handleImage:{value:aa},handleId:{value:a},dragHereImgPath:{value:t},defaultPrefix:{value:C},mainDivId:{value:ab.main},bordersColor:{value:v},borderPixImg:{value:A},markupIsValidated:{value:null},handleImg:{value:aa},dragHereLeft:{value:U+af},dragHereTop:{value:y+af},mainHeight:{value:r+af},crownHeight:{value:E+af},prefix:{value:C},baseUrl:{getter:"_getBaseUrl",lazyAdd:false}};b.extend(R,b.Widget,{initializer:function(w){var ak=this.get("baseUrl"),Y,h=ak+i+aa;k=g+z+C+a+O+Z+h+o+s;for(Y in w){if(w.hasOwnProperty(Y)){switch(Y){case T:M=this.get(Y);var aj=M-I;b.one(B+C+ab.wrapper).setStyle("width",M);b.one(B+C+ab.ne).setStyle("width",aj);break;case S:var al=this.get(S);b.one(B+C+ab.borders).setStyle("borderLeftColor",al).setStyle("borderBottomColor",al);b.one(B+C+ab.wrapper).setStyle("borderColor",al);break;case F:case j:case Q:case x:t=this.get(j)+this.get(F);b.one(B+C+ab.main).setStyle(ai,'url("'+t+'")');A=this.get(j)+this.get(Q);if(Y===Q||Y===j){b.one(B+C+ab.nw).setStyle(ai,A);}if(Y===x||Y===j){C=this.get(G);h=this.get(j)+this.get(x);k=g+z+C+a+O+Z+h+o+s;}break;case f:C=this.get(G);b.one(B+C+ab.main).setStyle(l,this.get(f)+af+" "+this.get(c)+af);break;case c:C=this.get(G);b.one(B+C+ab.main).setStyle(l,this.get(f)+af+" "+this.get(c)+af);break;case ae:C=this.get(G);b.one(B+C+ab.main).setStyle(J,this.get(ae)+af);break;case q:C=this.get(G);b.one(B+C+ab.ne).setStyle(J,this.get(q)+af);break;case G:C=this.get(G);ad=B+C+ab.ne;X=B+C+ab.nwbody;L=B+C+ab.main;e=B+C+ab.wrapper;k=g+z+C+a+O+Z+h+o+s;break;}}}this.publish("enterCrown",{defaultFn:this._defEnterCrownFn,bubbles:false});this.publish("enterMain",{defaultFn:this._defEnterMainFn,bubbles:false});this.publish("enterSecondary",{defaultFn:this._defEnterSecondaryFn,bubbles:false});this.publish("enterResizer",{defaultFn:this._defEnterResizerFn,bubbles:false});},renderUI:function(){K=b.one(ad);H=b.Node.create(k,K);K.append(H);ac=new b.DD.Drag({node:B+C+a});ac.plug(b.Plugin.DDConstrained,{constrain2node:e});},bindUI:function(){ac.on("drag:start",this._onDragStart);ac.on("drag:drag",this._onDragDrag);ac.on("drag:end",this._onDragEnd);},syncUI:function(){b.one(W).setStyle("display","block");},_onDragStart:function(h){n=b.one(L);switch(ag){case false:n.setStyle(ai,"none");case true:V=parseInt(K.getStyle(J).toString().replace(af,""),10);N=parseInt(K.getStyle(d).toString().replace(af,""),10);ag=true;break;}},_onDragDrag:function(Y){u=b.one(X);K=b.one(ad);var h=parseInt(Y.info.offset[0],10),w=parseInt(Y.info.offset[1],10);ah=N-h;K.setStyle(d,ah);K.setStyle(J,V+w);u.setStyle(d,M-ah+P);u.setStyle(J,V+w);},_onDragEnd:function(h){H.setStyle("left",0);H.setStyle("bottom",0);},_defEnterCrownFn:function(h){this.fire("enterCrown");},_defEnterMainFn:function(h){this.fire("enterMain");},_defEnterSecondaryFn:function(h){this.fire("enterSecondary");},_defEnterResizerFn:function(h){this.fire("enterResizer");},_getBaseUrl:function(){if(b.config.modules){if(b.config.modules["gallery-split-desktop"]){if(b.config.modules["gallery-split-desktop"].gallery){return b.Env.base+b.config.modules["gallery-split-desktop"].gallery+"/build";}else{if(b.config.modules["gallery-split-desktop"].fullpath){var h=b.config.modules["gallery-split-desktop"].fullpath;return h.substring(0,h.lastIndexOf("/")+1);}else{if(b.config.modules.base){return b.config.modules.base;}}}}}else{if(b.config.gallery){return b.Env.base+b.config.gallery+"/build";}else{if(b.config.fullpath){var h=b.config.fullpath;return h.substring(0,lastIndexOf("/",h)+1);}else{return m;}}}}});b.namespace("sdt").SplitDesktop=R;},"gallery-2011.04.06-19-44",{requires:["widget","dd-constrain"]});