YUI.add("gallery-model-store",function(a){a.ModelStore=function(){return{_yuid:a.guid(),_lists:{},find:function(b,d){var c=this.getList(b,false);return c&&c.getById(d);},getList:function(c,d){var b=this,e;d=(d!==false);return b._lists[b._getModelName(c)]||(d&&b._createList(c));},toString:function(){return"ModelStore["+this._yuid+"]";},registerModel:function(b){var d=this.getList(b),c;c=d.add(b);return c;},unregisterAll:function(){a.each(this._lists,function(b){b.destroy();});this._lists={};},unregisterModel:function(b){var c=this.getList(b);c.remove(b,{"unregister":true});return b;},_createList:function(c){var b=this,d=b._getModelCtor(c),e=null;if(d){e=new a.ModelList({model:d});b._lists[d.NAME]=e;b._initList(e);}else{}return e;},_getModelCtor:function(b){var c=null;if(a.Lang.isString(b)){b=a.namespace(b);}if(b instanceof a.Model){c=b.constructor;}else{if(b.superclass&&b.superclass.constructor instanceof a.Model.constructor){c=b;}}return c;},_getModelName:function(b){var c=this._getModelCtor(b);return c?c.NAME:"unknown";},_initList:function(c){var b=this;c.store=true;c.on("error",function(d){});c.on("remove",function(d){if(!(d.unregister||d["delete"])){d.preventDefault();}else{}});return c;}};}();},"gallery-2012.04.18-20-14",{requires:["base","model","model-list"]});