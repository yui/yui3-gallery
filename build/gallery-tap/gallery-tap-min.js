YUI.add("gallery-tap",function(d){var b=("createTouch" in document),a={START:b?"touchstart":"mousedown",MOVE:b?"touchmove":"mousemove",END:b?"touchend":"mouseup",CANCEL:b?"touchcancel":"mousecancel",TAP:"tap"},e={ON:{START:"Y_TAP_ON_START_HANDLE",MOVE:"Y_TAP_ON_MOVE_HANDLE",END:"Y_TAP_ON_END_HANDLE",CANCEL:"Y_TAP_ON_CANCEL_HANDLE"},DELEGATE:{START:"Y_TAP_DELEGATE_START_HANDLE",MOVE:"Y_TAP_DELEGATE_MOVE_HANDLE",END:"Y_TAP_DELEGATE_END_HANDLE",CANCEL:"Y_TAP_DELEGATE_CANCEL_HANDLE"}};function c(h,g,i,f){g=i?g:[g.START,g.MOVE,g.END,g.CANCEL];d.each(g,function(j){var k=h[j];if(k){k.detach();h[j]=null;}});}d.Event.define(a.TAP,{on:function(h,g,f){g[e.ON.START]=h.on(a.START,this.touchStart,this,h,g,f);},detach:function(h,g,f){c(g,e.ON);},delegate:function(i,h,g,f){h[e.DELEGATE.START]=i.delegate(a.START,function(j){this.touchStart(j,i,h,g,true);},f,this);},detachDelegate:function(h,g,f){c(g,e.DELEGATE);},touchStart:function(l,k,j,i,h){var f=h?e.DELEGATE:e.ON,g={cancelled:false};if(l.button&&l.button===3){return;}g.node=h?l.currentTarget:k;g.startXY=b?[l.touches[0].pageX,l.touches[0].pageY]:[l.pageX,l.pageY];if(l.touches&&l.touches.length!==1){return;}j[f.MOVE]=k.once(a.MOVE,this.touchMove,this,k,j,i,h,g);j[f.END]=k.once(a.END,this.touchEnd,this,k,j,i,h,g);j[f.CANCEL]=k.once(a.CANCEL,this.touchMove,this,k,j,i,h,g);},touchMove:function(l,k,j,i,h,g){var f=h?e.DELEGATE:e.ON;c(j,[f.MOVE,f.END,f.CANCEL],true,g);g.cancelled=true;},touchEnd:function(f,h,m,n,j,g){var i=g.startXY,k=b?[f.changedTouches[0].pageX,f.changedTouches[0].pageY]:[f.pageX,f.pageY],l=j?e.DELEGATE:e.ON;c(m,[l.MOVE,l.END,l.CANCEL],true,g);if(Math.abs(k[0]-i[0])<1&&Math.abs(k[1]-i[1])<1){f.type=a.TAP;f.pageX=k[0];f.pageY=k[1];f.clientX=b?f.changedTouches[0].clientX:f.clientX;f.clientY=b?f.changedTouches[0].clientY:f.clientY;f.currentTarget=g.node;setTimeout(function(){n.fire(f);},0);}}});},"@VERSION@",{requires:["node-base","event-base","event-touch","event-synthetic"],skinnable:false});