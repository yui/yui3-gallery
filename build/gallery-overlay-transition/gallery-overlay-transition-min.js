YUI.add("gallery-overlay-transition",function(B){var A=B.Lang;B.Plugin.TransitionOverlay=B.Base.create("overlayTransitionPlugin",B.Plugin.Base,[],{_showing:false,_argsShow:null,_argsHide:null,initializer:function(C){this.doBefore("_uiSetVisible",this._uiAnimSetVisible);var D=this.get("host"),F=D.get("boundingBox"),E=this.get("duration"),G=this.get("easing");this.publish("start",{preventable:false});this.publish("end",{preventable:false});this._argsShow=B.merge({duration:E,easing:G},this.get("show"));this._argsHide=B.merge({duration:E,easing:G},this.get("hide"));F.on(["transition:start","transitionstart"],B.bind(function(H){this.fire("start",this._showing);if(this._showing){this._uiSetVisible(true);}},this));F.on(["transition:end","transitionend"],B.bind(function(H){this.fire("end",this._showing);if(!this._showing){this._uiSetVisible(false);}},this));if(this.get("styleOverride")){D.once("visibleChange",function(H){if(H.newVal&&!H.prevVal){this._applyDefaultStyle();}},this);}},destructor:function(){this._argsShow=this._argsHide=null;},_applyDefaultStyle:function(){var C=this.get("hide"),D=this.get("host"),E=D.get("boundingBox");if(!D.get("visible")){E.setStyles(C);}},_uiAnimSetVisible:function(D){var C=this.get("host");if(C.get("rendered")){this._showing=D;C.get("boundingBox").transition((D)?this._argsShow:this._argsHide);return new B.Do.Prevent("AnimPlugin prevented default show/hide");}},_uiSetVisible:function(D){var C=this.get("host");C.get("boundingBox").toggleClass(C.getClassName("hidden"),!D);}},{NS:"transitionPlugin",ATTRS:{duration:{value:0.25},easing:{value:"ease-in"},styleOverride:{value:true,validator:A.isBoolean},hide:{value:{opacity:0},setter:function(C){return B.merge(this.get("duration"),C);}},show:{value:{opacity:1},setter:function(C){return B.merge(this.get("duration"),C);}}}});},"gallery-2010.09.01-19-12",{requires:["plugin","overlay","event-custom","transition"]});