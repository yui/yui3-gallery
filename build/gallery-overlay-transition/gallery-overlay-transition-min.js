YUI.add("gallery-overlay-transition",function(a){YUI.add("gallery-overlay-transition",function(c){var b=c.Lang;c.Plugin.TransitionOverlay=c.Base.create("overlayTransitionPlugin",c.Plugin.Base,[],{_showing:false,_styleCache:{},initializer:function(d){this.doBefore("_uiSetVisible",this._uiAnimSetVisible);this._host=this.get("host");this._bb=this._host.get("boundingBox");this.publish("start",{preventable:false});this.publish("end",{preventable:false});if(this.get("styleOverride")){this._host.once("visibleChange",function(e){if(e.newVal&&!e.prevVal){this._applyDefaultStyle();}},this);}},destructor:function(){this._host=this._bb=null;},_applyDefaultStyle:function(){var d=this.get("hide"),e=this._bb;c.each(d,c.bind(function(f,g){this._styleCache[g]=e.getComputedStyle(g);},this));if(!this._host.get("visible")){e.setStyles(d);}},_uiAnimSetVisible:function(f){var d=this._host,e;if(d.get("rendered")){this._showing=f;this.fire("start",f);if(f){this._uiSetVisible(true);}this._bb.transition((f)?this.get("show"):this.get("hide"),c.bind(function(){this.fire("end",f);if(!f){this._uiSetVisible(false);}},this));return new c.Do.Prevent("AnimPlugin prevented default show/hide");}},_uiSetVisible:function(d){this._bb.toggleClass(this._host.getClassName("hidden"),!d);}},{NS:"transitionPlugin",ATTRS:{duration:{value:0.25},styleOverride:{value:true,validator:b.isBoolean},hide:{value:{opacity:0},setter:function(d){return c.merge(this.get("duration"),d);}},show:{value:{opacity:1},setter:function(d){return c.merge(this.get("duration"),d);}}}});},"gallery-2011.03.23-22-20",{requires:["base-build","plugin","event-custom","transition"]});},"gallery-2011.03.23-22-20",{requires:["plugin","overlay","event-custom","transition"]});