YUI.add("gallery-overlay-transition",function(b){var a=b.Lang;b.Plugin.TransitionOverlay=b.Base.create("overlayTransitionPlugin",b.Plugin.Base,[],{_showing:false,_styleCache:false,initializer:function(d){var e=this,c={preventable:false,emitFacade:false,bubbles:false};e.doBefore("_uiSetVisible",e._uiAnimSetVisible);e._host=e.get("host");e._bb=e._host.get("boundingBox");e.publish({start:c,end:c});if(e.get("styleOverride")){e._styleCache={};e._host.once("visibleChange",function(f){(f.newVal&&!f.prevVal)&&e._applyDefaultStyle();},e);}},destructor:function(){this._host=this._bb=null;},_applyDefaultStyle:function(){var c=this.get("hide"),d=this._bb;b.Object.each(c,function(e,g){var f=d.getComputedStyle(g);(f!==d)&&(this._styleCache[g]=f);},this);(!this._host.get("visible"))&&d.setStyles(c);},_uiAnimSetVisible:function(e){var c=this._host,d;if(c.get("rendered")){this._showing=e;this.fire("start",e);e&&this._uiSetVisible(true);this._bb.transition((e)?this.get("show"):this.get("hide"),b.bind(function(){this.fire("end",e);(!e)&&this._uiSetVisible(false);},this));return new b.Do.Prevent("AnimPlugin prevented default show/hide");}},_uiSetVisible:function(c){this._bb.toggleClass(this._host.getClassName("hidden"),!c);},_optionsMerge:function(c){return b.merge(this.getAttrs(["duration","easing"]),c);}},{NS:"transitionPlugin",ATTRS:{duration:{value:0.25},easing:{value:"ease-in"},styleOverride:{value:true,validator:a.isBoolean},hide:{value:{opacity:0},setter:"_optionsMerge"},show:{value:{opacity:1},setter:"_optionsMerge"}}});},"gallery-2011.07.13-21-54",{requires:["plugin","base-build","event-custom","transition"]});