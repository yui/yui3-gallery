YUI.add("gallery-checkboxgroups",function(e,t){"use strict";function n(t){this.cb_list=new e.NodeList(""),this.ev_list=[],this.splice(0,0,t),this.ignore_change=!1}function r(e,t){this.checkboxChanged(e.target)}function i(e){this.direction=s.SLIDE_UP,i.superclass.constructor.call(this,e),this.allUnchecked()&&this.cb_list.item(0).set("checked",!0)}function o(e,t){if(e.size()<2)return t;var n=t;do n===0?this.direction=s.SLIDE_DOWN:n==e.size()-1&&(this.direction=s.SLIDE_UP),this.direction==s.SLIDE_UP?n=Math.max(0,n-1):n=Math.min(e.size()-1,n+1);while(e.item(n).get("disabled"));return n}function u(e){u.superclass.constructor.call(this,e)}function a(t,n){this.select_all_cb=e.one(t),this.select_all_cb.on("click",f,this),a.superclass.constructor.call(this,n),this.enforceConstraints(this.cb_list,0)}function f(){var e=this.select_all_cb.get("checked"),t=this.cb_list.size();for(var n=0;n<t;n++){var r=this.cb_list.item(n);r.get("disabled")||r.set("checked",e)}}function l(t,n){this.nodes=e.Lang.isString(n)?e.all(n):n,l.superclass.constructor.call(this,t),this.enforceConstraints(this.cb_list,0)}n.prototype={getCheckboxList:function(){return this.cb_list},splice:function(t,n,i){for(var s=t;s<n;s++)this.ev_list[s].detach();e.Lang.isString(i)&&(i=e.all(i)),i instanceof e.NodeList?i.each(function(e,i){var s=t+i,o=i===0?n:0;this.cb_list.splice(s,o,e),this.ev_list.splice(s,o,e.on("click",r,this))},this):i&&i._node?(this.cb_list.splice(t,n,i),this.ev_list.splice(t,n,i.on("click",r,this))):(this.cb_list.splice(t,n),this.ev_list.splice(t,n))},checkboxChanged:function(t){if(this.ignore_change||this.cb_list.isEmpty()||this.allDisabled())return;t=e.one(t),this.cb_list.each(function(e,n){e==t&&this.enforceConstraints(this.cb_list,n)},this)},enforceConstraints:function(e,t){},allChecked:function(){var e=this.cb_list.size();for(var t=0;t<e;t++){var n=this.cb_list.item(t);if(!n.get("disabled")&&!n.get("checked"))return!1}return!0},allUnchecked:function(){var e=this.cb_list.size();for(var t=0;t<e;t++)if(this.cb_list.item(t).get("checked"))return!1;return!0},allDisabled:function(){var e=this.cb_list.size();for(var t=0;t<e;t++)if(!this.cb_list.item(t).get("disabled"))return!1;return!0}},e.CheckboxGroup=n;var s={SLIDE_UP:0,SLIDE_DOWN:1};e.extend(i,n,{enforceConstraints:function(e,t){if(e.item(t).get("checked")||!this.allUnchecked()){this.direction=s.SLIDE_UP;return}var n=o.call(this,e,t);n==t&&(n=o.call(this,e,t)),this.ignore_change=!0,e.item(n).set("checked",!0),this.ignore_change=!1}}),e.AtLeastOneCheckboxGroup=i,e.extend(u,n,{enforceConstraints:function(e,t){if(!e.item(t).get("checked"))return;var n=e.size();for(var r=0;r<n;r++)r!=t&&e.item(r).set("checked",!1)}}),e.AtMostOneCheckboxGroup=u,e.extend(a,n,{getSelectAllCheckbox:function(){return this.select_all_cb},toggleSelectAll:function(){this.select_all_cb.set("checked",!this.select_all_cb.get("checked")),f.call(this)},enforceConstraints:function(e,t){this.select_all_cb.set("checked",this.allChecked())}}),e.SelectAllCheckboxGroup=a,e.extend(l,n,{enforceConstraints:function(e,t){var n=this.allUnchecked();this.nodes.each(function(e){e.set("disabled",n)})}}),e.EnableIfAnyCheckboxGroup=l},"@VERSION@",{requires:["node-base"]});
