YUI.add("gallery-itsacheckbox",function(e,t){var n=e.Lang,r=e.Array,i="yui3-itsacheckbox",s="readonly",o=i+"-"+s,u="itsa-widget-parent",a=i+"-loading",f=i+"-rerender",l=i+"-hidden",c=i+"-created-checkbox",h="option",p=h+"wrapper",d=h+"container",v=h+"on",m=h+"btn",g=h+"off",y=e.UA.ie>0,b="boundingBox",w="boolean",E="string",S="width",x="height",T="offsetWidth",N="offsetHeight",C="borderRadius",k="paddingTop",L="paddingBottom",A="paddingLeft",O="paddingRight",M="marginLeft",_="valuechange",D="focussed",P="px",H="left",B="disabled",j="checked",F="Change",I="unselectable",q='<div class="',R="</div>",U="true",z="onenter",W="submit"+z,X="primarybtn"+z,V="data-",$=V+W,J=V+X,K=V+"focusnext"+z,Q='<input id="{id}" type="checkbox" class="'+c+'"{'+s+"}{"+j+"}{"+B+"}>",G="{htmlcheckbox}"+q+p+'">'+q+d+'"{'+I+"}>"+q+v+'">{'+v+"}"+R+q+g+'">{'+g+"}"+R+q+m+'">'+R+R+R,Y=function(e){return parseInt(e,10)};e.ITSACheckbox=e.Base.create("itsacheckbox",e.Widget,[],{CONTENT_TEMPLATE:null,initializer:function(){var e=this,t=e.get(b);t.addClass(a),e.get(s)&&t.addClass(o),e._eventhandlers=[]},renderUI:function(){var t=this,n=t.get(b),r;r=t.get("srcNode"),r&&r.get("tagName")==="INPUT"&&r.getAttribute("type")==="checkbox"&&(t._src=e.one(r),r.addClass(l),n.insert(r,"before")),t._parentNode&&t._parentNode.addClass(u),t._setTemplate()},bindUI:function(){var t=this,n=t.get(b),r=t._parentNode||n,i=r.getDOMNode(),u;t.dd=u=(new e.DD.Drag({node:t._containerNode,lock:t.get(B)||t.get(s)})).plug(e.Plugin.DDConstrained,{constrain:t._wrapperNode}),u.on("drag:end",function(e){var n=e.pageX-t.get(b).getX(),r=n>-t._changePosition,i=t.get(j);r!==i?t.set(j,r):t._goFinal(i)}),t._eventhandlers.push(t.after(j+F,function(e){var n=e.newVal;t._goFinal(n),t.fire(_,e),t._src&&(n?t._src.setAttribute(j,j):t._src.removeAttribute(j))})),t._eventhandlers.push(t.after([v+F,g+F],e.bind(t._setDimensions,t))),t._eventhandlers.push(t.after(B+F,function(n){var r=n.newVal,i=e.merge(n),o;t._forceCheckedVal=!0,o=t.get(j),t._forceCheckedVal=!1,u.set("lock",r||t.get(s)),t._goFinal(o,!0),r?(i.newVal=null,i.prevVal=o):(i.newVal=o,i.prevVal=null),t.fire(_,i),t._src&&(r?t._src.setAttribute(B,B):t._src.removeAttribute(B))})),t._eventhandlers.push(t.after(s+F,function(e){var r=e.newVal,i;t._forceCheckedVal=!0,i=t.get(j),t._forceCheckedVal=!1,n.toggleClass(o,r),u.set("lock",r||t.get(B)),t._goFinal(i,!0),t._src&&(r?t._src.setAttribute(s,s):t._src.removeAttribute(s))})),t._eventhandlers.push(t._containerNode.on("tap",function(){t.focus(),t.toggle()})),t._eventhandlers.push(r.on("blur",function(){t.blur()})),t._eventhandlers.push(t.on(W+F,function(e){e.newVal?r.setAttribute($,U):r.removeAttribute($)})),t._eventhandlers.push(t.on(X+F,function(e){e.newVal?r.setAttribute(J,U):r.removeAttribute(J)})),t._eventhandlers.push(e.on("keydown",function(n){if(t.get(D)||i===e.config.doc.activeElement){var r=n.keyCode;n.preventDefault(),r===37||r===40?t.set(j,!1):r===39||r===38?t.set(j,!0):r===32&&t.toggle()}}))},check:function(){var e=this;return e.set(j,!0),e.getValue()},getValue:function(){return this.get(j)},syncUI:function(){var e=this;e._setDimensions()},toggle:function(){var e=this,t=e.get(j),n;return t!==null&&(e.set(j,!t),n=e.get(j)),n!==t},uncheck:function(){var e=this;return e.set(j,!1),e.getValue()},destructor:function(){var e=this,t=e.dd,n=e._createdSrc,r=e._src;e._destroyAllNodes=!0,t&&t.destroy(),e._clearEventhandlers(),n?n.destroy():r&&r.removeClass(l),e._parentNode&&e._parentNode.removeClass(u)},_clearEventhandlers:function(){r.each(this._eventhandlers,function(e){e.detach()})},_goFinal:function(e,t){var n=this;e?n._goRight(!0,t):n._goLeft(!0,t)},_goLeft:function(e,t){var n=this,r=n._containerNode;if(!n.get(B)&&!n.get(s)||t)e?n._moveAnimated(0):r.setStyle(H,"0")},_goRight:function(e,t){var n=this,r=n._containerNode;if(!n.get(B)&&!n.get(s)||t)e?n._moveAnimated(n._onPosition):r.setStyle(H,n._onPosition+P)},_moveAnimated:function(e){var t=this;t._containerNode.transition({easing:"ease-in",duration:t.get("duration"),left:e+P})},_setDimensions:function(){var e=this,t=e.get(b),n,r,i,s,o,u,a,l,c,h,p,d,m,y,w,E,_,D,B,F,I,q;n=e._optionBtnNode,r=e._optionOnNode,i=e._optionOffNode,E=e._wrapperNode,c=e._containerNode,t.addClass(f),e.get("rendered")&&(I=!0,r.set("text",e.get(v)),i.set("text",e.get(g))),c.setStyle(S,""),r.setStyle(S,""),i.setStyle(S,""),n.setStyle(S,""),c.setStyle(x,""),r.setStyle(x,""),i.setStyle(x,""),n.setStyle(x,""),r.setStyle(A,""),r.setStyle(O,""),r.setStyle(k,""),r.setStyle(L,""),i.setStyle(A,""),i.setStyle(O,""),i.setStyle(k,""),i.setStyle(L,""),h=r.get(N),p=i.get(N),u=Math.max(h,p),s=Math.floor(u/2),o=u-s,B=Y(n.getStyle("borderTopWidth")),F=Y(n.getStyle("borderBottomWidth")),a=u-B-F+P,n.setStyle(x,a),r.setStyle(k,Y(r.getStyle(k))+P),r.setStyle(L,Y(r.getStyle(L))+P),i.setStyle(k,Y(i.getStyle(k))+P),i.setStyle(L,Y(i.getStyle(L))+P),r.setStyle(x,u-Y(r.getStyle(k))-Y(r.getStyle(L))+P),i.setStyle(x,u-Y(i.getStyle(k))-Y(i.getStyle(L))+P),r.setStyle(O,Y(r.getStyle(O))+s+P),i.setStyle(A,Y(i.getStyle(A))+o+P),r.setStyle(A,Y(r.getStyle(A))+P),i.setStyle(O,Y(i.getStyle(O))+P),m=r.get(T),y=i.get(T),w=Math.max(m,y),d=m-Y(r.getStyle(A))-Y(r.getStyle(O)),r.setStyle(S,d+(w-m)+P),d=y-Y(i.getStyle(A))-Y(i.getStyle(O)),i.setStyle(S,d+(w-y)+P),n.setStyle(S,a),l=w-s,E.setStyle(S,3*w-s+P),c.setStyle(S,2*w+P),D=w+o+1,t.setStyle(S,D+P),n.setStyle(M,-s-w+P),wrapperLeftPos=s-w,E.setStyle(H,wrapperLeftPos+P),e._onPosition=w-s,e._changePosition=Math.round(-wrapperLeftPos/2),n.setStyle(C,s+P),q=s-1,r.setStyle(C,q+P+" 0 0 0"),i.setStyle(C,"0 "+q+P+" 0 0"),_=t.get(N),t.setStyle(C,Math.round(_/2)+P),e.get(j)?e._goRight(!1,!0):e._goLeft(!1,!0),t.removeClass(f),I&&e.fire("contentUpdate")},_setTemplate:function(){var e=this,t=e.get(b),r=e.get(v),i=e.get(g),o,u,a,f;e._src||(u=e._parentNode||t,o=u.get("id")+"_checkbox"),t.setHTML(n.sub(G,{htmlcheckbox:o?n.sub(Q,{id:o,readonly:e.get(s)?" "+s+'="'+s+'"':"",checked:e.get(j)?" "+j+'="'+j+'"':"",disabled:e.get(B)?" "+B+'="'+B+'"':""}):"",optionon
:r,optionoff:i,unselectable:y?" "+I+"=on":""})),o&&(e._createdSrc=e._src=t.one("#"+o)),e._wrapperNode=t.one("."+p),e._containerNode=t.one("."+d),e._optionOnNode=a=t.one("."+v),e._optionOffNode=f=a.next(),e._optionBtnNode=f.next(),parentNode=u||t,parentNode.setAttribute(K,U),e.get(W)&&parentNode.setAttribute($,U),e.get(X)&&parentNode.setAttribute(J,U)},_srcNodeValidCheckbox:function(e){return e.get("tagName")==="INPUT"&&e.getAttribute("type")==="checkbox"}},{ATTRS:{checked:{value:!1,validator:function(e){var t=this,n;return t.get("rendered")&&(n=t.get(B)||t.get(s)),typeof e===w&&!n},getter:function(e){var t=this;return!t.get(B)||t._forceCheckedVal?e:null}},duration:{value:.15,validator:function(e){return typeof e=="number"}},optionon:{value:"I",validator:function(e){return typeof e===E}},optionoff:{value:"O",validator:function(e){return typeof e===E}},primarybtnonenter:{value:!1,validator:function(e){return typeof e===w}},readonly:{value:!1,validator:function(e){return typeof e===w}},submitonenter:{value:!1,validator:function(e){return typeof e===w}}},HTML_PARSER:{checked:function(e){var t=e.getAttribute(j).toLowerCase()===j;return this._srcNodeValidCheckbox(e)&&t},readonly:function(e){var t=e.getAttribute(s).toLowerCase()===s;return this._srcNodeValidCheckbox(e)&&t},disabled:function(e){var t=e.getAttribute(B).toLowerCase()===B;return this._srcNodeValidCheckbox(e)&&t}}})},"@VERSION@",{requires:["yui-base","dd-ddm","node-base","dom-screen","widget","base-build","dd-drag","dd-constrain","event-tap","transition"],skinnable:!0});
