YUI.add("gallery-event-pasted",function(B){function A(E,H){var C=H&&B.one(H).get("tagName")||"div",G=document.createElement(C),D=(E.indexOf("on")===0?E:"on"+E),F=(D in G);if(!F){G.setAttribute(D,"");F=B.Lang.isFunction(G[D]);}if(F&&!B.Node.DOM_EVENTS[D.substr(2)]){B.Node.DOM_EVENTS[D.substr(2)]=1;}return F;}B.Event.define("pasted",{on:function(G,C,K){var E=C.args&&C.args[0],I=G.test("input[type=text],input[type=password],textarea")?"value":"text",J=B.guid(),M=function(P,O){if(!E||P!==O){K.fire({prevVal:P,newVal:O});}},H,F,L,D,N;if(A("paste",G)){G.on(J+"|paste",function(O){H=this.get(I);B.later(0,null,function(){F=O.target.get(I);M(H,F);});});}else{if(A("input",G)){D=50;N=function(O){if(O.type==="keypress"&&O.ctrlKey){return;}L={sel:this.get("selectionEnd")-this.get("selectionStart"),val:this.get(I),mtime:+(new Date())};};G.on(J+"|keypress",N);G.on(J+"|select",N);G.on(J+"|input",function(O){H=L?L.val:"";F=this.get(I);if(L&&F.length===(H.length-L.sel)){}else{if(!L||(+(new Date())-L.mtime)>D){M(H,F);}}N.call(this,O);});C._state=L;}else{}}C._evtGroup=J;},detach:function(E,D,C){E.detachAll(D._evtGroup+"|*");}});},"gallery-2010.08.11-20-39",{requires:["event-synthetic"]});