YUI.add("gallery-slider-window",function(e){var A=21,I=12,a=5,p=700,l=500,v=400,c=287,h=0.5,j="bdc",d="hdc",H="background-position-x",J="px",x="#",n="handle-target",F="container-close",z='<a href="http://www.eaktion.com/sliderwindow/" target="_BLANK" id="sliderwindow_lnk">SliderWindow</a>',g=e.Easing,y="ea_swbdc",b,m,u,i,w=true,G=false,B=w,D="stop",K="publish",t="openWidth",o="height",k="srcNode",f="handleWidth",r="className",q="reverse",E="-",s={};function C(L){C.superclass.constructor.apply(this,arguments);}C.NAME="sliderWindow";C.ATTRS={openWidth:{value:v},headerCWidth:{value:v-A},height:{value:c,setter:"_setHeight"},srcWidth:{setter:"_setSrcWidth"},headerHeight:{value:A},footerHeight:{value:I},resizing:{value:G,setter:"_setResizing",lazyAdd:G},closeTitle:{value:"Click to close/open or ctrl-left/right arrow to close/open"},handleWidth:{value:a},className:{value:"eaSliderWindow"},credit:{value:w},bodyContent:{value:"",setter:"_setBodyContent"},withFocus:{setter:"_setWithFocus",validator:function(L){return this.get("isClosed")&&e.one(L);}},isOpen:{value:false,readOnly:true},isClosed:{value:true,readOnly:true}};C.CLOSE_HANDLE='<div class="'+F+'" title="{title}"></div><div id ="ea_swht" style="'+o+':{closeHandleHeight}px;top:{headerHeight}px;" class="'+n+'" title=""></div>';C.CREDIT='<div style="padding-left:{headerHeight}px;overflow-x:hidden;overflow-y:hidden;width:50%;top:0px;text-align:left;'+o+': {footerHeight}px;font-size: 0.5em;font-family: Arial">{creditCont}</div>';C.HEADER_CONTENT='<div id="ea_swhdc" class="{cssHeaderCont}"></div>';C.BODY_CONTENT='<div id="'+y+'" class="{cssBodyCont}">{userContent}</div>';e.extend(C,e.Overlay,{initializer:function(){},renderUI:function(){this.slider=e.one(x+this.get("id"));b=new e.Anim({node:this.get(k),to:{width:this.get(f)},from:{width:this.get(t)}});b.set("duration",h);b.set("easing",g.easeIn);var N=e.UA.opera>0?"Click to close/open or hit ctrl+shift-left/right arrow to close/open":this.get("closeTitle"),M=this.get("headerHeight"),L=this.getClassName(d);this.get(k).append(e.substitute(C.CLOSE_HANDLE,{title:N,closeHandleHeight:300,headerHeight:M}));this.set("headerContent",e.substitute(C.HEADER_CONTENT,{cssHeaderCont:L}));if(this.get("credit")===G){z="";}m={footerHeight:this.get("footerHeight"),headerHeight:M,creditCont:z};this.set("footerContent",e.substitute(C.CREDIT,m));this.contentElement=e.one(x+y);},bindUI:function(){this.slider.on("click",e.bind(function(M){this._handleClick(M);},this),["."+F,"."+n]);this.after("openWidthChange",this._uiSetOpenWidth,this);this.after("widthChange",this._afterWidthChange,this);e.on("keydown",this._handleArrow,"html",this);b.on("end",this._handleEndBehaviour,this);if(i){var L={maxWidth:i.maxWidth,maxHeight:i.maxHeight};this.resize=new e.Resize(i).plug(e.Plugin.ResizeProxy).plug(e.Plugin.ResizeConstrained,L);this.resize.after("resize:end",function(N){var M=N.details[0].info.offsetHeight;this.set(o,M);this.set("srcWidth",N.details[0].info.offsetWidth);e.bind(this._repositionSlider(),this);this._removeWidthStyle();},this);}},syncUI:function(){this._uiSetHandleWidth();this._uiSetOpenWidth();this._repositionSlider();},_setResizing:function(L){if(L){i={node:x+this.get("id"),handles:["t","tr"],maxWidth:p,maxHeight:l};}return L;},_uiSetOpenWidth:function(){var L=parseInt(this.get(t),10);b.set("from",{width:L});},_uiSetHandleWidth:function(L){var M=parseInt(this.get(f),10);this.get(k).setStyle("width",M+J);},_setWithFocus:function(L){this.once("isOpenChange",function(M,N){this._uiSetWithFocus(N);},this,L);},_uiSetWithFocus:function(L){e.Node.getDOMNode(e.one(L)).focus();},_setHeight:function(M){var L=parseInt(M,10);this.get(k).setStyle(o,L+J);},_setSrcWidth:function(L){var M=parseInt(L,10);this.get(k).setStyle("width",M+J);this.set(t,M);},_repositionSlider:function(){var M=this.slider.get("docScrollY"),L=this.slider.get("winHeight"),N=parseInt(this.get(o),10);this.set("xy",[0,L+M-N]);},_handleClick:function(L){if(F===L.target.get(r)){this.closeWindow();}else{if(n===L.target.get(r)){if(this.get("isClosed")){this._handlePublishMessageEvent(D);}else{this.closeWindow();}}}},publishEvent:function(N,L,O){if(!this._isPublished(N,L,O)){this._storePublished(N,L);this.publish(O+E+N,{emitFacade:false,bubbles:true,broadcast:true});var M=e.delegate(N,this._passThroughEvent,this.get("boundingBox"),L,this,O+E+N);this._saveHandle(M,N,L);}else{}},_isPublished:function(N,M){var O=false;s[N]=s[N]||{};if(undefined!==s[N][M]){O=true;}var L=O?"is not":"is";return O;},_storePublished:function(M,L){s[M][L]={};},_saveHandle:function(N,M,L){s[M][L]=N;},detachEvent:function(N,L){var M=s[N][L].detach();},_passThroughEvent:function(M,L){this.fire(L,M);},_handleMouseDown:function(){},_handleMouseUp:function(){},_handleArrow:function(L){u=G;if(L.ctrlKey){u=w;}if(u){if(L.shiftKey&&!e.UA.opera){return;}if(39==L.charCode){if(this.get("isClosed")){this._handlePublishMessageEvent(D);}L.halt();}if(37==L.charCode){if(this.get("isOpen")){this.closeWindow();}L.halt();}}},_handlePublishMessageEvent:function(L){this._repositionSlider();switch(L){case D:B=w;break;case K:B=G;break;}if(this.get("isClosed")){this.openWindow();}else{if(!B){e.later(h*1000/2,this,"closeWindow");}}},_handleEndBehaviour:function(L){this._setIsOpen();if(this.get("isOpen")){e.one("."+n).setStyle(H,"right");if(B){return;}b.set(q,G);this.closeWindow();}else{e.one("."+n).setStyle(H,"left");}},_setIsOpen:function(){if(parseInt(this.get(k).getStyle("width"),10)<parseInt(this.get(t),10)){this._set("isOpen",false);this._set("isClosed",true);}else{this._set("isOpen",true);this._set("isClosed",false);}},_setBodyContent:function(M){var L=this.getClassName(j);return e.substitute(C.BODY_CONTENT,{cssBodyCont:L,userContent:M});},_removeWidthStyle:function(){this.get("boundingBox").setStyle("width","");},closeWindow:function(){b.set(q,G);this._repositionSlider();b.run();},openWindow:function(){b.set(q,w);b.set("easing",g.easeIn);b.run();},sendMessage:function(L,O,N){var M=G;if(N=="ponderaid"){M=w;}if(!M){this.set("bodyContent",L);
}if(e.Lang.isString(O)){switch(O){case K:this._handlePublishMessageEvent(K);break;case"open":this._handlePublishMessageEvent(D);break;}}else{this._handlePublishMessageEvent(K);}}});e.namespace("Overlay").SliderWindow=C;},"gallery-2011.11.10-16-24",{requires:["overlay","node","anim-base","anim-node","anim-easing","substitute"]});