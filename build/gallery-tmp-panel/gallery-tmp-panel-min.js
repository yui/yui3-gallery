YUI.add("gallery-tmp-panel",function(E){var A=E.Node,C=E.Lang,B=C.isBoolean;function D(){D.superclass.constructor.apply(this,arguments);}E.mix(D,{NAME:"tmpPanel",ATTRS:{"close":{key:"close",value:true,validator:B},"underlay":{key:"underlay",value:"shadow"},"modal":{key:"modal",value:false,validator:B}}});E.extend(D,E.Overlay,{_disabled:false,initializer:function(){this._hasModality=false;},renderUI:function(){this._closeButton_create();this._underlay_create();this._mask_create();},bindUI:function(){this.after("closeChange",E.bind(this._closeButton_changed,this));this.after("underlayChange",E.bind(this._underlay_changed,this));this.after("modalChange",E.bind(this._mask_changed,this));this.after("visibleChange",E.bind(this._mask_changed,this));E.on("resize",E.bind(this._mask_changed,this));this.after("visibleChange",E.bind(this._position_update,this));E.on("resize",E.bind(this._position_update,this));E.on("scroll",E.bind(this._position_update,this));},syncUI:function(){},destructor:function(){},_closeButton_create:function(){this.get("contentBox").append('<a href="#" class="'+this.getClassName("close")+'">&#160;</a>');this.get("contentBox").one("."+this.getClassName("close")).on("click",this._closeButton_click,this);if(this.get("close")===false){this._closeButton_hide();}},_closeButton_destroy:function(){},_closeButton_show:function(){this.get("contentBox").one("."+this.getClassName("close")).removeClass(this.getClassName("hidden"));},_closeButton_hide:function(){this.get("contentBox").one("."+this.getClassName("close")).addClass(this.getClassName("hidden"));},_closeButton_click:function(F){F.preventDefault();this.hide();return false;},_closeButton_changed:function(){if(this.get("close")){this._closeButton_show();}else{this._closeButton_hide();}},_underlay_create:function(){},_underlay_destroy:function(){},_underlay_changed:function(){},_mask_create:function(){if(this.get("modal")&&this.get("visible")){if(!this._hasModality){this._hasModality=true;var G=A.create('<div id="'+this.get("boundingBox")._node.id+'_mask" class="'+this.getClassName("mask")+'">&#160;</div>'),F=E.get("body");G.setStyle("zIndex",this.get("boundingBox").getStyle("zIndex")-1);F.prepend(G);F.addClass(this.getClassName("masked"));this._mask_size();}}},_mask_destroy:function(){if(this._hasModality){var G=E.one("#"+this.get("boundingBox")._node.id+"_mask"),F=E.get("body");if(G){G.remove();}F.removeClass(this.getClassName("masked"));this._hasModality=false;}},_mask_changed:function(){if(this.get("modal")&&this.get("visible")){this._mask_create();}else{if(!this.get("modal")||!this.get("visible")){this._mask_destroy();}}},_mask_size:function(){var H=E.one("#"+this.get("boundingBox")._node.id+"_mask"),G=E.DOM.winHeight(),F=E.DOM.winWidth();if(H&&this._hasModality){if(H._node.offsetHeight>G){H.setStyle("height",G+"px");}if(H._node.offsetWidth>F){H.setStyle("width",F+"px");}H.setStyle("height",E.DOM.docHeight()+"px");H.setStyle("widht",E.DOM.docWidth()+"px");}},_position_update:function(){if(this.get("visible")){var I=10,J=this.get("boundingBox").get("offsetWidth"),H=this.get("boundingBox").get("offsetHeight"),G=E.DOM.winWidth(),K=E.DOM.winHeight(),F,L;if(J<G){F=(G/2)-(J/2)+E.DOM.docScrollX();}else{F=I+E.DOM.docScrollX();}if(H<K){L=(K/2)-(H/2)+E.DOM.docScrollY();}else{L=I+E.DOM.docScrollY();}this.set("xy",[parseInt(F,10),parseInt(L,10)]);}},addClass:function(F){DJ.market.panel.get("boundingBox").addClass(F);},removeClass:function(F){DJ.market.panel.get("boundingBox").removeClass(F);}});E.tmpPanel=D;},"gallery-2010.02.22-22",{requires:["overlay"]});