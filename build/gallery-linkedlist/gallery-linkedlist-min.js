YUI.add("gallery-linkedlist",function(e){function c(f){this.value=f;this._prev=this._next=null;}c.prototype={prev:function(){return this._prev;},next:function(){return this._next;}};e.LinkedListItem=c;function a(f){this._list=f;this.moveToBeginning();}a.prototype={atBeginning:function(){return(!this._next||(!this._at_end&&!this._next._prev));},atEnd:function(){return(!this._next||this._at_end);},moveToBeginning:function(){this._next=this._list._head;this._at_end=!this._next;},moveToEnd:function(){this._next=this._list._tail;this._at_end=true;},next:function(){if(this._at_end){return;}var f=this._next;if(this._next&&this._next._next){this._next=this._next._next;}else{this._at_end=true;}if(f){return f.value;}},prev:function(){var f;if(this._at_end){this._at_end=false;f=this._next;}else{if(this._next){f=this._next._prev;if(f){this._next=f;}}}if(f){return f.value;}},insert:function(f){if(this._at_end||!this._next){this._next=this._list.append(f);}else{this._next=this._list.insertBefore(f,this._next);}return this._next;},removePrev:function(){var f;if(this._at_end){f=this._next;if(this._next){this._next=this._next._prev;}}else{if(this._next){f=this._next._prev;}}if(f){this._list.remove(f);return f;}},removeNext:function(){var f;if(this._next&&!this._at_end){f=this._next;if(this._next&&this._next._next){this._next=this._next._next;}else{this._next=this._next?this._next._prev:null;this._at_end=true;}}if(f){this._list.remove(f);return f;}}};function d(f){this._head=this._tail=null;if(arguments.length>1){f=e.Array(arguments);}else{if(!e.Lang.isUndefined(f)&&!(f instanceof d)&&!e.Array.test(f)){f=e.Array(f);}}if(!e.Lang.isUndefined(f)){e.each(f,function(g){this.append(g);},this);}}function b(f){if(f instanceof c){this.remove(f);}else{f=new c(f);}return f;}d.prototype={isEmpty:function(){return(!this._head&&!this._tail);},size:function(){var g=0,f=this._head;while(f){g++;f=f._next;}return g;},iterator:function(){return new a(this);},newInstance:function(){return new d();},head:function(){return this._head;},tail:function(){return this._tail;},indexOf:function(h){var f=this.iterator(),g=0;while(!f.atEnd()){if(f.next()===h){return g;}g++;}return -1;},lastIndexOf:function(h){var f=this.iterator(),g=this.size();f.moveToEnd();while(!f.atBeginning()){g--;if(f.prev()===h){return g;}}return -1;},clear:function(){this._head=this._tail=null;},insertBefore:function(g,f){g=b.call(this,g);g._prev=f._prev;g._next=f;if(f._prev){f._prev._next=g;}else{this._head=g;}f._prev=g;return g;},insertAfter:function(f,g){g=b.call(this,g);g._prev=f;g._next=f._next;if(f._next){f._next._prev=g;}else{this._tail=g;}f._next=g;return g;},prepend:function(f){f=b.call(this,f);if(this.isEmpty()){this._head=this._tail=f;}else{this.insertBefore(f,this._head);}return f;},append:function(f){f=b.call(this,f);if(this.isEmpty()){this._head=this._tail=f;}else{this.insertAfter(this._tail,f);}return f;},remove:function(f){if(f._prev){f._prev._next=f._next;}else{if(f===this._head){this._head=f._next;if(f._next){f._next._prev=null;}}}if(f._next){f._next._prev=f._prev;}else{if(f===this._tail){this._tail=f._prev;if(f._prev){f._prev._next=null;}}}f._prev=f._next=null;},reverse:function(){var h=new d();var f=this.iterator();while(!f.atEnd()){var g=f.removeNext();h.prepend(g);}this._head=h._head;this._tail=h._tail;},toArray:function(){var f=[],g=this._head;while(g){f.push(g.value);g=g._next;}return f;}};e.mix(d,e.Iterable,false,null,4);e.LinkedList=d;},"gallery-2012.05.23-19-56",{requires:["gallery-iterable-extras"],optional:["gallery-funcprog"]});