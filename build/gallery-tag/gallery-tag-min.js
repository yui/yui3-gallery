YUI.add("gallery-tag",function(f){var e=f.namespace("Tag"),g={},d=false;function b(h){return h.replace(" ","").toLowerCase().split(",");}e.register=function(i,h){var j=b(i);f.Array.each(j,function(k){if(k.indexOf("[")>=0){d=true;}g[k]={mixin:h,handle:f.on("inserted",function(l){l.target.fire("tag:inserted");},k)};});};e.unregister=function(h){var i=b(h);f.Array.each(i,function(j){if(g[j]){g[j].handle.detach();delete g[j];}});};e.registered=function(h){return h?h in g:Object.keys(g);};function a(h){a.superclass.constructor.apply(this,arguments);}a.NAME="tagPlugin";a.NS="tag";a.ATTRS={};function c(j){var i={grouped:{data:{}},ungrouped:{}};function k(l){return l.replace(/-([a-z])/g,function(n,m){return m.toUpperCase();});}function h(m){var l=/^i:(-?[0-9]+)$/.exec(m);if(l){return parseInt(l[1],10);}return m;}f.Array.each(j,function(l){var n=l.name,p=l.value,o="data-",m=n.indexOf(":"),q;if(n.indexOf(o)===0){n=k(n.substr(o.length));i.grouped.data[n]=h(p);}else{if(m>=0){q=n.substr(0,m);if(!i.grouped[q]){i.grouped[q]={};}n=k(n.substr(m+1));i.grouped[q][n]=h(p);}else{i.ungrouped[n]=h(p);}}});return i;}f.extend(a,f.Plugin.Base,{initializer:function(){var k=this.get("host"),h=(k.get("tagName")||"").toLowerCase(),i=[],j;if(g[h]){j=j||c(k.getDOMNode().attributes);i.push({obj:g[h].mixin,config:j.grouped.data});}if(d){j=j||c(k.getDOMNode().attributes);f.each(j.ungrouped,function(n,m){var l="["+m+"]";if(l in g){i.push({obj:g[l].mixin,config:j.grouped[m]||{}});}});}if(i.length){f.Node._instances[k._yuid]=k;f.Array.each(i,function(l){f.mix(this,l.obj);if(l.obj.created){l.obj.created.call(this,l.config);}},this);}}});f.Node.plug(a);},"gallery-2012.07.05-20-01",{requires:["node","base","plugin","gallery-event-inserted"],skinnable:false});