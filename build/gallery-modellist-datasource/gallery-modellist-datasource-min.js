YUI.add("gallery-modellist-datasource",function(a){a.namespace("Plugin").ModelListDataSource=a.Base.create("modellist-datasource",a.Plugin.Base,[],{_setClearOnRequest:function(b){var d=this.get("source"),c=this.get("host");if(b){this._requestHandler=d.after("request",function(f){c.reset();});}else{if(this._requestHandler){this._requestHandler.detach();}}},initializer:function(){var d=this.get("source"),c=this.get("host"),b=this.get("stack");if(!d instanceof a.DataSource.Local){return false;}this._responseHandler=d.after("response",function(f){if(b){c.add(f.response.results);}else{c.reset(f.response.results);}},this);this.after("clearOnRequestChange",function(f){this._setClearOnRequest(f.newVal);});this._setClearOnRequest(this.get("clearOnRequest"));},destructor:function(){if(this._requestHandler){this._requestHandler.detach();}this._responseHandler.detach();}},{NS:"dataSource",ATTRS:{clearOnRequest:{value:false},source:{},stack:{value:false}}});},"gallery-2012.01.04-22-09",{requires:["plugin","base-build","datasource-local","model-list"]});