YUI.add("gallery-nmresizer",function(a){a.Nmresizer=a.Base.create("nmresizer",a.Widget,[],{initializer:function(b){},loadAndResize:function(c){if(typeof c.newdiv=="undefined"){return;}else{if(typeof c.resizediv=="undefined"){return;}}if(!c.olddiv.match(/^(#|\.)/)){c.olddiv="#"+c.olddiv;}if(!c.newdiv.match(/^(#|\.)/)){c.newdiv="#"+c.newdiv;}if(!c.resizediv.match(/^(#|\.)/)){c.resizediv="#"+c.resizediv;}if(typeof c.animDuration!=="undefined"){this.set("animDuration",c.animDuration);}if(typeof c.maxWidth!=="undefined"){this.set("maxWidth",c.maxWidth);}if(typeof c.maxHeight!=="undefined"){this.set("maxHeight",c.maxHeight);}if(typeof c.offsetWidth!=="undefined"){this.set("offsetWidth",c.offsetWidth);}if(typeof c.offsetHeight!=="undefined"){this.set("offsetHeight",c.offsetHeight);}c.resizediv=c.resizediv?c.resizediv:c.newdiv;c.oldtabheight=a.one(c.resizediv).getComputedStyle("height");c.oldtabwidth=a.one(c.resizediv).getComputedStyle("width");if(a.one(c.newdiv+" img")){var f=a.all(c.newdiv+" img").size();var e=0;var b=[];var d=this;a.all(c.newdiv+" img").each(function(h,g){if(h.get("src")&&h.get("src").match(/\.(jpg|jpeg|gif|png)$/i)){b[g]=new Image();b[g].src=h.get("src");b[g].onload=function(){e++;if(e==f){d.doLoadAndResize(c);}};b[g].onerror=function(){e++;if(e==f){d.doLoadAndResize(c);}};}else{f--;if(!f){this.doLoadAndResize(c);}}},this);}else{this.doLoadAndResize(c);}},doLoadAndResize:function(b){a.one(b.newdiv).setStyles({display:"block",position:"absolute",left:"-5000px",visibility:"hidden"});a.one(b.newdiv).removeClass("displaynone");if(typeof b.noWidthResize=="undefined"){b.newtabwidth=a.one(b.newdiv).get("offsetWidth")+this.get("offsetWidth")+"px";if(this.get("maxWidth")&&parseInt(b.newtabwidth,10)>this.get("maxWidth")){b.newtabwidth=this.get("maxWidth")+"px";}}if(typeof b.noHeightResize=="undefined"){b.newtabheight=a.one(b.newdiv).get("offsetHeight")+this.get("offsetHeight")+"px";if(this.get("maxHeight")&&parseInt(b.newtabheight,10)>this.get("maxHeight")){b.newtabheight=this.get("maxHeight")+"px";}}a.one(b.newdiv).setStyles({position:"",left:""});a.one(b.resizediv).setStyles({width:b.oldtabwidth,height:b.oldtabheight});if(b.onStart){b.onStart(b);}if(b.olddiv!==b.newdiv){a.one(b.olddiv).setStyles({display:"none",width:"",height:""});}if((b.oldtabheight==b.newtabheight&&b.oldtabwidth==b.newtabwidth)||b.olddiv==b.newdiv){a.one(b.newdiv).setStyles({display:"block",visibility:"visible"});if(b.resizediv!==b.newdiv){a.one(b.newdiv).setStyles({width:"auto",height:"auto"});}if(b.onEnd){b.onEnd(b);}}else{var c={easing:"ease-out",duration:this.get("animDuration")};if(typeof b.newtabwidth!=="undefined"){c.width=b.newtabwidth;}if(typeof b.newtabheight!=="undefined"){c.height=b.newtabheight;}a.all(b.resizediv).transition(c,function(){a.one(b.resizediv).setStyles({width:"",height:""});a.one(b.newdiv).setStyles({visibility:"visible"});if(b.resizediv!==b.newdiv){a.one(b.newdiv).setStyles({width:"auto",height:"auto"});}if(b.onEnd){b.onEnd(b);}});}}},{ATTRS:{animDuration:{value:0.5},maxHeight:{value:0},maxWidth:{value:0},offsetWidth:{value:0},offsetHeight:{value:0}}});},"gallery-2012.09.12-20-02",{requires:["base-build","widget","event-mouseenter","node","transition"]});