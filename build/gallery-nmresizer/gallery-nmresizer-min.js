YUI.add("gallery-nmresizer",function(a){YUI.add("gallery-nmresizer",function(b){b.Nmresizer=b.Base.create("nmresizer",b.Widget,[],{initializer:function(c){},loadAndResize:function(d){if(typeof d.newdiv=="undefined"){return;}else{if(typeof d.resizediv=="undefined"){return;}}if(!d.olddiv.match(/^(#|\.)/)){d.olddiv="#"+d.olddiv;}if(!d.newdiv.match(/^(#|\.)/)){d.newdiv="#"+d.newdiv;}if(typeof d.animDuration!=="undefined"){this.set("animDuration",d.animDuration);}if(typeof d.maxWidth!=="undefined"){this.set("maxWidth",d.maxWidth);}if(typeof d.maxHeight!=="undefined"){this.set("maxHeight",d.maxHeight);}if(typeof d.offsetWidth!=="undefined"){this.set("offsetWidth",d.offsetWidth);}if(typeof d.offsetHeight!=="undefined"){this.set("offsetHeight",d.offsetHeight);}d.resizediv=d.resizediv?d.resizediv:d.newdiv;d.oldtabheight=b.one(d.resizediv).getComputedStyle("height");d.oldtabwidth=b.one(d.resizediv).getComputedStyle("width");if(b.one(d.newdiv+" img")){var g=b.all(d.newdiv+" img").size();var f=0;var c=[];var e=this;b.all(d.newdiv+" img").each(function(i,h){if(i.get("src")&&i.get("src").match(/\.(jpg|jpeg|gif|png)$/i)){c[h]=new Image();c[h].src=i.get("src");c[h].onload=function(){f++;if(f==g){e.doLoadAndResize(d);}};c[h].onerror=function(){f++;if(f==g){e.doLoadAndResize(d);}};}else{g--;if(!g){this.doLoadAndResize(d);}}},this);}else{this.doLoadAndResize(d);}},doLoadAndResize:function(c){b.one(c.newdiv).setStyles({display:"block",position:"absolute",left:"-5000px",visibility:"hidden"});b.one(c.newdiv).removeClass("displaynone");if(typeof c.noWidthResize=="undefined"){c.newtabwidth=b.one(c.newdiv).get("offsetWidth")+this.get("offsetWidth")+"px";if(this.get("maxWidth")&&parseInt(c.newtabwidth,10)>this.get("maxWidth")){c.newtabwidth=this.get("maxWidth")+"px";}}if(typeof c.noHeightResize=="undefined"){c.newtabheight=b.one(c.newdiv).get("offsetHeight")+this.get("offsetHeight")+"px";if(this.get("maxHeight")&&parseInt(c.newtabheight,10)>this.get("maxHeight")){c.newtabheight=this.get("maxHeight")+"px";}}b.one(c.newdiv).setStyles({position:"",left:""});b.one(c.resizediv).setStyles({width:c.oldtabwidth,height:c.oldtabheight});if(c.onStart){c.onStart(c);}if(c.olddiv!==c.newdiv){b.one(c.olddiv).setStyles({display:"none",width:"",height:""});}if((c.oldtabheight==c.newtabheight&&c.oldtabwidth==c.newtabwidth)||c.olddiv==c.newdiv){b.one(c.newdiv).setStyles({display:"block",visibility:"visible"});if(c.resizediv!==c.newdiv){b.one(c.newdiv).setStyles({width:"auto",height:"auto"});}if(c.onEnd){c.onEnd(c);}}else{var d={easing:"ease-out",duration:this.get("animDuration")};if(typeof c.newtabwidth!=="undefined"){d.width=c.newtabwidth;}if(typeof c.newtabheight!=="undefined"){d.height=c.newtabheight;}b.all(c.resizediv).transition(d,function(){b.one(c.resizediv).setStyles({width:"",height:""});b.one(c.newdiv).setStyles({visibility:"visible"});if(c.resizediv!==c.newdiv){b.one(c.newdiv).setStyles({width:"auto",height:"auto"});}if(c.onEnd){c.onEnd(c);}});}}},{ATTRS:{animDuration:{value:0.5},maxHeight:{value:0},maxWidth:{value:0},offsetWidth:{value:0},offsetHeight:{value:0}}});},"gallery-2012.05.02-20-10",{requires:["base-build","widget","node","transition"]});},"gallery-2012.05.02-20-10",{requires:["base-build","widget","event-mouseenter","node","transition"]});