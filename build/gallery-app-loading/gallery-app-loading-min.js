YUI.add("gallery-app-loading",function(c){var a=c.Lang;function b(e){var d=this._startLoadingSequence;this.on("*:loading",d,this);this.on("navigate",d,this);this.on("activeViewChange",d,this);this.on("*:loadingComplete",this._stopLoadingSequence,this);c.Do.after(function(f){this.fire("loadingComplete");},this,"_attachView",this);}b.ATTRS={loading:{value:false},addClassToViewContainer:{value:true},addClassToContainer:{value:true},viewContainerLoadingClass:{value:"loading"},containerLoadingClass:{value:"loading"}};b.prototype={_startLoadingSequence:function(h){var f=this.get("container"),d=this.get("viewContainer"),g=this.get("containerLoadingClass");if(!this.get("loading")){this.set("loading",true);this.fire("loadingStarted");if(this.get("addClassToContainer")&&!f.hasClass(g)){f.addClass(g);}if(this.get("addClassToViewContainer")&&!d.hasClass(g)){d.addClass(g);}if(a.isFunction(this.startLoadingSequence)){this.startLoadingSequence();}}},_stopLoadingSequence:function(h){var f=this.get("container"),d=this.get("viewContainer"),g=this.get("containerLoadingClass");if(this.get("loading")){this.set("loading",false);this.fire("loadingCompleted");if(f.hasClass(g)){f.removeClass(g);}if(d.hasClass(g)){d.removeClass(g);}if(a.isFunction(this.stopLoadingSequence)){this.stopLoadingSequence();}}}};c.AppLoading=b;},"gallery-2012.05.09-20-27",{skinnable:false,requires:["app"]});