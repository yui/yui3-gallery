YUI.add("gallery-plugin-simple-datatable-resize",function(A){A.Plugin.SDTResize=A.Base.create("simple-datatable-resize",A.Plugin.Base,[],{_host:null,_tHead:null,initializer:function(){this._host=this.get("host");this._host.get("boundingBox").addClass(this._host.getClassName("resize"));this.afterHostMethod("setHeaders",this._afterHostSetHeaders);if(this._host.headersSet){this._afterHostSetHeaders();}},destructor:function(){this._host.get("boundingBox").removeClass(this._host.getClassName("resize"));this._removeGrips();},_afterHostSetHeaders:function(){this.publish("sort",{defaultFn:this._defSortFn});this._removeGrips();this._tHead=this._host.get("contentBox").one("thead");this._tHead.all('th:not([resizable="false"]) .yui3-sdt-liner').each(function(C){var B=A.Node.create('<div class="'+this.get("gripClass")+'"><span class="yui3-icon"></span></div>');B.plug(A.Plugin.Drag);B.dd.on("drag:drag",this._handleDrag,this);B.setData("target",C);B.setStyle("opacity",(this.get("visible"))?1:0);C.append(B);},this);},_handleDrag:function(E){var C=E.target.get("node"),D=C.getData("target"),B=D.ancestor("th");C.setStyle("left","auto");B.setStyle("width",E.target.lastXY[0]+parseInt(C.getStyle("width"),10)-B.getX());E.preventDefault();},_removeGrips:function(){this._host.get("boundingBox").all("."+this.get("gripClass")).remove(true);}},{NS:"resize",ATTRS:{gripClass:{value:"yui3-icon-vgrip"},minWidth:{value:50},visible:{value:true}}});},"gallery-2010.09.08-19-45",{requires:["plugin","dd-constrain","dd-plugin"]});