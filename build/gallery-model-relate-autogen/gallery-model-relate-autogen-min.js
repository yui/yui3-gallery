YUI.add("gallery-model-relate-autogen",function(b){function a(c){b.Do.after(this._modelRelateAutoGenAfterParse,this,"parse");b.Do.after(this._modelRelateAutoGenAfterSetAttrs,this,"setAttrs");this._loadModelRelateAutoGenRelated(c);}a.prototype={_modelRelateAutoGenAfterParse:function(){this._loadModelRelateAutoGenRelated(b.Do.currentRetVal);},_modelRelateAutoGenAfterSetAttrs:function(f,e){var j,c,h,d,g;if(f){j=this.constructor.RELATIONSHIPS;for(h in f){if(j[h]&&b.Lang.isValue(f[h])){c=j[h];if(c.type==="toOne"){d=b.ModelStore.find(c.relatedModel,f[h][c.relatedKey]);d.setAttrs(f[h]);}else{if(c.type==="toMany"){for(g=0;g<f[h].length;++g){d=b.ModelStore.find(c.relatedModel,f[h][g][c.key]);d.setAttrs(f[h][g]);}}}}}}},_loadModelRelateAutoGenRelated:function(f){var k,d,e,j,c,h,g;if(f){k=this.constructor.RELATIONSHIPS;for(h in f){if(k[h]&&b.Lang.isValue(f[h])){d=k[h];c=b.ModelStore._getModelCtor(d.relatedModel);if(d.type==="toOne"){e=b.ModelStore.find(d.relatedModel,f[h][d.relatedKey]);if(!e){j=new c(f[h]);b.ModelStore.registerModel(j);}}else{if(d.type==="toMany"){for(g=0;g<f[h].length;++g){e=b.ModelStore.find(d.relatedModel,f[h][g][d.relatedModel.idAttribute]);if(!e){e=new c(f[h][g]);b.ModelStore.registerModel(e);}}}}}}}}};b.ModelRelateAutoGen=a;},"gallery-2012.04.04-17-55",{requires:["gallery-model-relate"],skinnable:false});