YUI.add("gallery-button",function(E){var B=E.Lang,D=E.ClassNameManager,A={DISABLE:"disable"},F={HOVER:"-hover",PRESSED:"-pressed",DEFAULT:"-default",DISABLED:"-disabled",NO_LABEL:"no-label"},C="boundingBox";E.Button=E.Base.create("button",E.Widget,[E.WidgetChild],{BOUNDING_TEMPLATE:"<button/>",CONTENT_TEMPLATE:"<span/>",className:"",_clickHandle:null,_mouseIsDown:false,_mouseListener:null,initializer:function(G){this.className=this.getClassName();this.after("defaultChange",this._defaultChanged,this);this.after("enabledChange",this._enabledChanged,this);},renderUI:function(){this.get("contentBox").set("text",this.get("label"));},bindUI:function(){var G=this.get(C);this._bindClick();this.after("callbackChange",E.bind(this._callbackChange,this));G.on("mouseup",this._mouseUp,this);G.on("mousedown",this._mouseDown,this);G.on("mouseenter",this._mouseEnter,this);G.on("mouseleave",this._mouseLeave,this);},syncUI:function(){this._updateDefault(this.get("default"));this._updateEnabled(this.get("enabled"));this.get("icon");},disable:function(){this.set("disabled",true);},enable:function(){this.set("disabled",false);},_bindClick:function(){var G=this.get("callback");if(this._clickHandle){this._clickHandle.detach();}if(G){this._clickHandle=this.on("click",E.bind(G,this));}},_callbackChange:function(G){this._bindClick();},_mouseUp:function(){this.get(C).removeClass(this.className+F.PRESSED);this._mouseIsDown=false;},_mouseDown:function(){if(this.get("enabled")){this.get(C).addClass(this.className+F.PRESSED);this._mouseIsDown=true;}},_mouseEnter:function(G){if(this.get("enabled")){this.get(C).addClass(this.className+F.HOVER);if(this._mouseIsDown){this.get(C).addClass(this.className+F.PRESSED);}}},_mouseLeave:function(){var H=this.get(C),G=this.className+F.PRESSED;H.removeClass(this.className+F.HOVER);if(H.hasClass(G)){H.removeClass(G);if(this._mouseListener===null){this._mouseListener=E.on("mouseup",E.bind(this._listenForMouseUp,this));}}else{this._mouseIsDown=false;}},_listenForMouseUp:function(){this._mouseIsDown=false;this._mouseListener.detach();this._mouseListener=null;},_updateEnabled:function(G){var I=this.get(C),H=this.className+F.DISABLED;if(G){I.removeClass(H);I.set("disabled","");}else{I.addClass(H);I.removeClass(this.className+F.HOVER);I.removeClass(this.className+F.PRESSED);I.set("disabled","disabled");}},_enabledChanged:function(G){this._updateEnabled(G.newVal);},_updateDefault:function(H){var I=this.get(C),G=this.className+F.DEFAULT;if(H){I.addClass(G);I.setAttribute("default","default");}else{I.removeClass(G);I.set("default","");}},_defaultChanged:function(G){this._updateDefault(G.newVal);}},{EVENTS:A,ATTRS:{label:{value:"",validator:B.isString,setter:function(G){if(!G||G===""){this.get(C).addClass(this.getClassName(F.NO_LABEL));}else{this.get(C).removeClass(this.getClassName(F.NO_LABEL));}this.get("contentBox").set("text",G);this.set("title",G);return G;},lazyAdd:false},callback:{validator:B.isFunction},enabled:{value:true,validator:B.isBoolean},"default":{value:false,validator:B.isBoolean},icon:{validator:B.isString,setter:function(G){this.get(C).replaceClass(D.getClassName("icon",this.get("icon")||"default"),D.getClassName("icon",G||"default"));return G;}},title:{validator:B.isString,setter:function(G){this.get("boundingBox").set("title",G);return G;}}}});},"gallery-2010.06.30-19-54",{requires:["widget","event-mouseenter"]});