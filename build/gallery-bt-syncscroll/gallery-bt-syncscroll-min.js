YUI.add("gallery-bt-syncscroll",function(e,t){var n="widthChange",r=function(){var t=!1,n=this;e.once("btReady",function(){t?n._bssInitParentScroll():n.after("render",function(){n._bssInitParentScroll()})}),t=!0};r.ATTRS={syncScrollMethod:{writeOnce:!0,validator:e.Lang.isFunction}},r.prototype={destructor:function(){this._bssResizeHandle&&(this._bssResizeHandle.detach(),delete this._bssResizeHandle),this._bssHandle&&(this._bssHandle.detach(),delete this._bssHandle),delete this._bssParentScroll},_bssInitParentScroll:function(){var t=this.get("syncScrollMethod"),r=e.Bottle.Page.getCurrent(),i=[this.after(n,t,this)];this._bssParentScroll=e.Widget.getByNode(this.get("boundingBox").ancestor(".yui3-scrollview")),t&&(this._bssParentScroll&&i.push(this._bssParentScroll.after(n,t,this)),(!r||r.get("nativeScroll"))&&i.push(e.on("btSyncScreen",e.bind(t,this))),this._bssHandle=new e.EventHandle(i)),this.syncScroll()},syncScroll:function(){var e=this._bssParentScroll;e&&(e._uiDimensionsChange(),this.fixScrollPosition())},fixScrollPosition:function(){var e=this._bssParentScroll;e&&e._maxScrollY&&e.scrollTo(e.get("scrollX"),Math.min(e.get("scrollY"),e._maxScrollY))}},e.namespace("Bottle").SyncScroll=r},"gallery-2013.02.27-21-03",{requires:["gallery-bt-page"]});
