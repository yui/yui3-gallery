YUI.add("gallery-plugin-paginate-base",function(A){A.namespace("Plugin.Paginate").Base=A.Base.create("paginate",A.Plugin.Base,[],{initializer:function(){this.after("currentPageNumberChange",this._afterCurrentPageNumberChange);this.after("totalItemsChange",this._afterTotalItemsChange);this.after("itemsPerPageChange",this._afterItemsPerPageChange);},refresh:function(){return this;},gotoPage:function(B,C){B=Math.max(1,Math.min(B,this.get("numberOfPages")));if(this.get("currentPageNumber")!==B){this.set("currentPageNumber",B);}else{if(C){this.refresh();}}return this;},gotoFirstPage:function(){return this.gotoPage(1);},gotoLastPage:function(){return this.gotoPage(this.get("numberOfPages"));},gotoPrevPage:function(){return this.gotoPage(this.get("currentPageNumber")-1);},gotoNextPage:function(){return this.gotoPage(this.get("currentPageNumber")+1);},hasPrevPage:function(){return(this.get("currentPageNumber")>0);},hasNextPage:function(){return(this.get("currentPageNumber")<this.get("numberOfPages"));},_afterCurrentPageNumberChange:function(B){},_afterTotalItemsChange:function(D){var B=this.get("currentPageNumber"),C=this._updateCurrentIndex();this.set("numberOfPages",Math.ceil(D.newVal/this.get("itemsPerPage")));if(C>D.newVal){this.gotoLastPage();}else{this.gotoPage(B,true);}},_afterItemsPerPageChange:function(C){var D=Math.ceil(this.get("totalItems")/C.newVal),B=(this.get("currentPageNumber")-1)*C.prevVal+1;this.set("numberOfPages",D);this.gotoPage((B-1)/C.newVal+1,true);},_updateCurrentIndex:function(){var B=(this.get("currentPageNumber")-1)*this.get("itemsPerPage")+1;this.set("currentIndex",B);return B;}},{NS:"paginate",ATTRS:{numberOfPages:{value:1,setter:function(B){return parseInt(B,10);}},currentPageNumber:{value:1,setter:function(B){return parseInt(B,10);}},currentIndex:{value:1,setter:function(B){return parseInt(B,10);}},totalItems:{value:1,setter:function(B){return parseInt(B,10);}},itemsPerPage:{value:10,setter:function(B){return parseInt(B,10);}}}});},"gallery-2010.09.08-19-45",{requires:["plugin","base"]});