YUI.add("gallery-sliding-sidebar",function(G){var D=G.Lang,C=G.Anim,F=G.Easing,A=G.Event,B=G.Lang.isNumber;function E(H){E.superclass.constructor.apply(this,arguments);}G.mix(E,{NAME:"SlidingSideBar",ATTRS:{"collapsedHeight":{key:"collapsedHeight",value:150,validator:B},"collapsedWidth":{key:"collapsedWidth",value:25,validator:B},"expandedHeight":{key:"expandedHeight",value:300,validator:B},"expandedWidth":{key:"expandedWidth",value:200,validator:B},"animation":{value:{duration:0.4,easing:F.easeOut},validator:function(H){return D.isObject(H)&&D.isNumber(H.duration)&&D.isFunction(H.easing);}},"content":{key:"content",value:""},"position":{key:"position",value:"left",validator:function(H){return(H=="top"||H=="right"||H=="bottom"||H=="left");}},"tabIndex":{key:"tabIndex",value:1}}});G.extend(E,G.Overlay,{initalizer:function(H){},renderUI:function(){this.baseZIndex=this.get("zIndex");this.set("width",this.get("collapsedWidth"));this.set("height",this.get("collapsedHeight"));},bindUI:function(){this.get("contentBox").on("click",this._contentBox_click,this);this.after("focusedChange",this._setFocus,this);},syncUI:function(){},destructor:function(){A.purgeElement(this.get("contentBox"),true);this.get("contentBox").remove();},_headerContent_click:function(H){this._toggleSidebar();},_contentBox_click:function(I){if(I.target.hasClass("yui-widget-hd")){this._toggleSidebar();var H=this.get("contentBox");if(H.one(".yui-widget-hd")){H.one(".yui-widget-hd").on("click",this._headerContent_click,this);G.detach("click",this._contentBox_click,H);}}return false;},_toggleSidebar:function(){if(this._isExpanded()){this.collapse();}else{this.expand();}},_isExpanded:function(){return this.get("contentBox").hasClass(this.getClassName("expanded"));},expand:function(){this._contentSize(this.get("expandedHeight"),this.get("expandedWidth"));this._showContent();this.get("contentBox").addClass(this.getClassName("expanded"));},collapse:function(){this._contentSize(this.get("collapsedHeight"),this.get("collapsedWidth"));this._hideContent();this.get("contentBox").removeClass(this.getClassName("expanded"));},_contentSize:function(K,H){var J,I={"height":K,"width":H};switch(this.get("position")){case"right":if(this._isExpanded()){I.left=parseFloat(this.get("boundingBox").getStyle("left"))+(this.get("expandedWidth")-this.get("collapsedWidth"));}else{I.left=parseFloat(this.get("boundingBox").getStyle("left"))-(this.get("expandedWidth")-this.get("collapsedWidth"));}break;case"bottom":if(this._isExpanded()){I.top=parseFloat(this.get("boundingBox").getStyle("top"))+(this.get("expandedHeight")-this.get("collapsedHeight"));}else{I.top=parseFloat(this.get("boundingBox").getStyle("top"))-(this.get("expandedHeight")-this.get("collapsedHeight"));}break;}J=this.get("animation");if(this.sizeAnim){this.sizeAnim.stop();}this.sizeAnim=new C({node:this.get("boundingBox"),duration:J.duration,easing:J.easing,to:I});this.sizeAnim.run();},_showContent:function(){if(this.opacityAnim){this.opacityAnim.stop();}if(this.get("contentBox").one(".yui-widget-bd")){var I=this.get("animation"),H=this.get("contentBox");this.opacityAnim=new C({node:H.one(".yui-widget-bd"),duration:I.duration,easing:I.easing,to:{opacity:1}});this.opacityAnim.run();H.one(".yui-widget-bd").setStyle("display","block");}},_hideContent:function(){if(this.opacityAnim){this.opacityAnim.stop();}if(this.get("contentBox").one(".yui-widget-bd")){var H=this.get("contentBox"),I=this.get("animation");this.opacityAnim=new C({node:H.one(".yui-widget-bd"),duration:I.duration,easing:I.easing,to:{opacity:0},on:{end:function(){H.one(".yui-widget-bd").setStyle("display","none");}}});this.opacityAnim.run();}},_setFocus:function(){var H=this.baseZIndex;if(this.get("focused")){H=H+3;}this.set("zIndex",H);}});G.SlidingSideBar=E;},"gallery-2010.05.21-18-16",{requires:["overlay","anim-easing"]});