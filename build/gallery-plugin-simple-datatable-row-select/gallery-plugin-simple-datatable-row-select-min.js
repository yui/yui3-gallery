YUI.add("gallery-plugin-simple-datatable-row-select",function(C){var B="selectedRows",A={ROW_SELECTED:"rowSelected"};C.Plugin.SDTRowSelect=C.Base.create("simple-datatable-row-select",C.Plugin.Base,[],{_host:null,className:null,tBody:null,_delegateEnter:null,_delegateLeave:null,_delegateClick:null,initializer:function(){this._host=this.get("host");this._host.get("boundingBox").addClass(this._host.getClassName("row-select"));this.afterHostMethod("setRows",this._afterHostSetRows);if(this._host.rowsSet){this._afterHostSetRows();}this.afterHostEvent("render",this._setup);},destructor:function(){var E=this._host.getClassName("row-select"),D=this._host.getClassName("over");this._host.get("boundingBox").removeClass(E);this._delegateEnter.detach();this._delegateLeave.detach();this._delegateClick.detach();this._host.get("boundingBox").all("."+D).removeClass(D);this.get("selectedRows").each(function(F){this._unselectRow(F);},this);},isSelected:function(D){return this.get(B).indexOf(D);},_setup:function(){var E=this._host.get("contentBox"),D;this.className=this.get("host").getClassName();this.publish(A.ROW_SELECTED,{defaultFn:this._defSelectedFn});D=this.className+"-over";this._delegateEnter=E.delegate("mouseenter",function(F){F.currentTarget.addClass(D);},'tbody tr:not([selectable="false"])');this._delegateLeave=E.delegate("mouseleave",function(F){F.currentTarget.removeClass(D);},'tbody tr:not([selectable="false"])');this._delegateClick=E.delegate("click",function(F){this.fire(A.ROW_SELECTED,{rowTarget:F.currentTarget});},'tbody tr:not([selectable="false"])',this);},_defSelectedFn:function(D){if(this.isSelected(D.rowTarget)>-1&&this.get("toggleSelect")){this._unselectRow(D.rowTarget);}else{this._selectRow(D.rowTarget);}},_afterHostSetRows:function(E){var F=null,D=this.get(B);this.set(B,new C.ArrayList());this.tBody=this._host.get("contentBox").one("tbody");D.each(function(G){F=this.tBody.one("#"+G.get("id"));if(F){this._selectRow(F);}F=null;},this);},_selectRow:function(D){if(!this.get("multiSelect")){this.get(B).each(function(E){this._unselectRow(E);},this);}this.get(B).add(D);D.addClass(this.className+"-selected");},_unselectRow:function(D){this.get(B).remove(D,true);D.removeClass(this.className+"-selected");}},{NS:"rowSelect",EVENTS:A,ATTRS:{selectedRows:{value:new C.ArrayList()},multiSelect:{value:false},toggleSelect:{value:true}}});},"gallery-2010.09.08-19-45",{requires:["plugin","collection"]});