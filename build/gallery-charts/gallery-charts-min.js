YUI.add("gallery-charts",function(B){var s=B.Lang,V=B.Node,K=-10000,J=-10000;B.Tooltip=B.Base.create("tooltip",B.Widget,[B.WidgetPosition,B.WidgetStack],{initializer:function(Y){this._triggerClassName=this.getClassName("trigger");this._currTrigger={node:null,title:null,mouseX:B.Tooltip.OFFSCREEN_X,mouseY:B.Tooltip.OFFSCREEN_Y};this._eventHandles={delegate:null,trigger:{mouseMove:null,mouseOut:null}};this._timers={show:null,hide:null};this.publish("triggerEnter",{defaultFn:this._defTriggerEnterFn,preventable:true});this.publish("triggerLeave",{preventable:false});},destructor:function(){this._clearCurrentTrigger();this._clearTimers();this._clearHandles();},bindUI:function(){this.after("delegateChange",this._afterSetDelegate);this.after("nodesChange",this._afterSetNodes);this._bindDelegate();},syncUI:function(){this._uiSetNodes(this.get("triggerNodes"));},setTriggerContent:function(v){var t=this.get("contentBox"),u=0,Y;t.set("innerHTML","");if(v){if(v instanceof V){Y=v.size();for(;u<Y;++u){t.appendChild(v.item(u));}}else{if(s.isString(v)){t.set("innerHTML",v);}}}},_afterSetNodes:function(Y){this._uiSetNodes(Y.newVal);},_afterSetDelegate:function(Y){this._bindDelegate(Y.newVal);},_uiSetNodes:function(Y){if(this._triggerNodes){this._triggerNodes.removeClass(this._triggerClassName);}if(Y){this._triggerNodes=Y;this._triggerNodes.addClass(this._triggerClassName);}},_bindDelegate:function(){var Y=this._eventHandles;if(Y.delegate){Y.delegate.detach();Y.delegate=null;}Y.delegate=B.delegate("mouseenter",B.bind(this._onNodeMouseEnter,this),this.get("delegate"),"."+this._triggerClassName);},_onNodeMouseEnter:function(t){var Y=t.currentTarget;if(Y&&(!this._currTrigger.node||!Y.compareTo(this._currTrigger.node))){this._enterTrigger(Y,t.pageX,t.pageY);}},_onNodeMouseLeave:function(Y){this._leaveTrigger(Y.currentTarget);},_onNodeMouseMove:function(Y){this._overTrigger(Y.pageX,Y.pageY);},_enterTrigger:function(t,Y,u){this._setCurrentTrigger(t,Y,u);this.fire("triggerEnter",{node:t,pageX:Y,pageY:u});},_defTriggerEnterFn:function(u){var t=u.node,Y;if(!this.get("disabled")){this._clearTimers();Y=(this.get("visible"))?0:this.get("showDelay");this._timers.show=B.later(Y,this,this._showTooltip,[t]);}},_leaveTrigger:function(Y){this.fire("triggerLeave");this._clearCurrentTrigger();this._clearTimers();this._timers.hide=B.later(this.get("hideDelay"),this,this._hideTooltip);},_overTrigger:function(Y,t){this._currTrigger.mouseX=Y;this._currTrigger.mouseY=t;},_showTooltip:function(t){var Y=this._currTrigger.mouseX,u=this._currTrigger.mouseY;this.move(Y+B.Tooltip.OFFSET_X,u+B.Tooltip.OFFSET_Y);this.show();this._clearTimers();this._timers.hide=B.later(this.get("autoHideDelay"),this,this._hideTooltip);},_hideTooltip:function(){this._clearTimers();this.hide();},_setTriggerContent:function(t){var Y=this.get("content");if(Y&&!(Y instanceof V||s.isString(Y))){Y=Y[t.get("id")]||t.getAttribute("title");}this.setTriggerContent(Y);},_setCurrentTrigger:function(t,Y,z){var u=this._currTrigger,w=this._eventHandles.trigger,v;this._setTriggerContent(t);w.mouseMove=B.on("mousemove",B.bind(this._onNodeMouseMove,this),t);w.mouseOut=B.on("mouseleave",B.bind(this._onNodeMouseLeave,this),t);v=t.getAttribute("title");t.setAttribute("title","");u.mouseX=Y;u.mouseY=z;u.node=t;u.title=v;},_clearCurrentTrigger:function(){var t=this._currTrigger,v=this._eventHandles.trigger,Y,u;if(t.node){Y=t.node;u=t.title||"";t.node=null;t.title="";v.mouseMove.detach();v.mouseOut.detach();v.mouseMove=null;v.mouseOut=null;Y.setAttribute("title",u);}},_clearTimers:function(){var Y=this._timers;if(Y.hide){Y.hide.cancel();Y.hide=null;}if(Y.show){Y.show.cancel();Y.show=null;}},_clearHandles:function(){var Y=this._eventHandles;if(Y.delegate){this._eventHandles.delegate.detach();}if(Y.trigger.mouseOut){Y.trigger.mouseOut.detach();}if(Y.trigger.mouseMove){Y.trigger.mouseMove.detach();}}},{OFFSET_X:15,OFFSET_Y:15,OFFSCREEN_X:K,OFFSCREEN_Y:J,ATTRS:{content:{value:null},triggerNodes:{value:null,setter:function(Y){if(Y&&s.isString(Y)){Y=V.all(Y);}return Y;}},delegate:{value:null,setter:function(Y){return B.one(Y)||B.one("document");}},showDelay:{value:250},hideDelay:{value:10},autoHideDelay:{value:2000},visible:{value:false},xy:{value:[K,J]}}});var D=function(Y){this.initializer.apply(this,arguments);};D.prototype={initializer:function(t){t=t||{};var Y=t.width||0,u=t.height||0;this._svg=this._createGraphics();this.setSize(Y,u);this._initProps();},beginBitmapFill:function(Y){var t={};t.src=Y.bitmap.src;t.type="tile";this._fillProps=t;if(!isNaN(Y.tx)||!isNaN(Y.ty)||!isNaN(Y.width)||!isNaN(Y.height)){this._gradientBox={tx:Y.tx,ty:Y.ty,width:Y.width,height:Y.height};}else{this._gradientBox=null;}},beginFill:function(Y,t){if(Y){this._fillAlpha=t||1;this._fillColor=Y;this._fillType="solid";this._fill=1;}return this;},beginGradientFill:function(t){var Y=t.alphas||[];if(!this._defs){this._defs=this._createGraphicNode("defs");this._svg.appendChild(this._defs);}this._fillAlphas=Y;this._fillColors=t.colors;this._fillType=t.type||"linear";this._fillRatios=t.ratios||[];this._fillRotation=t.rotation||0;this._fillWidth=t.width||null;this._fillHeight=t.height||null;this._fillX=!isNaN(t.tx)?t.tx:NaN;this._fillY=!isNaN(t.ty)?t.ty:NaN;this._gradientId="lg"+Math.round(100000*Math.random());return this;},clear:function(){this._path="";},curveTo:function(u,t,w,v,Y,z){this._shapeType="path";if(this._path.indexOf("C")<0||this._pathType!=="C"){this._pathType="C";this._path+=" C";}this._path+=Math.round(u)+", "+Math.round(t)+", "+Math.round(w)+", "+Math.round(v)+", "+Y+", "+z+" ";this._trackSize(Y,z);},quadraticCurveTo:function(u,t,Y,v){if(this._path.indexOf("Q")<0||this._pathType!=="Q"){this._pathType="Q";this._path+=" Q";}this._path+=Math.round(u)+" "+Math.round(t)+" "+Math.round(Y)+" "+Math.round(v);},drawCircle:function(Y,u,t){this._shape={x:Y-t,y:u-t,w:t*2,h:t*2};this._attributes={cx:Y,cy:u,r:t};this._width=this._height=t*2;this._x=Y-t;this._y=u-t;this._shapeType="circle";this._draw();},drawEllipse:function(Y,v,t,u){this._shape={x:Y,y:v,w:t,h:u};
this._width=t;this._height=u;this._x=Y;this._y=v;this._shapeType="ellipse";this._draw();},drawRect:function(Y,v,t,u){this._shape={x:Y,y:v,w:t,h:u};this._x=Y;this._y=v;this._width=t;this._height=u;this.moveTo(Y,v);this.lineTo(Y+t,v);this.lineTo(Y+t,v+u);this.lineTo(Y,v+u);this.lineTo(Y,v);this._draw();},drawRoundRect:function(Y,AA,t,v,u,z){this._shape={x:Y,y:AA,w:t,h:v};this._x=Y;this._y=AA;this._width=t;this._height=v;this.moveTo(Y,AA+z);this.lineTo(Y,AA+v-z);this.quadraticCurveTo(Y,AA+v,Y+u,AA+v);this.lineTo(Y+t-u,AA+v);this.quadraticCurveTo(Y+t,AA+v,Y+t,AA+v-z);this.lineTo(Y+t,AA+z);this.quadraticCurveTo(Y+t,AA,Y+t-u,AA);this.lineTo(Y+u,AA);this.quadraticCurveTo(Y,AA,Y,AA+z);this._draw();},drawWedge:function(u,z,w,v,t,Y){this._drawingComplete=false;this._path=this._getWedgePath({x:u,y:z,startAngle:w,arc:v,radius:t,yRadius:Y});this._width=t*2;this._height=this._width;this._shapeType="path";this._draw();},_getWedgePath:function(AN){var AD=AN.x,AB=AN.y,AI=AN.startAngle,AA=AN.arc,u=AN.radius,v=AN.yRadius||u,AH,AF,z,AM,w,AE,AC,AL,AK,t,Y,AJ=0,AG=" M"+AD+", "+AB;if(Math.abs(AA)>360){AA=360;}AH=Math.ceil(Math.abs(AA)/45);AF=AA/AH;z=-(AF/180)*Math.PI;AM=-(AI/180)*Math.PI;if(AH>0){AE=AD+Math.cos(AI/180*Math.PI)*u;AC=AB+Math.sin(-AI/180*Math.PI)*v;AG+=" L"+Math.round(AE)+", "+Math.round(AC);AG+=" Q";for(;AJ<AH;++AJ){AM+=z;w=AM-(z/2);AL=AD+Math.cos(AM)*u;AK=AB+Math.sin(AM)*v;t=AD+Math.cos(w)*(u/Math.cos(z/2));Y=AB+Math.sin(w)*(v/Math.cos(z/2));AG+=Math.round(t)+" "+Math.round(Y)+" "+Math.round(AL)+" "+Math.round(AK)+" ";}AG+=" L"+AD+", "+AB;}return AG;},end:function(){if(this._shapeType){this._draw();}this._initProps();},lineGradientStyle:function(){},lineStyle:function(v,u,z,x,w,y,Y,t){this._stroke=1;this._strokeWeight=v;if(u){this._strokeColor=u;}this._strokeAlpha=z||1;},lineTo:function(x,w,u){var t=arguments,v,Y;if(typeof x==="string"||typeof x==="number"){t=[[x,w]];}Y=t.length;this._shapeType="path";if(this._path.indexOf("L")<0||this._pathType!=="L"){this._pathType="L";this._path+=" L";}for(v=0;v<Y;++v){this._path+=t[v][0]+", "+t[v][1]+" ";this._trackSize.apply(this,t[v]);}},moveTo:function(Y,t){this._pathType="M";this._path+=" M"+Y+", "+t;},setSize:function(Y,t){if(Y>this._svg.getAttribute("width")){this._svg.setAttribute("width",Y);}if(t>this._svg.getAttribute("height")){this._svg.setAttribute("height",t);}},setPosition:function(Y,t){this._svg.setAttribute("x",Y);this._svg.setAttribute("y",t);},render:function(u){var Y=u.offsetWidth,t=u.offsetHeight;u=u||B.config.doc.body;u.appendChild(this._svg);this.setSize(Y,t);this._initProps();return this;},_shapeType:null,_trackSize:function(Y,t){if(Y>this._width){this._width=Y;}if(t>this._height){this._height=t;}this.setSize(Y,t);},_initProps:function(){this._shape=null;this._fillColor=null;this._strokeColor=null;this._strokeWeight=0;this._fillProps=null;this._fillAlphas=null;this._fillColors=null;this._fillType=null;this._fillRatios=null;this._fillRotation=null;this._fillWidth=null;this._fillHeight=null;this._fillX=NaN;this._fillY=NaN;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;this._fill=null;this._stroke=0;this._stroked=false;this._pathType=null;this._attributes={};},_clearPath:function(){this._shape=null;this._shapeType=null;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;this._pathType=null;this._attributes={};},_draw:function(){var t=this._createGraphicNode(this._shapeType),u,Y;if(this._path){if(this._fill){this._path+="z";}t.setAttribute("d",this._path);}else{for(u in this._attributes){if(this._attributes.hasOwnProperty(u)){t.setAttribute(u,this._attributes[u]);}}}t.setAttribute("stroke-width",this._strokeWeight);if(this._strokeColor){t.setAttribute("stroke",this._strokeColor);t.setAttribute("stroke-opacity",this._strokeAlpha);}if(!this._fillType||this._fillType==="solid"){if(this._fillColor){t.setAttribute("fill",this._fillColor);t.setAttribute("fill-opacity",this._fillAlpha);}else{t.setAttribute("fill","none");}}else{if(this._fillType==="linear"){Y=this._getFill();Y.setAttribute("id",this._gradientId);this._defs.appendChild(Y);t.setAttribute("fill","url(#"+this._gradientId+")");}}this._svg.appendChild(t);this._clearPath();},_getFill:function(){var Y=this._fillType,t;switch(Y){case"linear":t=this._getLinearGradient("fill");break;case"radial":break;case"bitmap":break;}return t;},_getLinearGradient:function(y){var AM=this._createGraphicNode("linearGradient"),x="_"+y,AD=this[x+"Colors"],AG=this[x+"Ratios"],AB=this[x+"Alphas"],AE=this._fillWidth||(this._shape.w),AP=this._fillHeight||(this._shape.h),AI=this[x+"Rotation"],AN,AK,AL,AC,z,AF,AJ,AQ,AO,v,t,u=AE/2,Y=AP/2,AA,AH;AA=Math.PI/180;AH=parseFloat(parseFloat(Math.tan(AI*AA)).toFixed(8));if(Math.abs(AH)*AE/2>=AP/2){if(AI<180){v=0;t=AP;}else{v=AP;t=0;}AQ=u-((Y-v)/AH);AO=u-((Y-t)/AH);}else{if(AI>90&&AI<270){AQ=AE;AO=0;}else{AQ=0;AO=AE;}v=((AH*(u-AQ))-Y)*-1;t=((AH*(u-AO))-Y)*-1;}AM.setAttribute("gradientTransform","rotate("+AI+")");AM.setAttribute("width",AE);AM.setAttribute("height",AP);AM.setAttribute("gradientUnits","userSpaceOnUse");AK=AD.length;AF=0;for(AN=0;AN<AK;++AN){AL=AD[AN];AC=AG[AN]||AN/(AK-1);AC=Math.round(AC*100)+"%";z=AB[AN]||"1";AF=(AN+1)/AK;AJ=this._createGraphicNode("stop");AJ.setAttribute("offset",AC);AJ.setAttribute("stop-color",AL);AJ.setAttribute("stop-opacity",z);AM.appendChild(AJ);}return AM;},_defs:null,_createGraphics:function(){var Y=this._createGraphicNode("svg");Y.style.position="absolute";Y.style.top="0px";Y.style.left="0px";return Y;},_createGraphicNode:function(u,Y){var w=document.createElementNS("http://www.w3.org/2000/svg","svg:"+u),t=Y||"none";if(u!=="defs"&&u!=="stop"&&u!=="linearGradient"){w.setAttribute("pointer-events",t);}return w;},_getNodeShapeType:function(Y){if(this._typeConversionHash.hasOwnProperty(Y)){Y=this._typeConversionHash[Y];}return Y;},_typeConversionHash:{circle:"ellipse",wedge:"path"},getShape:function(u){var AB,v,AC,AE=u.fill,z=u.border,AD=u.width,AA=u.height,y=AD/2,x=AA/2,t=AD/2,Y=AA/2,AF;if(u.node){v=u.node;AC=u.type||u.shape;
if(AC==="circle"){AC="ellipse";}}else{this.clear();AC=u.shape||"shape";if(AC==="circle"){AC="ellipse";}v=this._createGraphicNode(this._getNodeShapeType(AC),"visiblePainted");if(AC==="wedge"){AF=this._getWedgePath(u.props)+" Z";v.setAttribute("d",AF);}}if(z&&z.weight&&z.weight>0){z.color=z.color||"#000000";z.weight=z.weight||1;z.alpha=z.alpha||1;v.setAttribute("stroke",z.color);v.setAttribute("stroke-width",z.weight);v.setAttribute("stroke-opacity",z.alpha);}else{v.setAttribute("stroke","none");}this.setSize(AD,AA);this.setPosition(0,0);if(AC==="ellipse"){if(z.weight&&z.weight>0){t-=z.weight;Y-=z.weight;}v.setAttribute("cx",y);v.setAttribute("cy",x);v.setAttribute("rx",t);v.setAttribute("ry",Y);}else{v.setAttribute("width",AD);v.setAttribute("height",AA);v.style.width=AD+"px";v.style.height=AA+"px";}if(AE.type==="linear"||AE.type==="radial"){}else{if(AE.type==="bitmap"){}else{if(!AE.color){v.setAttribute("fill","none");}else{AE.alpha=AE.alpha||1;v.setAttribute("fill",AE.color);v.setAttribute("fill-opacity",AE.alpha);}}}v.style.display="block";v.style.position="absolute";if(!u.node){this._svg.appendChild(v);}AB={width:AD,height:AA,fill:AE,node:v,border:z,type:AC};return AB;},updateShape:function(Y,t){if(t.fill){Y.fill=B.merge(Y.fill,t.fill);}if(t.border){Y.border=B.merge(Y.border,t.border);if(t.border.weight){Y.border.weight=t.border.weight;}else{if(t.border.weight===0){Y.border.weight=0;}}}if(t.width){Y.width=t.width;}if(t.height){Y.height=t.height;}if(t.shape!==Y.type){t.node=null;}return this.getShape(Y);}};B.Graphic=D;var I=function(Y){this.initializer.apply(this,arguments);};I.prototype={initializer:function(t){t=t||{};var Y=t.width||0,u=t.height||0;this._vml=this._createGraphics();this.setSize(Y,u);this._initProps();},beginBitmapFill:function(Y){var t={};t.src=Y.bitmap.src;t.type="tile";this._fillProps=t;if(!isNaN(Y.tx)||!isNaN(Y.ty)||!isNaN(Y.width)||!isNaN(Y.height)){this._gradientBox={tx:Y.tx,ty:Y.ty,width:Y.width,height:Y.height};}else{this._gradientBox=null;}},beginFill:function(Y,t){if(Y){if(t){this._fillProps={type:"solid",opacity:t};}this._fillColor=Y;this._fill=1;}return this;},beginGradientFill:function(u){var z=u.type,Y=u.colors,t=u.alphas||[],x=u.ratios||[],AC={colors:Y,ratios:x},y=t.length,w=0,v,AA,AB=u.rotation||0;for(;w<y;++w){v=t[w];AA=w>0?w+1:"";t[w]=Math.round(v*100)+"%";AC["opacity"+AA]=t[w];}if(z==="linear"){if(u){}if(AB>0&&AB<=90){AB=450-AB;}else{if(AB<=270){AB=270-AB;}else{if(AB<=360){AB=630-AB;}else{AB=270;}}}AC.type="gradientunscaled";AC.angle=AB;}else{if(z==="radial"){AC.alignshape=false;AC.type="gradientradial";AC.focus="100%";AC.focusposition="50%,50%";}}AC.ratios=x||[];if(!isNaN(u.tx)||!isNaN(u.ty)||!isNaN(u.width)||!isNaN(u.height)){this._gradientBox={tx:u.tx,ty:u.ty,width:u.width,height:u.height};}else{this._gradientBox=null;}this._fillProps=AC;},clear:function(){this._path="";this._removeChildren(this._vml);},_removeChildren:function(Y){if(Y.hasChildNodes()){var t;while(Y.firstChild){t=Y.firstChild;this._removeChildren(t);Y.removeChild(t);}}},curveTo:function(u,t,w,v,Y,z){this._shape="shape";this._path+=" c "+Math.round(u)+", "+Math.round(t)+", "+Math.round(w)+", "+Math.round(v)+", "+Y+", "+z;this._trackSize(Y,z);},quadraticCurveTo:function(u,t,Y,v){this._path+=" qb "+u+", "+t+", "+Y+", "+v;},drawCircle:function(Y,u,t){this._width=this._height=t*2;this._x=Y-t;this._y=u-t;this._shape="oval";this._draw();},drawEllipse:function(Y,v,t,u){this._width=t;this._height=u;this._x=Y;this._y=v;this._shape="oval";this._draw();},drawRect:function(Y,v,t,u){this._x=Y;this._y=v;this._width=t;this._height=u;this.moveTo(Y,v);this.lineTo(Y+t,v);this.lineTo(Y+t,v+u);this.lineTo(Y,v+u);this.lineTo(Y,v);this._draw();},drawRoundRect:function(Y,AA,t,v,u,z){this._x=Y;this._y=AA;this._width=t;this._height=v;this.moveTo(Y,AA+z);this.lineTo(Y,AA+v-z);this.quadraticCurveTo(Y,AA+v,Y+u,AA+v);this.lineTo(Y+t-u,AA+v);this.quadraticCurveTo(Y+t,AA+v,Y+t,AA+v-z);this.lineTo(Y+t,AA+z);this.quadraticCurveTo(Y+t,AA,Y+t-u,AA);this.lineTo(Y+u,AA);this.quadraticCurveTo(Y,AA,Y,AA+z);this._draw();},drawWedge:function(u,z,w,v,t,Y){this._drawingComplete=false;this._width=t;this._height=t;Y=Y||t;this._path+=this._getWedgePath({x:u,y:z,startAngle:w,arc:v,radius:t,yRadius:Y});this._width=t*2;this._height=this._width;this._shape="shape";this._draw();},_getWedgePath:function(v){var u=v.x,AB=v.y,z=v.startAngle,w=v.arc,t=v.radius,Y=v.yRadius||t,AA;if(Math.abs(w)>360){w=360;}z*=65535;w*=65536;AA=" m "+u+" "+AB+" ae "+u+" "+AB+" "+t+" "+Y+" "+z+" "+w;return AA;},end:function(){if(this._shape){this._draw();}this._initProps();},lineGradientStyle:function(){},lineStyle:function(v,u,z,x,w,y,Y,t){this._stroke=1;this._strokeWeight=v*0.7;this._strokeColor=u;},lineTo:function(x,w,u){var t=arguments,v,Y;if(typeof x==="string"||typeof x==="number"){t=[[x,w]];}Y=t.length;this._shape="shape";this._path+=" l ";for(v=0;v<Y;++v){this._path+=" "+Math.round(t[v][0])+", "+Math.round(t[v][1]);this._trackSize.apply(this,t[v]);}},moveTo:function(Y,t){this._path+=" m "+Math.round(Y)+", "+Math.round(t);},setSize:function(Y,t){this._vml.style.width=Y+"px";this._vml.style.height=t+"px";this._vml.coordSize=Y+" "+t;},setPosition:function(Y,t){this._vml.style.left=Y+"px";this._vml.style.top=t+"px";},render:function(u){var Y=u.offsetWidth||0,t=u.offsetHeight||0;u=u||B.config.doc.body;u.appendChild(this._vml);this.setSize(Y,t);this._initProps();return this;},_shape:null,_trackSize:function(Y,t){if(Y>this._width){this._width=Y;}if(t>this._height){this._height=t;}},_initProps:function(){this._fillColor=null;this._strokeColor=null;this._strokeWeight=0;this._fillProps=null;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;this._fill=null;this._stroke=0;this._stroked=false;},_clearPath:function(){this._shape=null;this._path="";this._width=0;this._height=0;this._x=0;this._y=0;},_draw:function(){var u=this._createGraphicNode(this._shape),Y=this._width,v=this._height,t=this._fillProps;if(this._path){if(this._fill||this._fillProps){this._path+=" x";
}if(this._stroke){this._path+=" e";}u.path=this._path;u.coordSize=Y+", "+v;}else{u.style.display="block";u.style.position="absolute";u.style.left=this._x+"px";u.style.top=this._y+"px";}if(this._fill){u.fillColor=this._fillColor;}else{u.filled=false;}if(this._stroke&&this._strokeWeight>0){u.strokeColor=this._strokeColor;u.strokeWeight=this._strokeWeight;}else{u.stroked=false;}u.style.width=Y+"px";u.style.height=v+"px";if(t){u.filled=true;u.appendChild(this._getFill());}this._vml.appendChild(u);this._clearPath();},_getFill:function(){var AG=this._createGraphicNode("fill"),AE=this._width,z=this._height,AA=this._fillProps,t,AF,x=0,Y,AD="",AB,y,AC=Math.sqrt(Math.pow(AE,2)+Math.pow(z,2)),v=50,u=50;if(this._gradientBox){v=Math.round((this._gradientBox.width/2-((this._x-this._gradientBox.tx)*AC/AE))/(AE*AE/AC)*100);u=Math.round((this._gradientBox.height/2-((this._y-this._gradientBox.ty)*AC/z))/(z*z/AC)*100);AA.focussize=(this._gradientBox.width/AE)/10+" "+(this._gradientBox.height/z)/10;}if(AA.colors){Y=AA.colors.concat();y=AA.ratios.concat();AB=Y.length;for(;x<AB;++x){AF=y[x]||x/(AB-1);AF=Math.round(100*AF)+"%";AD+=", "+AF+" "+Y[x];}if(parseInt(AF,10)<100){AD+=", 100% "+Y[AB-1];}}for(t in AA){if(AA.hasOwnProperty(t)){AG.setAttribute(t,AA[t]);}}AG.colors=AD.substr(2);if(AA.type==="gradientradial"){AG.focusposition=v+"%,"+u+"%";}return AG;},_createGraphics:function(){var Y=this._createGraphicNode("group");Y.style.display="inline-block";Y.style.position="absolute";return Y;},_createGraphicNode:function(Y){return document.createElement("<"+Y+' xmlns="urn:schemas-microsft.com:vml" class="vml'+Y+'"/>');},_getNodeShapeType:function(t){var Y="shape";if(this._typeConversionHash.hasOwnProperty(t)){Y=this._typeConversionHash[t];}return Y;},_typeConversionHash:{circle:"oval",ellipse:"oval",rect:"rect"},getShape:function(Y){var y,t,z,AB=Y.fill,u=Y.border,x,AA=Y.width,v=Y.height,AC;if(Y.node){t=Y.node;z=Y.type||Y.shape;}else{this.clear();z=Y.shape||"shape";t=this._createGraphicNode(this._getNodeShapeType(z));if(z==="wedge"){AC=this._getWedgePath(Y.props);if(AB){AC+=" x";}if(u){AC+=" e";}t.path=AC;}}this.setPosition(0,0);if(u&&u.weight&&u.weight>0){t.strokecolor=u.color||"#000000";t.strokeweight=u.weight||1;t.stroked=true;AA-=u.weight;v-=u.weight;}else{t.stroked=false;}this.setSize(AA,v);t.style.width=AA+"px";t.style.height=v+"px";t.filled=true;if(AB.type==="linear"||AB.type==="radial"){this.beginGradientFill(AB);t.appendChild(this._getFill());}else{if(AB.type==="bitmap"){this.beginBitmapFill(AB);t.appendChild(this._getFill());}else{if(!AB.color){t.filled=false;}else{if(Y.fillnode){this._removeChildren(Y.fillnode);}x=this._createGraphicNode("fill");x.setAttribute("type","solid");AB.alpha=AB.alpha||1;x.setAttribute("color",AB.color);x.setAttribute("opacity",AB.alpha);t.appendChild(x);}}}t.style.display="block";t.style.position="absolute";if(!Y.node){this._vml.appendChild(t);}y={width:AA,height:v,fill:AB,node:t,fillnode:x,border:u};return y;},updateShape:function(Y,t){if(t.fill){Y.fill=B.merge(Y.fill,t.fill);}if(t.border){Y.border=B.merge(Y.border,t.border);}if(t.width){Y.width=t.width;}if(t.height){Y.height=t.height;}if(t.shape!==Y.type){t.node=null;t.fillnode=null;}return this.getShape(Y);},addChild:function(Y){this._vml.appendChild(Y);}};if(B.UA.ie){var M=document.createStyleSheet();M.addRule(".vmlgroup","behavior:url(#default#VML)",M.rules.length);M.addRule(".vmlgroup","display:inline-block",M.rules.length);M.addRule(".vmlgroup","zoom:1",M.rules.length);M.addRule(".vmlshape","behavior:url(#default#VML)",M.rules.length);M.addRule(".vmlshape","display:inline-block",M.rules.length);M.addRule(".vmloval","behavior:url(#default#VML)",M.rules.length);M.addRule(".vmloval","display:inline-block",M.rules.length);M.addRule(".vmlrect","behavior:url(#default#VML)",M.rules.length);M.addRule(".vmlrect","display:block",M.rules.length);M.addRule(".vmlfill","behavior:url(#default#VML)",M.rules.length);B.Graphic=I;}else{var a="_yuid",j="nodeName",p=B.Node.prototype.addClass,F=B.Node.prototype.toString,o=B.NodeList.prototype.toString;B.Node.prototype.addClass=function(Y){var t=this._node;if(t.tagName.indexOf("svg")>-1){if(t.className&&t.className.baseVal){t.className.baseVal=B.Lang.trim([t.className.baseVal,Y].join(" "));}else{t.setAttribute("class",Y);}}else{p.apply(this,arguments);}return this;};B.Node.prototype.toString=function(){var Y=this._node,t;if(Y&&Y.className&&Y.className.baseVal){if(typeof Y.className.baseVal=="string"){t=Y[j]+"."+Y.className.baseVal.replace(" ",".");}else{t=this[a]+": not bound to any nodes";}}else{t=F.apply(this,arguments);}return t;};B.NodeList.prototype.toString=function(){var Y=this._nodes,t,u;if(Y&&Y[0]){t=Y[0];}if(t&&t.className&&t.className.baseVal){if(typeof t.className.baseVal=="string"){u=t[j];if(t.id){u+="#"+t.id;}u+="."+t.className.baseVal.replace(" ",".");}else{u=this[a]+": not bound to any nodes";}}else{u=o.apply(this,arguments);}return u;};B.NodeList.importMethod(B.Node.prototype,["addClass"]);}function S(Y){this._createId();this._keys={};this._data=[];this._keyCollection=[];S.superclass.constructor.apply(this,arguments);}S.NAME="baseAxis";S.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(Y){this._roundingUnit=Y;if(this._roundMinAndMax){this._updateMinAndMax();}return Y;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(Y){if(this._roundMinAndMax==Y){return Y;}this._roundMinAndMax=Y;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(Y){if(Y===this._dataProvider){return;}if(this._dataProvider){}if(Y.hasOwnProperty("data")&&B.Lang.isArray(Y.data)){Y=B.merge(Y);Y=Y.data;}this._dataProvider={data:Y.concat()};this._dataClone=this._dataProvider.data.concat();return Y;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;
}return this._setMaximum;},setter:function(Y){this._setMaximum=Y;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(Y){this._setMinimum=Y;return Y;}},autoMax:{getter:function(){return this._autoMax;},setter:function(Y){this._autoMax=Y;}},autoMin:{getter:function(){return this._autoMin;},setter:function(Y){this._autoMin=Y;}},data:{getter:function(){return this._data;}},keys:{lazyAdd:false,getter:function(){return this._keys;},setter:function(u){var t,Y;if(B.Lang.isArray(u)){Y=u.length;for(t=0;t<Y;++t){this.addKey(u[t]);}return;}for(t in u){if(u.hasOwnProperty(t)){this.addKey(u[t]);}}}},keyCollection:{getter:function(){return this._keyCollection;},readOnly:true},labelFunction:{getter:function(){if(this._labelFunction){return this._labelFunction;}return this._defaultLabelFunction;},setter:function(Y){this._labelFunction=Y;}}};B.extend(S,B.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=B.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(v){if(this.get("keys").hasOwnProperty(v)){return;}this._keyCollection.push(v);this._dataClone=this.get("dataProvider").data.concat();var u=this.get("keys"),Y={},t={axis:this};this._setDataByKey(v);Y[v]=u[v].concat();this._updateMinAndMax();t.keysAdded=Y;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",t);}else{this.fire("axisUpdate",t);}},_setDataByKey:function(w){var v,x,t=[],u=this._dataClone.concat(),Y=u.length;for(v=0;v<Y;++v){x=u[v];t[v]=x[w];}this.get("keys")[w]=t;this._data=this._data.concat(t);},removeKey:function(y){if(!this.get("keys").hasOwnProperty(y)){return;}var z,w,x={},AB=[],t={},AA=this.get("keys"),Y={},v=this.get("keyCollection"),u=B.Array.indexOf(v,y);if(v&&v.length>0&&u>-1){v.splice(u,1);}t[y]=AA[y].concat();for(z in AA){if(AA.hasOwnProperty(z)){if(z==y){continue;}w=AA[z];AB=AB.concat(w);x[z]=w;}}AA=x;this._data=AB;this._updateMinAndMax();Y.keysRemoved=t;this.fire("axisUpdate",Y);},getKeyValueAt:function(t,Y){var v=NaN,u=this.get("keys");if(u[t]&&u[t][Y]){v=u[t][Y];}return v;},getDataByKey:function(t){var Y=this.get("keys");if(Y[t]){return Y[t];}return null;},_updateMinAndMax:function(){var x=this.get("data"),t=0,w=0,Y,u,v;if(x&&x.length&&x.length>0){Y=x.length;t=w=x[0];if(Y>1){for(v=1;v<Y;v++){u=x[v];if(isNaN(u)){continue;}t=Math.max(u,t);w=Math.min(u,w);}}}this._dataMaximum=t;this._dataMinimum=w;},newDataUpdateHandler:function(){var Y,u=this.get("keys"),t={};this._data=[];this._dataClone=this.get("dataProvider").data.concat();for(Y in u){if(u.hasOwnProperty(Y)){u[Y]=this._setDataByKey(Y);this._data=this._data.concat(u[Y]);}}this._updateMinAndMax();t.keysAdded=u;this.fire("axisUpdate",t);},_keyDataUpdateHandler:function(){var Y=false,v={},w=v.keysAdded,x=v.keysRemoved,u=this.get("keys"),t;for(t in u){if(u.hasOwnProperty(t)){if(w.hasOwnProperty(t)){Y=true;u[t]=u[t];}if(x.hasOwnProperty(t)){Y=true;u[t]=[];}}}if(!Y){return;}this._data=[];for(t in u){if(u.hasOwnProperty(t)){this._data=this._data.concat(u[t]);}}this._updateMinAndMax();v.keysAdded=w;v.keysRemoved=x;this.fire("axisUpdate",v);},getTotalMajorUnits:function(u,Y){var t;if(u.determinant==="count"){t=u.count;}else{if(u.determinant==="distance"){t=(Y/u.distance)+1;}}return t;},getMajorUnitDistance:function(Y,v,t){var u;if(t.determinant==="count"){u=v/(Y-1);}else{if(t.determinant==="distance"){u=t.distance;}}return u;},getEdgeOffset:function(t,Y){return 0;},getLabelAtPosition:function(x,t,v){var u=this.get("minimum"),Y=this.get("maximum"),w=(x/t*(Y-u))+u;return this.get("labelFunction")(w,v);},_labelFunction:this._defaultLabelFunction,_defaultLabelFunction:function(t,Y){return t;}});B.BaseAxis=S;function P(Y){P.superclass.constructor.apply(this,arguments);}P.NAME="numericAxis";P.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(Y){if(Y==this._alwaysShowZero){return;}this._alwaysShowZero=Y;this._updateMinAndMax();return Y;}}};B.extend(P,B.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var y=this.get("data"),t=0,x=0,Y,u,w,v;if(y&&y.length&&y.length>0){Y=y.length;t=x=y[0];if(Y>1){for(w=1;w<Y;w++){u=y[w];if(isNaN(u)){if(B.Lang.isObject(u)){for(v in u){if(u.hasOwnProperty(v)){t=Math.max(u[v],t);x=Math.min(u[v],x);}}}continue;}t=Math.max(u,t);x=Math.min(u,x);}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(t,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(x,this._roundingUnit);}else{this._dataMaximum=t;this._dataMinimum=x;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(u,t){t=t||1;if(t===0){return u;}var Y=Math.round(this._roundToPrecision(u/t,10))*t;return this._roundToPrecision(Y,10);},_roundUpToNearest:function(t,Y){Y=Y||1;if(Y===0){return t;}return Math.ceil(this._roundToPrecision(t/Y,10))*Y;},_roundDownToNearest:function(t,Y){Y=Y||1;if(Y===0){return t;}return Math.floor(this._roundToPrecision(t/Y,10))*Y;},_roundToPrecision:function(u,Y){Y=Y||0;var t=Math.pow(10,Y);return Math.round(t*u)/t;},_defaultLabelFunction:function(t,Y){return B.DataType.Number.format(t,Y);}});B.NumericAxis=P;function d(Y){d.superclass.constructor.apply(this,arguments);}d.NAME="stackedAxis";B.extend(d,B.NumericAxis,{_updateMinAndMax:function(){var y=0,t=0,x=0,Y=0,w=0,u=0,z,v,AA=this.get("keys");for(z in AA){if(AA.hasOwnProperty(z)){w=Math.max(w,AA[z].length);}}for(;u<w;++u){x=0;Y=0;for(z in AA){if(AA.hasOwnProperty(z)){v=AA[z][u];if(isNaN(v)){continue;}if(v>=0){x+=v;}else{Y+=v;}}}if(x>0){y=Math.max(y,x);}else{y=Math.max(y,Y);}if(Y<0){t=Math.min(t,Y);}else{t=Math.min(t,x);}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(y,this._roundingUnit);
this._dataMinimum=this._roundDownToNearest(t,this._roundingUnit);}else{this._dataMaximum=y;this._dataMinimum=t;}if(this._alwaysShowZero&&t>0){this._dataMinimum=Math.min(0,this._dataMinimum);}}});B.StackedAxis=d;function e(Y){e.superclass.constructor.apply(this,arguments);}e.NAME="timeAxis";e.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(Y){this._setMaximum=this._getNumber(Y);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;},setter:function(Y){this._setMinimum=this._getNumber(Y);this.fire("dataChange");}}};B.extend(e,B.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(w){var x,t=[],v=this._dataClone.concat(),u,y,Y=v.length;for(u=0;u<Y;++u){x=v[u][w];if(B.Lang.isDate(x)){y=x.valueOf();}else{if(!B.Lang.isNumber(x)){y=new Date(x.toString()).valueOf();}else{y=x;}}t[u]=y;}this.get("keys")[w]=t;this._data=this._data.concat(t);},_getNumber:function(Y){if(B.Lang.isDate(Y)){Y=Y.valueOf();}else{if(!B.Lang.isNumber(Y)){Y=new Date(Y.toString()).valueOf();}}return Y;},updateMaxByPosition:function(t){var Y=this._dataMaximum-this._dataMinimum;t=Math.round(t*100)/100;t=t*Y;t+=this._dataMinimum;this.set("maximum",t);},updateMinByPosition:function(t){var Y=this._dataMaximum-this._dataMinimum;t=Math.round(t*100)/100;t=t*Y;t+=this._dataMinimum;this.set("minimum",t);},updateMinAndMaxByPosition:function(u,w,t){var v=u/t,Y=w/t;v+=this._dataMinimum;Y+=this._dataMaximum;this._setMaximum=this._getNumber(Y);this._setMinimum=this._getNumber(v);this.fire("dataChange");},_defaultLabelFunction:function(t,Y){return B.DataType.Date.format(B.DataType.Date.parse(t),{format:Y});}});B.TimeAxis=e;function q(Y){q.superclass.constructor.apply(this,arguments);}q.NAME="categoryAxis";B.extend(q,B.BaseAxis,{_indices:null,GUID:"yuicategoryaxis",_dataType:"category",_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(w){var v,x,t=[],y=[],u=this._dataClone.concat(),Y=u.length;if(!this._indices){this._indices={};}for(v=0;v<Y;++v){x=u[v];t[v]=v;y[v]=x[w];}this._indices[w]=t;this.get("keys")[w]=y.concat();this._data=this._data.concat(y);},getDataByKey:function(t){var Y=this._indices;if(Y[t]){return Y[t];}return null;},getTotalMajorUnits:function(t,Y){return this._data.length;},getMajorUnitDistance:function(Y,v,t){var u;if(t.determinant==="count"){u=v/Y;}else{if(t.determinant==="distance"){u=t.distance;}}return u;},getEdgeOffset:function(t,Y){return Y/t;},getLabelAtPosition:function(w,Y,v){var u=this._data.length-1,t=Math.round(w/(Y/u));return this._data[t];}});B.CategoryAxis=q;function G(Y){G.superclass.constructor.apply(this,arguments);}G.NAME="renderer";G.ATTRS={padding:{getter:function(){return this._padding||this._getDefPadding();},setter:function(t){var Y=this._padding||this._getDefPadding();this._padding=B.merge(Y,t);}},node:{value:null},graphic:{value:null},styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(Y){this._styles=this._setStyles(Y);return this._styles;},validator:function(Y){return B.Lang.isObject(Y);}}};B.extend(G,B.Widget,{renderUI:function(){this._setNode();if(!this.get("graphic")){this._setCanvas();}},bindUI:function(){this.after("stylesChange",B.bind(this._updateHandler,this));},syncUI:function(){this.draw();},_updateHandler:function(Y){if(this.get("rendered")){this.draw();}},_setNode:function(){var Y=this.get("contentBox"),u=document.createElement("div"),t=u.style;Y.appendChild(u);t.position="absolute";t.display="block";t.top="0px";t.left="0px";t.width="100%";t.height="100%";this.set("node",u);},_setCanvas:function(){this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("contentBox"));},_newStyles:null,_styles:null,_setStyles:function(t){var Y=this.get("styles");return this._mergeStyles(t,Y);},_mergeStyles:function(t,Y){this._newStyles={};if(!Y){Y={};}B.Object.each(t,function(w,v,u){if(Y.hasOwnProperty(v)&&B.Lang.isObject(w)&&!B.Lang.isArray(w)){Y[v]=this._mergeStyles(w,Y[v]);}else{Y[v]=w;this._newStyles[v]=w;}},this);return Y;},_getDefaultStyles:function(){return{};},_getDefPadding:function(){return{top:0,right:0,bottom:0,left:0};}});B.Renderer=G;function U(Y){U.superclass.constructor.apply(this,arguments);}U.NAME="marker";U.ATTRS={series:{value:null},drawMethod:{getter:function(){return this._drawMethod;},setter:function(Y){this._drawMethod=Y;return Y;}},index:{value:null},colorIndex:{value:null},state:{value:"off"}};B.extend(U,B.Renderer,{bindUI:function(){this.after("stylesChange",B.bind(this._updateHandler,this));this.after("stateChange",B.bind(this._updateHandler,this));},renderUI:function(){if(!this.get("graphic")){this._setCanvas();}},_updateHandler:function(Y){if(this.get("rendered")){this._update();}},_handleMouseOver:function(Y){this.set("state","over");},_handleMouseDown:function(Y){this.set("state","down");},_handleMouseOut:function(Y){this.set("state","off");},_getStateStyles:function(){var AE=this._mergeStyles(this.get("styles"),{}),Y=this.get("state"),v,AB,u,AA=0,z=0,AD=this._mergeStyles(AE.fill,{}),t=this._mergeStyles(AE.border,{}),AC=this.get("series")._getDefaultColor(this.get("colorIndex"));AD.color=AD.color||AC;t.color=t.color||AC;v={fill:AD,border:t,shape:AE.shape,width:AE.width,height:AE.height,props:this._mergeStyles(AE.props,{})};if((Y==="over"||Y==="down")&&AE[Y]){v=this._mergeStyles(AE[Y],v);}AB=v.width;u=v.height;v.x=AA;v.y=z;v.width=AB;v.height=u;this.set("width",AB);this.set("height",u);return v;},draw:function(){var Y=this._getStateStyles(),t=this.get("graphic");this._shape=t.getShape(Y);B.one(this._shape.node).addClass("yui3-seriesmarker");},_shape:null,_update:function(){this.get("graphic").updateShape(this._shape,this._getStateStyles());}});B.Marker=U;function R(Y){var t={line:{getter:function(){return this._lineDefaults||this._getLineDefaults();
},setter:function(v){var u=this._defaults||this._getLineDefaults();this._lineDefaults=B.merge(u,v);}}};this.addAttrs(t,Y);this.get("styles");}R.prototype={_lineDefaults:null,drawLines:function(){if(this.get("xcoords").length<1){return;}var AA=this.get("xcoords").concat(),AM=this.get("ycoords").concat(),AI=this.get("direction"),AE=AI==="vertical"?AM.length:AA.length,u,t,AL=u,AJ=t,AH,AF,AD,w=this.get("line"),AG=w.lineType,AB=w.color||this._getDefaultColor(this.get("graphOrder")),AK=w.dashLength,y=w.gapSpace,x=w.connectDiscontinuousPoints,Y=w.discontinuousType,v=w.discontinuousDashLength,AC=w.discontinuousGapSpace,z=this.get("graphic");u=AL=AA[0];t=AJ=AM[0];z.lineStyle(w.weight,AB);z.moveTo(u,t);for(AD=1;AD<AE;AD=++AD){AH=AA[AD];AF=AM[AD];if(isNaN(AF)){AL=AH;AJ=AF;continue;}if(AL==u){if(AG!="dashed"){z.lineTo(AH,AF);}else{this.drawDashedLine(AL,AJ,AH,AF,AK,y);}}else{if(!x){z.moveTo(AH,AF);}else{if(Y!="solid"){this.drawDashedLine(AL,AJ,AH,AF,v,AC);}else{z.lineTo(AH,AF);}}}u=AL=AH;t=AJ=AF;}z.end();},drawSpline:function(){if(this.get("xcoords").length<1){return;}var AE=this.get("xcoords"),z=this.get("ycoords"),AG=this.getCurveControlPoints(AE,z),AA=AG.length,AC,AB,u,t,AF,AD,w=0,AH=this.get("line"),Y=this.get("graphic"),v=AH.color||this._getDefaultColor(this.get("graphOrder"));Y.lineStyle(AH.weight,v);Y.moveTo(AE[0],z[0]);for(;w<AA;w=++w){AF=AG[w].endx;AD=AG[w].endy;AC=AG[w].ctrlx1;AB=AG[w].ctrlx2;u=AG[w].ctrly1;t=AG[w].ctrly2;Y.curveTo(AC,u,AB,t,AF,AD);}Y.end();},drawDashedLine:function(AD,AH,t,AF,v,u){v=v||10;u=u||10;var x=v+u,AA=t-AD,AE=AF-AH,AG=Math.sqrt(Math.pow(AA,2)+Math.pow(AE,2)),y=Math.floor(Math.abs(AG/x)),w=Math.atan2(AE,AA),AC=AD,AB=AH,z,Y=this.get("graphic");AA=Math.cos(w)*x;AE=Math.sin(w)*x;for(z=0;z<y;++z){Y.moveTo(AC,AB);Y.lineTo(AC+Math.cos(w)*v,AB+Math.sin(w)*v);AC+=AA;AB+=AE;}Y.moveTo(AC,AB);AG=Math.sqrt((t-AC)*(t-AC)+(AF-AB)*(AF-AB));if(AG>v){Y.lineTo(AC+Math.cos(w)*v,AB+Math.sin(w)*v);}else{if(AG>0){Y.lineTo(AC+Math.cos(w)*AG,AB+Math.sin(w)*AG);}}Y.moveTo(t,AF);},_getLineDefaults:function(){return{alpha:1,weight:1,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10};}};B.augment(R,B.Attribute);B.Lines=R;function r(Y){var t={area:{getter:function(){return this._defaults||this._getAreaDefaults();},setter:function(v){var u=this._defaults||this._getAreaDefaults();this._defaults=B.merge(u,v);}}};this.addAttrs(t,Y);this.get("styles");}r.prototype={drawFill:function(AB,x){if(AB.length<1){return;}var AA=AB.length,u=AB[0],t=x[0],z=u,y=t,AE,AD,w=1,AC=this.get("area"),Y=this.get("graphic"),v=AC.color||this._getDefaultColor(this.get("graphOrder"));Y.clear();Y.beginFill(v,AC.alpha);Y.moveTo(u,t);for(;w<AA;w=++w){AE=AB[w];AD=x[w];if(isNaN(AD)){z=AE;y=AD;continue;}Y.lineTo(AE,AD);z=AE;y=AD;}Y.end();},drawAreaSpline:function(){if(this.get("xcoords").length<1){return;}var AG=this.get("xcoords"),AB=this.get("ycoords"),AI=this.getCurveControlPoints(AG,AB),AC=AI.length,AE,AD,w,v,AH,AF,AA=0,u=AG[0],t=AB[0],AJ=this.get("area"),Y=this.get("graphic"),z=AJ.color||this._getDefaultColor(this.get("graphOrder"));Y.beginFill(z,AJ.alpha);Y.moveTo(u,t);for(;AA<AC;AA=++AA){AH=AI[AA].endx;AF=AI[AA].endy;AE=AI[AA].ctrlx1;AD=AI[AA].ctrlx2;w=AI[AA].ctrly1;v=AI[AA].ctrly2;Y.curveTo(AE,w,AD,v,AH,AF);}if(this.get("direction")==="vertical"){Y.lineTo(this._leftOrigin,AF);Y.lineTo(this._leftOrigin,t);}else{Y.lineTo(AH,this._bottomOrigin);Y.lineTo(u,this._bottomOrigin);}Y.lineTo(u,t);Y.end();},drawStackedAreaSpline:function(){if(this.get("xcoords").length<1){return;}var AF=this.get("xcoords"),AP=this.get("ycoords"),AD,AK=this.get("order"),u=this.get("type"),Y=this.get("graph"),v=Y.seriesTypes[u],t,AI,AM,AH,AG,AO,AN,AB,z,AL=0,AC,AA,w=this.get("area"),AE=this.get("graphic"),AJ=w.color||this._getDefaultColor(this.get("graphOrder"));AC=AF[0];AA=AP[0];AD=this.getCurveControlPoints(AF,AP);AM=AD.length;AE.beginFill(AJ,w.alpha);AE.moveTo(AC,AA);for(;AL<AM;AL=++AL){AB=AD[AL].endx;z=AD[AL].endy;AH=AD[AL].ctrlx1;AG=AD[AL].ctrlx2;AO=AD[AL].ctrly1;AN=AD[AL].ctrly2;AE.curveTo(AH,AO,AG,AN,AB,z);}if(AK>0){t=v[AK-1].get("xcoords").concat().reverse();AI=v[AK-1].get("ycoords").concat().reverse();AD=this.getCurveControlPoints(t,AI);AL=0;AM=AD.length;AE.lineTo(t[0],AI[0]);for(;AL<AM;AL=++AL){AB=AD[AL].endx;z=AD[AL].endy;AH=AD[AL].ctrlx1;AG=AD[AL].ctrlx2;AO=AD[AL].ctrly1;AN=AD[AL].ctrly2;AE.curveTo(AH,AO,AG,AN,AB,z);}}else{if(this.get("direction")==="vertical"){AE.lineTo(this._leftOrigin,AP[AP.length-1]);AE.lineTo(this._leftOrigin,AA);}else{AE.lineTo(AF[AF.length-1],this._bottomOrigin);AE.lineTo(AC,this._bottomOrigin);}}AE.lineTo(AC,AA);AE.end();},_defaults:null,_getClosingPoints:function(){var Y=this.get("xcoords").concat(),t=this.get("ycoords").concat();if(this.get("direction")==="vertical"){Y.push(this._leftOrigin);Y.push(this._leftOrigin);t.push(t[t.length-1]);t.push(t[0]);}else{Y.push(Y[Y.length-1]);Y.push(Y[0]);t.push(this._bottomOrigin);t.push(this._bottomOrigin);}Y.push(Y[0]);t.push(t[0]);return[Y,t];},_getStackedClosingPoints:function(){var w=this.get("order"),z=this.get("type"),AC=this.get("graph"),AA=this.get("direction"),u=AC.seriesTypes[z],y,v,AB=this.get("xcoords").concat(),x=this.get("ycoords").concat(),t=AB[0],Y=x[0];if(w>0){y=u[w-1].get("xcoords").concat();v=u[w-1].get("ycoords").concat();AB=AB.concat(y.concat().reverse());x=x.concat(v.concat().reverse());AB.push(AB[0]);x.push(x[0]);}else{if(AA==="vertical"){AB.push(this._leftOrigin);AB.push(this._leftOrigin);x.push(x[x.length-1]);x.push(Y);}else{AB.push(AB[AB.length-1]);AB.push(t);x.push(this._bottomOrigin);x.push(this._bottomOrigin);}}return[AB,x];},_getAreaDefaults:function(){return{alpha:0.5};}};B.augment(r,B.Attribute);B.Fills=r;function X(Y){var t={marker:{getter:function(){return this._plotDefaults||this._getPlotDefaults();},setter:function(v){var u=this._plotDefaults||this._getPlotDefaults();this._plotDefaults=B.merge(u,v);}}};this.addAttrs(t,Y);this.get("styles");
}X.prototype={_plotDefaults:null,bindUI:function(){B.delegate("mouseover",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mousedown",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseup",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseout",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},drawPlots:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var Y=this.get("marker"),AF=Y.width,z=Y.height,AD=this.get("xcoords"),x=this.get("ycoords"),y=0,AA=AD.length,AC=x[0],u,v,AE,AB=AF/2,t=z/2;this._createMarkerCache();for(;y<AA;++y){AC=(x[y]-AB)+"px";u=(AD[y]-t)+"px";v=this.getMarker.apply(this,[{index:y,styles:Y}]);AE=v.get("boundingBox");AE.setStyle("position","absolute");AE.setStyle("top",AC);AE.setStyle("left",u);}this._clearMarkerCache();},_getPlotDefaults:function(){return{fill:{type:"solid",alpha:1,colors:null,alphas:null,ratios:null},border:{weight:1,alpha:1},width:6,height:6,shape:"circle",padding:{top:0,left:0,right:0,bottom:0}};},_markerEventHandler:function(x){var z=x.type,u=B.Widget.getByNode(x.currentTarget),AB,v,AA=this.get("xcoords"),Y=this.get("ycoords"),t=u.get("index")||B.Array.indexOf(this.get("markers"),u),y=u.get("boundingBox");switch(z){case"mouseout":u.set("state","off");break;case"mouseover":u.set("state","over");break;case"mouseup":u.set("state","over");break;case"mousedown":u.set("state","down");break;}AB=u.get("width");v=u.get("height");y.setStyle("left",(AA[t]-AB/2)+"px");y.setStyle("top",(Y[t]-v/2)+"px");}};B.augment(X,B.Attribute);B.Plots=X;function H(Y){H.superclass.constructor.apply(this,arguments);}H.NAME="pieSeries";H.ATTRS={type:{value:"pie"},order:{value:NaN},graph:{value:null},categoryAxis:{value:null,validator:function(Y){return Y!==this.get("categoryAxis");},lazyAdd:false},valueAxis:{value:null,validator:function(Y){return Y!==this.get("valueAxis");},lazyAdd:false},categoryKey:{value:null,validator:function(Y){return Y!==this.get("categoryKey");}},valueKey:{value:null,validator:function(Y){return Y!==this.get("valueKey");}},categoryDisplayName:{setter:function(Y){this._categoryDisplayName=Y;return Y;},getter:function(){return this._categoryDisplayName||this.get("categoryKey");}},valueDisplayName:{setter:function(Y){this._valueDisplayName=Y;return Y;},getter:function(){return this._valueDisplayName||this.get("valueKey");}},slices:null};B.extend(H,B.Renderer,{_categoryDisplayName:null,_valueDisplayName:null,renderUI:function(){this._setNode();},bindUI:function(){var Y=this.get("categoryAxis"),t=this.get("valueAxis");if(Y){Y.after("axisReady",B.bind(this._categoryAxisChangeHandler,this));Y.after("axisUpdate",B.bind(this._categoryAxisChangeHandler,this));}if(t){t.after("axisReady",B.bind(this._valueAxisChangeHandler,this));t.after("axisUpdate",B.bind(this._valueAxisChangeHandler,this));}this.after("categoryAxisChange",B.bind(this.categoryAxisChangeHandler,this));this.after("valueAxisChange",B.bind(this.valueAxisChangeHandler,this));this.after("stylesChange",B.bind(this._updateHandler,this));B.delegate("mouseover",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mousedown",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseup",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseout",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},GUID:"pieseries",_categoryAxisChangeHandler:function(Y){if(this.get("rendered")&&this.get("categoryKey")&&this.get("valueKey")){this.draw();}},_valueAxisChangeHandler:function(Y){if(this.get("rendered")&&this.get("categoryKey")&&this.get("valueKey")){this.draw();}},draw:function(){var u=B.Node.one(this._parentNode).get("parentNode"),Y=u.get("offsetWidth"),t=u.get("offsetHeight");if(!isNaN(Y)&&!isNaN(t)&&Y>0&&t>0){this.drawSeries();}},getMarker:function(v){var Y,t=this._markerCache,w=v.styles,u=v.index;v.colorIndex=u;if(t.length>0){Y=t.shift();Y.set("index",u);Y.set("series",this);Y.set("colorIndex",u);if(Y.get("styles")!==w){Y.set("styles",w);}}else{v.series=this;Y=new B.Marker(v);Y.render(B.one(this.get("node")));}this._markers.push(Y);this._markerNodes.push(B.one(Y.get("node")));return Y;},_createMarkerCache:function(){if(this._markers){this._markerCache=this._markers.concat();}else{this._markerCache=[];}this._markers=[];this._markerNodes=[];},_clearMarkerCache:function(){var t=this._markerCache.length,v=0,u,Y;for(;v<t;++v){u=Y[v];u.parentNode.removeChild(u);}this._markerCache=[];},drawSeries:function(){var t=this.get("valueAxis").getDataByKey(this.get("valueKey")).concat(),x=0,AU=t.length,AE=this.get("styles"),Y=AE.fillColors,AV=AE.fillAlphas||["1"],AC=AE.borderColors,u=AE.borderWeights,v=AE.borderAlphas,AW=u.concat(),AG=AC.concat(),AH=v.concat(),AR,AT,AJ=AE.padding,AN=B.Node.one(this._parentNode).get("parentNode"),AI=AN.get("offsetWidth")-(AJ.left+AJ.right),AQ=AN.get("offsetHeight")-(AJ.top+AJ.bottom),AB=0,AD=AI/2,AK=AQ/2,y=Math.min(AD,AK),AP=0,AM,AS=0,AL,AO,z,AF,AA;for(;AP<AU;++AP){AM=t[AP];t.push(AM);if(!isNaN(AM)){x+=AM;}}AR=Y?Y.concat():null;AT=AV?AV.concat():null;this._createMarkerCache();for(AP=0;AP<AU;AP++){AM=t[AP];if(x===0){AS=360/t.length;}else{AS=360*(AM/x);}AS=Math.round(AS);if(AR&&AR.length<1){AR=Y.concat();}if(AR&&AT.length<1){AT=AV.concat();}if(AW&&AW.length<1){AW=u.concat();}if(AW&&AG.length<1){AG=AC.concat();}if(AH&&AH.length<1){AH=v.concat();}z=AW?AW.shift():null;AL=AG?AG.shift():null;AO=AH?AH.shift():null;AF={border:{color:AL,weight:z,alpha:AO},fill:{color:AR?AR.shift():null,alpha:AT?AT.shift():null},shape:"wedge",props:{arc:AS,radius:y,startAngle:AB,x:AD,y:AK},width:AI,height:AQ};AA=this.getMarker.apply(this,[{index:AP,styles:AF}]);AB+=AS;}this._clearMarkerCache();},_markerEventHandler:function(u){var t=u.type,Y=B.Widget.getByNode(u.currentTarget);switch(t){case"mouseout":Y.set("state","off");
break;case"mouseover":Y.set("state","over");break;case"mouseup":Y.set("state","over");break;case"mousedown":Y.set("state","down");break;}},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0},fillAlphas:["1"],borderColors:["#000000"],borderWeights:["0"],borderAlphas:["1"],over:{borderColors:["#000000"],fillAlphas:[1]}};},_getDefaultColor:function(t){var Y=["#2011e6","#f5172c","#00ff33","#ff6600","#7f03d6","#f3f301","#4982b8","#f905eb","#0af9da","#fecb01","#8e9a9b","#d701fe","#8cb3d1","#d18cae","#b3ddd3","#fcc551","#785a85","#f86b0e"];t=t||0;return Y[t];}});B.PieSeries=H;function O(Y){O.superclass.constructor.apply(this,arguments);}O.NAME="cartesianSeries";O.ATTRS={xDisplayName:{getter:function(){return this._xDisplayName||this.get("xKey");},setter:function(Y){this._xDisplayName=Y;return Y;}},yDisplayName:{getter:function(){return this._yDisplayName||this.get("yKey");},setter:function(Y){this._yDisplayName=Y;return Y;}},type:{value:"cartesian"},order:{value:NaN},graphOrder:{value:NaN},xcoords:{value:null},ycoords:{value:null},graph:{value:null},xAxis:{value:null,validator:function(Y){return Y!==this.get("xAxis");},lazyAdd:false},yAxis:{value:null,validator:function(Y){return Y!==this.get("yAxis");},lazyAdd:false},xKey:{value:null,validator:function(Y){return Y!==this.get("xKey");}},yKey:{value:null,validator:function(Y){return Y!==this.get("yKey");}},xData:{value:null},yData:{value:null},markers:{getter:function(){return this._markers;}},direction:{value:"horizontal"}};B.extend(O,B.Renderer,{_xDisplayName:null,_yDisplayName:null,_leftOrigin:null,_bottomOrigin:null,bindUI:function(){var t=this.get("xAxis"),Y=this.get("yAxis");if(t){t.after("axisReady",B.bind(this._xAxisChangeHandler,this));t.after("axisUpdate",B.bind(this._xAxisChangeHandler,this));}if(Y){Y.after("axisReady",B.bind(this._yAxisChangeHandler,this));Y.after("axisUpdate",B.bind(this._yAxisChangeHandler,this));}this.after("xAxisChange",B.bind(this.xAxisChangeHandler,this));this.after("yAxisChange",B.bind(this.yAxisChangeHandler,this));this.after("stylesChange",B.bind(this._updateHandler,this));},GUID:"yuicartesianseries",_xAxisChangeHandler:function(Y){var t=this._updateAxisData();if(this.get("rendered")&&t){this.draw();}},_yAxisChangeHandler:function(Y){var t=this._updateAxisData();if(this.get("rendered")&&t){this.draw();}},_updateAxisData:function(){var v=this.get("xAxis"),t=this.get("yAxis"),u=this.get("xKey"),Y=this.get("yKey");if(!v||!t||!u||!Y){return false;}this.set("xData",v.getDataByKey(u));this.set("yData",t.getDataByKey(Y));return true;},syncUI:function(){if(this.get("xData")&&this.get("yData")){this.draw();}else{if(this._updateAxisData()){this.draw();}}},_markers:null,_markerCache:null,setAreaData:function(){var AQ,AO,AH=B.Node.one(this._parentNode).get("parentNode"),AC=AH.get("offsetWidth"),AK=AH.get("offsetHeight"),AB=this.get("xAxis"),t=this.get("yAxis"),v=this.get("xData").concat(),AM=this.get("yData").concat(),AT=AB.getEdgeOffset(v.length,AC),AA=t.getEdgeOffset(AM.length,AK),AE=this.get("padding"),AG=AE.left,AN=AE.top,y=AC-(AG+AE.right+AT),AJ=AK-(AN+AE.bottom+AA),AF=[],AS=[],AR=AB.get("maximum"),AL=AB.get("minimum"),u=t.get("maximum"),Y=t.get("minimum"),x=y/(AR-AL),AD=AJ/(u-Y),z,AP=this.get("direction"),AI=0;z=v.length;AT*=0.5;AA*=0.5;if(AP==="vertical"){AM=AM.reverse();}if(this.get("graphic")){this.get("graphic").setSize(AC,AK);}this._leftOrigin=Math.round(((0-AL)*x)+AG+AT);this._bottomOrigin=Math.round((AJ+AN+AA)-(0-Y)*AD);for(;AI<z;++AI){AQ=Math.round((((v[AI]-AL)*x)+AG+AT));AO=Math.round(((AJ+AN+AA)-(AM[AI]-Y)*AD));AF.push(AQ);AS.push(AO);}this.set("xcoords",AF);this.set("ycoords",AS);},draw:function(){var u=B.Node.one(this._parentNode).get("parentNode"),Y=u.get("offsetWidth"),t=u.get("offsetHeight");if(!isNaN(Y)&&!isNaN(t)&&Y>0&&t>0){this.setAreaData();this.drawSeries();this.fire("drawingComplete");}},getCurveControlPoints:function(v,y){var w=[],u=1,t=v.length-1,Y=[],x=[];if(t<1){return null;}w[0]={startx:v[0],starty:y[0],endx:v[1],endy:y[1]};if(t===1){w[0].ctrlx1=(2*v[0]+v[1])/3;w[0].ctrly2=(2*y[0]+y[1])/3;w[0].ctrlx2=2*w[0].ctrlx1-v[0];w[0].ctrly2=2*w[0].ctrly1-y[0];return w;}for(;u<t;++u){w.push({startx:Math.round(v[u]),starty:Math.round(y[u]),endx:Math.round(v[u+1]),endy:Math.round(y[u+1])});Y[u]=4*v[u]+2*v[u+1];x[u]=4*y[u]+2*y[u+1];}Y[0]=v[0]+(2*v[1]);Y[t-1]=(8*v[t-1]+v[t])/2;Y=this.getControlPoints(Y.concat());x[0]=y[0]+(2*y[1]);x[t-1]=(8*y[t-1]+y[t])/2;x=this.getControlPoints(x.concat());for(u=0;u<t;++u){w[u].ctrlx1=Math.round(Y[u]);w[u].ctrly1=Math.round(x[u]);if(u<t-1){w[u].ctrlx2=Math.round(2*v[u+1]-Y[u+1]);w[u].ctrly2=Math.round(2*y[u+1]-x[u+1]);}else{w[u].ctrlx2=Math.round((v[t]+Y[t-1])/2);w[u].ctrly2=Math.round((y[t]+x[t-1])/2);}}return w;},getControlPoints:function(y){var u=y.length,t=[],w=[],Y=2,v=1;t[0]=y[0]/Y;for(;v<u;++v){w[v]=1/Y;Y=(v<u-1?4:3.5)-w[v];t[v]=(y[v]-t[v-1])/Y;}for(v=1;v<u;++v){t[u-v-1]-=w[u-v]*t[u-v];}return t;},_stackCoordinates:function(){var AD=this.get("direction"),u=B.Node.one(this._parentNode).get("parentNode"),y=u.get("offsetHeight"),v=this.get("order"),AB=this.get("type"),AE=this.get("graph"),t=AE.seriesTypes[AB],x=0,AA,AC=this.get("xcoords"),w=this.get("ycoords"),z,Y;if(v===0){return;}z=t[v-1].get("xcoords").concat();Y=t[v-1].get("ycoords").concat();if(AD==="vertical"){AA=z.length;for(;x<AA;++x){if(!isNaN(z[x])&&!isNaN(AC[x])){AC[x]+=z[x];}}}else{AA=Y.length;for(;x<AA;++x){if(!isNaN(Y[x])&&!isNaN(w[x])){w[x]=Y[x]-(y-w[x]);}}}},getMarker:function(v){var Y,x=this.get("graphOrder"),t=this._markerCache,w=v.styles,u=v.index;v.colorIndex=x;if(t.length>0){Y=t.shift();Y.set("index",u);Y.set("series",this);Y.set("colorIndex",x);if(Y.get("styles")!==w){Y.set("styles",w);}}else{v.series=this;Y=new B.Marker(v);Y.render(this.get("node"));B.one(Y.get("boundingBox")).setStyle("zIndex",2);}this._markers.push(Y);this._markerNodes.push(B.one(Y.get("node")));return Y;},_createMarkerCache:function(){if(this._markers){this._markerCache=this._markers.concat();}else{this._markerCache=[];
}this._markers=[];this._markerNodes=[];},_clearMarkerCache:function(){var t=this._markerCache.length,v=0,u,Y;for(;v<t;++v){u=Y[v];u.parentNode.removeChild(u);}this._markerCache=[];},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};},_getDefaultColor:function(t){var Y=["#2011e6","#f5172c","#00ff33","#ff6600","#7f03d6","#f3f301","#4982b8","#f905eb","#0af9da","#fecb01","#8e9a9b","#d701fe","#8cb3d1","#d18cae","#b3ddd3","#fcc551","#785a85","#f86b0e"];t=t||0;return Y[t];}});B.CartesianSeries=O;B.MarkerSeries=B.Base.create("markerSeries",B.CartesianSeries,[B.Plots],{renderUI:function(){this._setNode();},drawSeries:function(){this.drawPlots();}},{ATTRS:{type:{value:"marker"},styles:{getter:function(){var Y=this.get("marker");Y.padding=this.get("padding");},setter:function(Y){this.set("marker",Y);if(Y.hasOwnProperty("padding")){this.set("padding",Y.padding);}}}}});B.LineSeries=B.Base.create("lineSeries",B.CartesianSeries,[B.Lines],{drawSeries:function(){this.get("graphic").clear();this.drawLines();}},{ATTRS:{type:{value:"line"},styles:{getter:function(){var Y=this.get("line");Y.padding=this.get("padding");},setter:function(Y){this.set("line",Y);if(Y.hasOwnProperty("padding")){this.set("padding",Y.padding);}}}}});B.SplineSeries=B.Base.create("splineSeries",B.CartesianSeries,[B.Lines],{drawSeries:function(){this.get("graphic").clear();this.drawSpline();}},{ATTRS:{type:{value:"spline"}}});B.AreaSplineSeries=B.Base.create("areaSplineSeries",B.CartesianSeries,[B.Fills],{drawSeries:function(){this.get("graphic").clear();this.drawAreaSpline();}},{ATTRS:{type:{value:"areaSpline"}}});function g(Y){g.superclass.constructor.apply(this,arguments);}g.NAME="stackedSplineSeries";g.ATTRS={type:{value:"stackedSpline"}};B.extend(g,B.SplineSeries,{setAreaData:function(){g.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);}});B.StackedSplineSeries=g;function T(Y){T.superclass.constructor.apply(this,arguments);}T.NAME="stackedMarkerSeries";T.ATTRS={type:{value:"stackedMarker"}};B.extend(T,B.MarkerSeries,{setAreaData:function(){T.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);}});B.StackedMarkerSeries=T;function L(Y){L.superclass.constructor.apply(this,arguments);}L.NAME="columnSeries";L.ATTRS={type:{value:"column"}};B.extend(L,B.CartesianSeries,{renderUI:function(){this._setNode();},bindUI:function(){B.delegate("mouseover",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mousedown",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseup",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseout",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},drawSeries:function(){if(this.get("xcoords").length<1){return;}var AN=this._mergeStyles(this.get("styles"),{}),AD=AN.width,AL=AN.height,AE=this.get("xcoords"),AO=this.get("ycoords"),AJ=0,AK=AE.length,AF=AO[0],v=this.get("type"),t=this.get("graph"),AC=t.seriesTypes[v],AM=AC.length,Y=0,u=0,z=0,AB,AH,AI=this.get("order"),AG=B.Node.one(this._parentNode).get("parentNode"),x,AA,y;this._createMarkerCache();for(;AJ<AM;++AJ){AH=AC[AJ];Y+=AH.get("styles").width;if(AI>AJ){z=Y;}}u=AK*Y;if(u>AG.offsetWidth){AB=this.width/u;Y*=AB;z*=AB;AD*=AB;AD=Math.max(AD,1);}z-=Y/2;for(AJ=0;AJ<AK;++AJ){AF=AO[AJ];AL=this._bottomOrigin-AF;x=AE[AJ]+z;AN.width=AD;AN.height=AL;AA=this.getMarker.apply(this,[{index:AJ,styles:AN}]);y=AA.get("boundingBox");y.setStyle("position","absolute");y.setStyle("left",x+"px");y.setStyle("top",AF+"px");}this._clearMarkerCache();},_markerEventHandler:function(AB){var AD=AB.type,AA=B.Widget.getByNode(AB.currentTarget),AE=this.get("xcoords"),y=this.get("ycoords"),z=AA.get("index")||B.Array.indexOf(this.get("markers"),AA),AF=this.get("graph"),v=AF.seriesTypes[this.get("type")],x=v.length,AG=0,w=0,AC,Y=0,u=[],t=this.get("order");switch(AD){case"mouseout":AA.set("state","off");break;case"mouseover":AA.set("state","over");break;case"mouseup":AA.set("state","over");break;case"mousedown":AA.set("state","down");break;}AA.set("styles",{over:{height:(this._bottomOrigin-y[z])}});for(;Y<x;++Y){AC=v[Y].get("markers")[z];u[Y]=AE[z]+AG;AG+=parseInt(AC.get("boundingBox").getStyle("width"),10);if(t>Y){w=AG;}w-=AG/2;}for(Y=0;Y<x;++Y){AC=v[Y].get("markers")[z];AC.get("boundingBox").setStyle("left",(u[Y]-AG/2)+"px");}},_getDefaultStyles:function(){return{fill:{alpha:"1",colors:[],alphas:[],ratios:[],rotation:0},width:6,height:6,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};}});B.ColumnSeries=L;function b(Y){b.superclass.constructor.apply(this,arguments);}b.NAME="barSeries";b.ATTRS={type:{value:"bar"},direction:{value:"vertical"}};B.extend(b,B.CartesianSeries,{bindUI:function(){B.delegate("mouseover",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mousedown",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseup",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseout",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},renderUI:function(){this._setNode();},drawSeries:function(){if(this.get("xcoords").length<1){return;}var AM=this._mergeStyles(this.get("styles"),{}),AK=AM.height,AC=AM.width,AD=this.get("xcoords"),AO=this.get("ycoords"),AI=0,AJ=AD.length,AE=AO[0],t=this.get("type"),Y=this.get("graph"),AA=Y.seriesTypes[t],AL=AA.length,AB=0,AN=0,x=0,z,AG,AH=this.get("order"),AF=B.Node.one(this._parentNode).get("parentNode"),u,y,v;this._createMarkerCache();for(;AI<AL;++AI){AG=AA[AI];AB+=AG.get("styles").height;if(AH>AI){x=AB;}}AN=AJ*AB;if(AN>AF.offsetHeight){z=this.height/AN;AB*=z;x*=z;AK*=z;AK=Math.max(AK,1);}x-=AB/2;for(AI=0;AI<AJ;++AI){AE=AO[AI]+x;u=AD[AI];AC=u-this._leftOrigin;AM.width=AC;AM.height=AK;y=this.getMarker.apply(this,[{index:AI,styles:AM}]);v=y.get("boundingBox");v.setStyle("position","absolute");v.setStyle("left",0+"px");
v.setStyle("top",AE+"px");}this._clearMarkerCache();},_markerEventHandler:function(AB){var AD=AB.type,AA=B.Widget.getByNode(AB.currentTarget),AE=this.get("xcoords"),y=this.get("ycoords"),z=AA.get("index")||B.Array.indexOf(this.get("markers"),AA),AG=this.get("graph"),v=AG.seriesTypes[this.get("type")],x=v.length,Y=0,w=0,AC,t=0,AF=[],u=this.get("order");switch(AD){case"mouseout":AA.set("state","off");break;case"mouseover":AA.set("state","over");break;case"mouseup":AA.set("state","over");break;case"mousedown":AA.set("state","down");break;}AA.set("styles",{over:{width:(AE[z]-this._leftOrigin)}});for(;t<x;++t){AC=v[t].get("markers")[z];AF[t]=y[z]+Y;Y+=parseInt(AC.get("boundingBox").getStyle("height"),10);if(u>t){w=Y;}w-=Y/2;}for(t=0;t<x;++t){AC=v[t].get("markers")[z];AC.get("boundingBox").setStyle("top",(AF[t]-Y/2)+"px");}},drawMarker:function(y,u,x,v,Y,t){y.drawRect(this._leftOrigin,v,Y,t);},_getDefaultStyles:function(){return{fill:{alpha:"1",colors:[],alphas:[],ratios:[],rotation:0},width:6,height:6,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};}});B.BarSeries=b;B.AreaSeries=B.Base.create("areaSeries",B.CartesianSeries,[B.Fills],{drawSeries:function(){this.get("graphic").clear();this.drawFill.apply(this,this._getClosingPoints());}},{ATTRS:{type:{value:"area"},styles:{getter:function(){var Y=this.get("area");Y.padding=this.get("padding");},setter:function(Y){this.set("area",Y);if(Y.hasOwnProperty("padding")){this.set("padding",Y.padding);}}}}});B.StackedAreaSplineSeries=B.Base.create("stackedAreaSplineSeries",B.AreaSeries,[],{drawSeries:function(){this.get("graphic").clear();this._stackCoordinates();this.drawStackedAreaSpline();}},{ATTRS:{type:{value:"stackedAreaSpline"}}});B.ComboSeries=B.Base.create("comboSeries",B.CartesianSeries,[B.Fills,B.Lines,B.Plots],{drawSeries:function(){this.get("graphic").clear();if(this.get("showAreaFill")){this.drawFill.apply(this,this._getClosingPoints());}if(this.get("showLines")){this.drawLines();}if(this.get("showMarkers")){this.drawPlots();}}},{ATTRS:{type:{value:"combo"},showAreaFill:{value:false},showLines:{value:true},showMarkers:{value:true},styles:{getter:function(){var Y=this._styles||this._getDefaultStyles();Y.marker=this.get("marker");Y.line=this.get("line");Y.area=this.get("area");Y.padding=this.get("padding");return Y;},setter:function(u){var Y={area:"area",line:"line",marker:"marker",padding:"padding"},t;for(t in Y){if(u.hasOwnProperty(t)){this.set(t,u[t]);}}this.styles=u;}}}});B.StackedComboSeries=B.Base.create("stackedComboSeries",B.ComboSeries,[],{setAreaData:function(){B.StackedComboSeries.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);},drawSeries:function(){this.get("graphic").clear();if(this.get("showAreaFill")){this.drawFill.apply(this,this._getStackedClosingPoints());}if(this.get("showLines")){this.drawLines();}if(this.get("showMarkers")){this.drawPlots();}}},{ATTRS:{type:{value:"stackedCombo"},showAreaFill:{value:true}}});B.ComboSplineSeries=B.Base.create("comboSplineSeries",B.ComboSeries,[],{drawSeries:function(){this.get("graphic").clear();if(this.get("showAreaFill")){this.drawAreaSpline();}if(this.get("showLines")){this.drawSpline();}if(this.get("showMarkers")){this.drawPlots();}}},{ATTRS:{type:{value:"comboSpline"}}});B.StackedComboSplineSeries=B.Base.create("stackedComboSplineSeries",B.StackedComboSeries,[],{drawSeries:function(){this.get("graphic").clear();if(this.get("showAreaFill")){this.drawStackedAreaSpline();}if(this.get("showLines")){this.drawSpline();}if(this.get("showMarkers")){this.drawPlots();}}},{ATTRS:{type:{value:"stackedComboSpline"},showAreaFill:{value:true}}});function f(Y){f.superclass.constructor.apply(this,arguments);}f.NAME="rangeSeries";f.ATTRS={type:{value:"range"}};B.extend(f,B.CartesianSeries,{setAreaData:function(){var AR,AQ,AJ=B.Node.one(this._parentNode).get("parentNode"),AE=AJ.get("offsetWidth"),AM=AJ.get("offsetHeight"),AH=this.get("styles").padding,AI=AH.left,AP=AH.top,AD=this.get("xAxis"),t=this.get("yAxis"),v=this.get("xKey"),AA=this.get("yKey"),y=AD.getDataByKey(v).concat(),AO=t.getDataByKey(AA).concat(),AU=AD.getEdgeOffset(y.length,AE),AB=AE-(AI+AH.right+AU),AL=AM-(AP+AH.bottom),AG=[],AT=[],AS=AD.get("maximum"),AN=AD.get("minimum"),u=t.get("maximum"),Y=t.get("minimum"),z=AB/(AS-AN),AF=AL/(u-Y),AC=y.length,AK,x;AU*=0.5;this.get("graphic").setSize(AE,AM);this._leftOrigin=Math.round(((0-AN)*z)+AI);this._bottomOrigin=Math.round((AL+AP)-(0-Y)*AF);for(AK=0;AK<AC;++AK){x=AO[AK];AR=Math.round((((y[AK]-AN)*z)+AI+AU));AQ={h:Math.round(((AL+AP)-(x.high-Y)*AF)),l:Math.round(((AL+AP)-(x.low-Y)*AF)),o:Math.round(((AL+AP)-(x.open-Y)*AF)),c:Math.round(((AL+AP)-(x.close-Y)*AF))};AG.push(AR);AT.push(AQ);}this.set("xcoords",AG);this.set("ycoords",AT);},drawSeries:function(){if(this.get("xcoords").length<1){return;}var AC=this.get("graphic"),AK=this.get("styles").marker,AB=AK.width,AD=this.get("xcoords"),AM=this.get("ycoords"),AH=0,AI=AD.length,v=this.get("type"),t=this.get("graph"),AA=t.seriesTypes[v],AJ=AA.length,Y=0,u=0,y=0,z,AF,AG=this.get("order"),AE=B.Node.one(this._parentNode).get("parentNode"),x,AL;for(;AH<AJ;++AH){AF=AA[AH];Y+=AF.get("styles").marker.width;if(AG>AH){y=Y;}}u=AI*Y;if(u>AE.offsetWidth){z=this.width/u;Y*=z;y*=z;AB*=z;AB=Math.max(AB,1);}y-=Y/2;for(AH=0;AH<AI;++AH){AL=AM[AH];x=AD[AH]+y;this.drawMarker(AC,AL,x,AK);}}});B.RangeSeries=f;function m(Y){m.superclass.constructor.apply(this,arguments);}m.NAME="ohlcSeries";m.ATTRS={type:{value:"ohlc"}};B.extend(m,B.RangeSeries,{drawMarker:function(AA,AK,u,AG){var AF=AK.h,AB=AK.o,AD=AK.l,AI=AK.c,z=AG.width,AE,t=AG.upColor,x=AG.downColor,v,AC=AG.upAlpha,AH=AG.downAlpha,y=AI<AB,Y=AG.thickness,AJ=u+z*0.5;AE=y?t:x;v=y?AC:AH;AA.lineStyle(Y,AE,v);AA.moveTo(u,AB);AA.lineTo(AJ,AB);AA.moveTo(AJ,AF);AA.lineTo(AJ,AD);AA.moveTo(AJ,AI);AA.lineTo(u+z,AI);AA.end();},_getDefaultStyles:function(){return{marker:{upColor:"#aaaaaa",upAlpha:1,thickness:1,borderAlpha:1,downColor:"#000000",downAlpha:1,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};
}});B.OHLCSeries=m;function E(Y){E.superclass.constructor.apply(this,arguments);}E.NAME="candlestickSeries";E.ATTRS={type:{value:"candlestick"}};B.extend(E,B.RangeSeries,{drawMarker:function(AB,Aa,z,AT){var AY=Aa.h,AU=Aa.o,AW=Aa.l,Ab=Aa.c,AV=Math.abs(Ab-AU),AQ=AT.width,Ae,AP=AT.upFillColor,v=AT.downFillColor,AX,AL=AT.upFillAlpha,Ad=AT.downFillAlpha,AJ=Ab<AU,AR=AT.upFillType||"solid",AN=AT.downFillType||"solid",x=AT.borderWidth,AK=AT.borderColor,Ac=AT.borderAlpha||1,AS,AO=AT.upColors,AZ=AT.downColors,AH,AG=AT.upAlphas||[],AM=AT.downAlphas||[],AE,AC=AT.upRatios||[],AF=AT.downRatios||[],AI,y=AT.upRotation||0,u=AT.downRotation||0,AD=AJ?AR:AN,AA=Ab<AU?Ab:AU,t=Ab<AU?AU:Ab,Y=z+AQ*0.5;if(x>0){AB.lineStyle(x,AK,Ac);}if(AD==="solid"){Ae=AJ?AP:v;AX=AJ?AL:Ad;AB.beginFill(Ae,AX);}else{AS=AJ?AO:AZ;AI=AJ?y:u;AE=AJ?AC:AF;AH=AJ?AG:AM;AB.beginGradientFill(AD,AS,AH,AE,{rotation:AI,width:AQ,height:AV});}if(AA>AY){AB.moveTo(Y,AY);AB.lineTo(Y,AA);}AB.drawRect(z,AA,AQ,AV);if(AW>Ab&&AW>AU){AB.moveTo(Y,t);AB.lineTo(Y,AW);}AB.end();},_getDefaultStyles:function(){return{marker:{upFillColor:"#ffffff",upFillAlpha:1,borderColor:"#000000",borderWidth:1,borderAlpha:1,upColors:[],upAlphas:[],upRatios:[],upRotation:0,downFillColor:"#000000",downFillAlpha:1,downBorderColor:"#000000",downBorderWidth:0,downBorderAlpha:1,downColors:[],downAlphas:[],downRatios:[],downRotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.CandlestickSeries=E;function Z(Y){Z.superclass.constructor.apply(this,arguments);}Z.NAME="stackedLineSeries";Z.ATTRS={type:{value:"stackedLine"}};B.extend(Z,B.LineSeries,{setAreaData:function(){Z.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);}});B.StackedLineSeries=Z;function Q(Y){Q.superclass.constructor.apply(this,arguments);}Q.NAME="stackedAreaSeries";Q.ATTRS={type:{value:"stackedArea"}};B.extend(Q,B.AreaSeries,{setAreaData:function(){Q.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);},drawSeries:function(){this.get("graphic").clear();this.drawFill.apply(this,this._getStackedClosingPoints());}});B.StackedAreaSeries=Q;function i(Y){i.superclass.constructor.apply(this,arguments);}i.NAME="stackedColumnSeries";i.ATTRS={type:{value:"stackedColumn"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}};B.extend(i,B.CartesianSeries,{renderUI:function(){this._setNode();},bindUI:function(){B.delegate("mouseover",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mousedown",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseup",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseout",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},drawSeries:function(){if(this.get("xcoords").length<1){return;}var AN=this._mergeStyles(this.get("styles"),{}),AE=AN.width,AM=AN.height,AF=this.get("xcoords"),AO=this.get("ycoords"),AK=0,AL=AF.length,AG=AO[0],v=this.get("type"),Y=this.get("graph"),AC=Y.seriesTypes[v],AB,AJ=this.get("order"),z,AD,AH,t=AJ===0,AI=B.Node.one(this._parentNode).get("parentNode"),x,AA,y,u=AL*AE;this._createMarkerCache();if(u>AI.offsetWidth){AB=this.width/u;AE*=AB;AE=Math.max(AE,1);}if(!t){z=AC[AJ-1];AD=z.get("negativeBaseValues");AH=z.get("positiveBaseValues");}else{AD=[];AH=[];}this.set("negativeBaseValues",AD);this.set("positiveBaseValues",AH);for(AK=0;AK<AL;++AK){AG=AO[AK];if(t){AM=this._bottomOrigin-AG;if(AG<this._bottomOrigin){AH[AK]=AG;AD[AK]=this._bottomOrigin;}else{if(AG>this._bottomOrigin){AH[AK]=this._bottomOrigin;AD[AK]=AG;}else{AH[AK]=AG;AD[AK]=AG;}}}else{if(AG>this._bottomOrigin){AG+=(AD[AK]-this._bottomOrigin);AM=AD[AK]-AG;AD[AK]=AG;}else{if(AG<this._bottomOrigin){AG=AH[AK]-(this._bottomOrigin-AO[AK]);AM=AH[AK]-AG;AH[AK]=AG;}}}x=AF[AK]-AE/2;AN.width=AE;AN.height=AM;AA=this.getMarker.apply(this,[{index:AK,styles:AN}]);y=AA.get("boundingBox");y.setStyle("position","absolute");y.setStyle("left",x+"px");y.setStyle("top",AG+"px");}this._clearMarkerCache();},_markerEventHandler:function(w){var v=w.type,Y=B.Widget.getByNode(w.currentTarget),u=this.get("xcoords"),x,t=Y.get("index")||B.Array.indexOf(this.get("markers"),Y);switch(v){case"mouseout":Y.set("state","off");break;case"mouseover":Y.set("state","over");break;case"mouseup":Y.set("state","over");break;case"mousedown":Y.set("state","down");break;}x=Y.get("width")*0.5;Y.get("boundingBox").setStyle("left",(u[t]-x)+"px");},_getDefaultStyles:function(){return{fill:{alpha:"1",colors:[],alphas:[],ratios:[],rotation:0},border:{weight:0},width:6,height:6,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedColumnSeries=i;function A(Y){A.superclass.constructor.apply(this,arguments);}A.NAME="stackedBarSeries";A.ATTRS={type:{value:"stackedBar"},direction:{value:"vertical"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}};B.extend(A,B.CartesianSeries,{renderUI:function(){this._setNode();},bindUI:function(){B.delegate("mouseover",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mousedown",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseup",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");B.delegate("mouseout",B.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},drawSeries:function(){if(this.get("xcoords").length<1){return;}var AM=this._mergeStyles(this.get("styles"),{}),AD=AM.width,AL=AM.height,AE=this.get("xcoords"),AO=this.get("ycoords"),AJ=0,AK=AE.length,AF=AO[0],u=this.get("type"),t=this.get("graph"),AB=t.seriesTypes[u],AN=0,AA,AI=this.get("order"),y,AC,AG,Y=AI===0,AH=B.Node.one(this._parentNode).get("parentNode"),v,z,x;AN=AK*AL;this._createMarkerCache();if(AN>AH.offsetHeight){AA=this.height/AN;AL*=AA;AL=Math.max(AL,1);}if(!Y){y=AB[AI-1];AC=y.get("negativeBaseValues");AG=y.get("positiveBaseValues");}else{AC=[];AG=[];}this.set("negativeBaseValues",AC);this.set("positiveBaseValues",AG);
for(AJ=0;AJ<AK;++AJ){AF=AO[AJ];v=AE[AJ];if(Y){AD=v-this._leftOrigin;if(v>this._leftOrigin){AG[AJ]=v;AC[AJ]=this._leftOrigin;}else{if(v<this._leftOrigin){AG[AJ]=this._leftOrigin;AC[AJ]=v;}else{AG[AJ]=v;AC[AJ]=this._leftOrigin;}}v-=AD;}else{if(v<this._leftOrigin){v=AC[AJ]-(this._leftOrigin-AE[AJ]);AD=AC[AJ]-v;AC[AJ]=v;}else{if(v>this._leftOrigin){v+=(AG[AJ]-this._leftOrigin);AD=v-AG[AJ];AG[AJ]=v;v-=AD;}}}AF-=AL/2;AM.width=AD;AM.height=AL;z=this.getMarker.apply(this,[{index:AJ,styles:AM}]);x=z.get("boundingBox");x.setStyle("position","absolute");x.setStyle("left",v+"px");x.setStyle("top",AF+"px");}this._clearMarkerCache();},_markerEventHandler:function(x){var v=x.type,Y=B.Widget.getByNode(x.currentTarget),w=this.get("ycoords"),t=Y.get("index")||B.Array.indexOf(this.get("markers"),Y),u=Y.get("height");switch(v){case"mouseout":Y.set("state","off");break;case"mouseover":Y.set("state","over");break;case"mouseup":Y.set("state","over");break;case"mousedown":Y.set("state","down");break;}Y.get("boundingBox").setStyle("top",(w[t]-u/2)+"px");},_getDefaultStyles:function(){return{fill:{alpha:"1",colors:[],alphas:[],ratios:[],rotation:0},width:6,height:6,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedBarSeries=A;function W(Y){W.superclass.constructor.apply(this,arguments);}W.NAME="graph";W.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(Y){this._parseSeriesCollection(Y);return this._seriesCollection;}},parent:{value:null}};B.extend(W,B.Base,{seriesTypes:null,getSeriesByIndex:function(u){var Y=this._seriesCollection,t;if(Y&&Y.length>u){t=Y[u];}return t;},getSeriesByKey:function(u){var t=this._seriesDictionary,Y;if(t&&t.hasOwnProperty(u)){Y=t[u];}return Y;},addDispatcher:function(Y){if(!this._dispatchers){this._dispatchers=[];}this._dispatchers.push(Y);},_seriesCollection:null,_seriesDictionary:null,_parseSeriesCollection:function(w){if(!w){return;}var t=w.length,v=0,u,Y;if(!this._seriesCollection){this._seriesCollection=[];}if(!this._seriesDictionary){this._seriesDictionary={};}if(!this.seriesTypes){this.seriesTypes=[];}for(;v<t;++v){u=w[v];if(!(u instanceof B.CartesianSeries)&&!(u instanceof B.PieSeries)){this._createSeries(u);continue;}this._addSeries(u);}t=this._seriesCollection.length;for(v=0;v<t;++v){u=this._seriesCollection[v];Y=u.get("direction")=="horizontal"?"yKey":"xKey";this._seriesDictionary[u.get(Y)]=u;u.render(this.get("parent"));}},_addSeries:function(u){var v=u.get("type"),x=this._seriesCollection,w=x.length,t=this.seriesTypes,Y;if(!u.get("graph")){u.set("graph",this);}x.push(u);if(!t.hasOwnProperty(v)){this.seriesTypes[v]=[];}Y=this.seriesTypes[v];u.set("graphOrder",w);u.set("order",Y.length);Y.push(u);this.addDispatcher(u);u.after("drawingComplete",B.bind(this._drawingCompleteHandler,this));this.fire("seriesAdded",u);},_createSeries:function(w){var x=w.type,y=this._seriesCollection,u=this.seriesTypes,t,Y,v;w.graph=this;if(!u.hasOwnProperty(x)){u[x]=[];}t=u[x];w.graph=this;w.order=t.length;w.graphOrder=y.length;Y=this._getSeries(w.type);v=new Y(w);this.addDispatcher(v);v.after("drawingComplete",B.bind(this._drawingCompleteHandler,this));t.push(v);y.push(v);},_getSeries:function(Y){var t;switch(Y){case"line":t=B.LineSeries;break;case"column":t=B.ColumnSeries;break;case"bar":t=B.BarSeries;break;case"area":t=B.AreaSeries;break;case"candlestick":t=B.CandlestickSeries;break;case"ohlc":t=B.OHLCSeries;break;case"stackedarea":t=B.StackedAreaSeries;break;case"stackedline":t=B.StackedLineSeries;break;case"stackedcolumn":t=B.StackedColumnSeries;break;case"stackedbar":t=B.StackedBarSeries;break;case"markerseries":t=B.MarkerSeries;break;case"spline":t=B.SplineSeries;break;case"areaspline":t=B.AreaSplineSeries;break;case"stackedspline":t=B.StackedSplineSeries;break;case"stackedareaspline":t=B.StackedAreaSplineSeries;break;case"stackedmarkerseries":t=B.StackedMarkerSeries;break;case"pieseries":t=B.PieSeries;break;case"combo":t=B.ComboSeries;break;case"stackedcombo":t=B.StackedComboSeries;break;case"combospline":t=B.ComboSplineSeries;break;case"stackedcombospline":t=B.StackedComboSplineSeries;break;default:t=B.CartesianSeries;break;}return t;},_dispatchers:null,_drawingCompleteHandler:function(u){var t=u.currentTarget,Y=B.Array.indexOf(this._dispatchers,t);if(Y>-1){this._dispatchers.splice(Y,1);}if(this._dispatchers.length<1){this.fire("chartRendered");}}});B.Graph=W;function N(Y){N.superclass.constructor.apply(this,arguments);}N.NAME="axisRenderer";N.ATTRS={edgeOffset:{value:0},graphic:{value:null},axis:{value:null,validator:function(Y){return Y!==this.get("axis");}},node:{value:null},position:{value:"bottom",validator:function(Y){return((Y!==this.get("position"))&&(Y==="bottom"||Y==="top"||Y==="left"||Y==="right"));}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},overlapGraph:{value:true,validator:function(Y){return B.Lang.isBoolean(Y);}}};B.extend(N,B.Renderer,{axisChangeHandler:function(u){var Y=u.newVal,t=u.prevVal;if(t){t.detach("axisReady",this._axisDataChangeHandler);t.detach("axisUpdate",this._axisDataChangeHandler);}Y.after("axisReady",B.bind(this._axisDataChangeHandler,this));Y.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));},_axisDataChangeHandler:function(Y){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(Y){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(Y){this._ui=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){this._ui=this.getLayout(this.get("position"));this._setCanvas();},bindUI:function(){var Y=this.get("axis");if(Y){Y.after("axisReady",B.bind(this._axisDataChangeHandler,this));Y.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));}this.after("axisChange",this.axisChangeHandler);this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);
},syncUI:function(){this._drawAxis();},_setCanvas:function(){var Y=this.get("contentBox"),v=this.get("position"),w=document.createElement("div"),u=w.style,t=this._parentNode;Y.appendChild(w);u.position="absolute";u.display="block";u.top="0px";u.left="0px";u.border="1px";if(v==="top"||v==="bottom"){Y.setStyle("width",t.getStyle("width"));}else{Y.setStyle("height",t.getStyle("height"));}u.width=Y.getStyle("width");u.height=Y.getStyle("height");this.set("node",w);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:11,distance:75},padding:{top:0,left:0,right:0,bottom:0},top:"0px",left:"0px",width:"100px",height:"100px",label:{rotation:0,margin:{top:4,right:4,bottom:4,left:4}},hideOverlappingLabelTicks:false};}});B.AxisRenderer=N;function C(Y){C.superclass.constructor.apply(this,arguments);}C.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(C,B.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),w=Y.get("styles").majorTicks,u=w.length,t=u*0.5,v=w.display;Y.set("topTickOffset",0);Y.set("bottomTickOffset",0);switch(v){case"inside":Y.set("rightTickOffset",u);break;case"outside":Y.set("leftTickOffset",u);break;case"cross":Y.set("rightTickOffset",t);Y.set("leftTickOffset",t);break;}},getLineStart:function(){var Y=this.get("axisRenderer"),t=Y.get("styles"),x=t.padding,y=t.majorTicks,u=y.length,w=y.display,v={x:x.left,y:0};if(w==="outside"){v.x+=u;}else{if(w==="cross"){v.x+=u/2;}}return v;},drawTick:function(y,w){var t=this.get("axisRenderer"),u=t.get("styles"),x=u.padding,v=w.length,z={x:x.left,y:y.y},Y={x:v+x.left,y:y.y};t.drawLine(z,Y,w);},getLabelPoint:function(Y){var t=this.get("axisRenderer");return{x:Y.x-t.get("leftTickOffset"),y:Y.y};},positionLabel:function(x,AE){var AD=this.get("axisRenderer"),AH=AD.get("styles").label,AC=0,z=AE.x,AF=AE.y,y=Math.min(90,Math.max(-90,AH.rotation)),Y=Math.abs(y),t=Math.PI/180,AB=parseFloat(parseFloat(Math.sin(Y*t)).toFixed(8)),w=parseFloat(parseFloat(Math.cos(Y*t)).toFixed(8)),AJ=w,AI=y>0?-AB:AB,v=-AI,u=AJ,AG=0,AA=this.get("maxLabelSize");if(AH.margin&&AH.margin.right){AC=AH.margin.right;}if(B.UA.ie){x.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(y===0){z-=x.offsetWidth;AF-=x.offsetHeight*0.5;}else{if(Y===90){z-=x.offsetHeight;AF-=x.offsetWidth*0.5;}else{if(y===-90){z-=x.offsetHeight;AF-=x.offsetWidth*0.5;}else{if(y>0){z-=(w*x.offsetWidth)+(x.offsetHeight*y/90);AF-=(AB*x.offsetWidth)+(w*(x.offsetHeight*0.5));}else{z-=(w*x.offsetWidth)+(Y/90*x.offsetHeight);AF-=w*(x.offsetHeight*0.5);}}}}z-=AC;x.style.left=z+"px";x.style.top=AF+"px";x.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+AJ+" M12="+AI+" M21="+v+" M22="+u+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(AA,x.offsetWidth));return;}if(y===0){AG=x.offsetWidth;z-=AG;AF-=x.offsetHeight*0.5;}else{if(y===90){AG=x.offsetHeight;AF-=x.offsetWidth*0.5;}else{if(y===-90){AG=x.offsetHeight;z-=AG;AF+=x.offsetWidth*0.5;}else{AG=(w*x.offsetWidth)+(AB*x.offsetHeight);if(y<0){z-=AG;AF+=(AB*x.offsetWidth)-(w*(x.offsetHeight*0.6));}else{z-=(w*x.offsetWidth);AF-=(AB*x.offsetWidth)+(w*(x.offsetHeight*0.6));}}}}z-=AC;x.style.left=z+"px";x.style.top=AF+"px";x.style.MozTransformOrigin="0 0";x.style.MozTransform="rotate("+y+"deg)";x.style.webkitTransformOrigin="0 0";x.style.webkitTransform="rotate("+y+"deg)";this.set("maxLabelSize",Math.max(AG,AA));},setSizeAndPosition:function(){var Y=this.get("maxLabelSize"),t=this.get("axisRenderer"),u=t.get("styles"),w=u.line.weight,x=u.majorTicks,v=x.display,y=x.length;if(v==="outside"){w+=y;}else{if(v==="cross"){w+=y*0.5;}}w+=Y;t.get("node").style.left=Y+"px";t.set("width",w);},offsetNodeForTick:function(u){var Y=this.get("axisRenderer"),w=Y.get("styles").majorTicks,t=w.length,v=w.display;if(v==="inside"){u.style.marginRight=(0-t)+"px";}else{if(v==="cross"){u.style.marginRight=(0-(t*0.5))+"px";}}}});B.LeftAxisLayout=C;function l(Y){l.superclass.constructor.apply(this,arguments);}l.ATTRS={axisRenderer:{value:null}};B.extend(l,B.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),w=Y.get("styles").majorTicks,u=w.length,t=u*0.5,v=w.display;Y.set("topTickOffset",0);Y.set("bottomTickOffset",0);switch(v){case"inside":Y.set("leftTickOffset",u);break;case"outside":Y.set("rightTickOffset",u);break;case"cross":Y.set("rightTickOffset",t);Y.set("leftTickOffset",t);break;}},drawTick:function(y,w){var t=this.get("axisRenderer"),u=t.get("styles"),x=u.padding,v=w.length,z={x:x.left,y:y.y},Y={x:x.left+v,y:y.y};t.drawLine(z,Y,w);},getLineStart:function(){var Y=this.get("axisRenderer"),t=Y.get("styles"),x=t.padding,y=t.majorTicks,u=y.length,w=y.display,v={x:x.left,y:x.top};if(w==="inside"){v.x+=u;}else{if(w==="cross"){v.x+=u/2;}}return v;},getLabelPoint:function(Y){var t=this.get("axisRenderer");return{x:Y.x+t.get("rightTickOffset"),y:Y.y};},positionLabel:function(AF,AH){var y=this.get("axisRenderer"),Y=y.get("styles").label,z=0,v=AH.x,AC=AH.y,w=Math.min(Math.max(Y.rotation,-90),90),AA=Math.abs(w),AE=Math.PI/180,AG=parseFloat(parseFloat(Math.sin(AA*AE)).toFixed(8)),u=parseFloat(parseFloat(Math.cos(AA*AE)).toFixed(8)),AD=u,AB=w>0?-AG:AG,x=-AB,t=AD;if(Y.margin&&Y.margin.right){z=Y.margin.right;}if(B.UA.ie){AF.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(w===0){AC-=AF.offsetHeight*0.5;}else{if(AA===90){AC-=AF.offsetWidth*0.5;}else{if(w>0){AC-=(u*(AF.offsetHeight*0.5));}else{AC-=(AG*AF.offsetWidth)+(u*(AF.offsetHeight*0.5));}}}v+=z;AF.style.left=v+"px";AF.style.top=AC+"px";AF.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+AD+" M12="+AB+" M21="+x+" M22="+t+' sizingMethod="auto expand")';return;}if(w===0){AC-=AF.offsetHeight*0.5;}else{if(w===90){v+=AF.offsetHeight;AC-=AF.offsetWidth*0.5;}else{if(w===-90){AC+=AF.offsetWidth*0.5;
}else{if(w<0){AC-=(u*(AF.offsetHeight*0.6));}else{AC-=u*(AF.offsetHeight*0.6);v+=AG*AF.offsetHeight;}}}}v+=z;AF.style.left=v+"px";AF.style.top=AC+"px";AF.style.MozTransformOrigin="0 0";AF.style.MozTransform="rotate("+w+"deg)";AF.style.webkitTransformOrigin="0 0";AF.style.webkitTransform="rotate("+w+"deg)";},setSizeAndPosition:function(){var t=this.get("axisRenderer"),Y=this.get("maxLabelSize"),u=t.get("styles"),w=u.line.weight,x=u.majorTicks,v=x.display,y=x.length;if(v==="outside"){w+=y;}else{if(v==="cross"){w+=y*0.5;}}w+=Y;t.set("width",w);},offsetNodeForTick:function(u){var Y=this.get("axisRenderer"),w=Y.get("styles").majorTicks,t=w.length,v=w.display;if(v==="inside"){u.style.marginLeft=(0-t)+"px";}else{if(v==="cross"){u.style.marginLeft=(0-(t*0.5))+"px";}}}});B.RightAxisLayout=l;function n(Y){n.superclass.constructor.apply(this,arguments);}n.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(n,B.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),w=Y.get("styles").majorTicks,u=w.length,t=u*0.5,v=w.display;Y.set("leftTickOffset",0);Y.set("rightTickOffset",0);switch(v){case"inside":Y.set("topTickOffset",u);break;case"outside":Y.set("bottomTickOffset",u);break;case"cross":Y.set("topTickOffset",t);Y.set("bottomTickOffset",t);break;}},setSizeAndPosition:function(){var Y=this.get("maxLabelSize"),t=this.get("axisRenderer"),u=t.get("styles"),w=u.line.weight,x=u.majorTicks,v=x.display,y=x.length;if(v==="outside"){w+=y;}else{if(v==="cross"){w+=y*0.5;}}w+=Y;t.set("height",w);},getLineStart:function(){var Y=this.get("axisRenderer"),t=Y.get("styles"),x=t.padding,y=t.majorTicks,u=y.length,w=y.display,v={x:0,y:x.top};if(w==="inside"){v.y+=u;}else{if(w==="cross"){v.y+=u/2;}}return v;},drawTick:function(y,w){var t=this.get("axisRenderer"),u=t.get("styles"),x=u.padding,v=w.length,z={x:y.x,y:x.top},Y={x:y.x,y:v+x.top};t.drawLine(z,Y,w);},getLabelPoint:function(Y){var t=this.get("axisRenderer");return{x:Y.x,y:Y.y+t.get("bottomTickOffset")};},positionLabel:function(x,AE){var AD=this.get("axisRenderer"),AH=AD.get("styles").label,AC=0,z=AE.x,AF=AE.y,y=Math.min(90,Math.max(-90,AH.rotation)),Y=Math.abs(y),t=Math.PI/180,AB=parseFloat(parseFloat(Math.sin(Y*t)).toFixed(8)),w=parseFloat(parseFloat(Math.cos(Y*t)).toFixed(8)),AJ=w,AI=y>0?-AB:AB,v=-AI,u=AJ,AG=0,AA=this.get("maxLabelSize");if(x.margin&&x.margin.top){AC=x.margin.top;}if(B.UA.ie){AJ=w;AI=y>0?-AB:AB;v=-AI;u=AJ;x.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(Y===90){z-=x.offsetHeight*0.5;}else{if(y<0){z-=w*x.offsetWidth;z-=AB*(x.offsetHeight*0.5);}else{if(y>0){z-=AB*(x.offsetHeight*0.5);}else{z-=x.offsetWidth*0.5;}}}AF+=AC;x.style.left=z+"px";x.style.top=AF+"px";x.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+AJ+" M12="+AI+" M21="+v+" M22="+u+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(x.offsetHeight,AA));return;}if(y===0){z-=x.offsetWidth*0.5;AG=x.offsetHeight;}else{if(Y===90){AG=x.offsetWidth;if(y===90){z+=x.offsetHeight*0.5;}else{AF+=AG;z-=x.offsetHeight*0.5;}}else{AG=(AB*x.offsetWidth)+(w*x.offsetHeight);if(y<0){z-=(w*x.offsetWidth)+(AB*(x.offsetHeight*0.6));AF+=AB*x.offsetWidth;}else{z+=AB*(x.offsetHeight*0.6);}}}AF+=AC;x.style.left=z+"px";x.style.top=AF+"px";x.style.MozTransformOrigin="0 0";x.style.MozTransform="rotate("+y+"deg)";x.style.webkitTransformOrigin="0 0";x.style.webkitTransform="rotate("+y+"deg)";this.set("maxLabelSize",Math.max(AG,AA));},offsetNodeForTick:function(u){var Y=this.get("axisRenderer"),w=Y.get("styles").majorTicks,t=w.length,v=w.display;if(v==="inside"){u.style.marginTop=(0-t)+"px";}else{if(v==="cross"){u.style.marginTop=(0-(t*0.5))+"px";}}}});B.BottomAxisLayout=n;function h(Y){h.superclass.constructor.apply(this,arguments);}h.ATTRS={axisRenderer:{value:null}};B.extend(h,B.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),w=Y.get("styles").majorTicks,u=w.length,t=u*0.5,v=w.display;Y.set("leftTickOffset",0);Y.set("rightTickOffset",0);switch(v){case"inside":Y.set("bottomTickOffset",u);break;case"outside":Y.set("topTickOffset",u);break;case"cross":Y.set("topTickOffset",t);Y.set("bottomTickOffset",t);break;}},getLineStart:function(){var Y=this.get("axisRenderer"),t=Y.get("styles"),x=t.padding,y=t.majorTicks,u=y.length,w=y.display,v={x:0,y:x.top};if(w==="outside"){v.y+=u;}else{if(w==="cross"){v.y+=u/2;}}return v;},drawTick:function(y,w){var t=this.get("axisRenderer"),u=t.get("styles"),x=u.padding,v=w.length,z={x:y.x,y:x.top},Y={x:y.x,y:v+x.top};t.drawLine(z,Y,w);},getLabelPoint:function(t){var Y=this.get("axisRenderer");return{x:t.x,y:t.y-Y.get("topTickOffset")};},positionLabel:function(AF,AH){var y=this.get("axisRenderer"),Y=y.get("styles").label,z=0,v=AH.x,AC=AH.y,w=Math.max(-90,Math.min(90,Y.rotation)),AA=Math.abs(w),AE=Math.PI/180,AG=parseFloat(parseFloat(Math.sin(AA*AE)).toFixed(8)),u=parseFloat(parseFloat(Math.cos(AA*AE)).toFixed(8)),AD,AB,x,t;w=Math.min(90,w);w=Math.max(-90,w);if(Y.margin&&Y.margin.bottom){z=Y.margin.bottom;}if(B.UA.ie){AF.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";AD=u;AB=w>0?-AG:AG;x=-AB;t=AD;if(w===0){v-=AF.offsetWidth*0.5;AC-=AF.offsetHeight;}else{if(AA===90){v-=AF.offsetHeight*0.5;AC-=AF.offsetWidth;}else{if(w>0){v-=(u*AF.offsetWidth)+Math.min((AG*AF.offsetHeight),(w/180*AF.offsetHeight));AC-=(AG*AF.offsetWidth)+(u*(AF.offsetHeight));}else{v-=AG*(AF.offsetHeight*0.5);AC-=(AG*AF.offsetWidth)+(u*(AF.offsetHeight));}}}AC-=z;AF.style.left=v;AF.style.top=AC;AF.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+AD+" M12="+AB+" M21="+x+" M22="+t+' sizingMethod="auto expand")';return;}if(w===0){v-=AF.offsetWidth*0.5;AC-=AF.offsetHeight;}else{if(w===90){v+=AF.offsetHeight*0.5;AC-=AF.offsetWidth;}else{if(w===-90){v-=AF.offsetHeight*0.5;AC-=0;}else{if(w<0){v-=(AG*(AF.offsetHeight*0.6));AC-=(u*AF.offsetHeight);}else{v-=(u*AF.offsetWidth)-(AG*(AF.offsetHeight*0.6));AC-=(AG*AF.offsetWidth)+(u*AF.offsetHeight);}}}}AC-=z;AF.style.left=v+"px";AF.style.top=AC+"px";AF.style.MozTransformOrigin="0 0";
AF.style.MozTransform="rotate("+w+"deg)";AF.style.webkitTransformOrigin="0 0";AF.style.webkitTransform="rotate("+w+"deg)";},setSizeAndPosition:function(Y){var t=this.get("axisRenderer"),u=t.get("styles"),w=u.line.weight,x=u.majorTicks,v=x.display,y=x.length;if(v==="outside"){w+=y;}else{if(v==="cross"){w+=y*0.5;}}w+=Y;t.get("node").style.top=Y+"px";t.set("height",w);},offsetNodeForTick:function(u){var Y=this.get("axisRenderer"),w=Y.get("styles").majorTicks,t=w.length,v=w.display;if(v==="inside"){u.style.marginBottom=(0-t)+"px";}else{if(v==="cross"){u.style.marginBottom=(0-(t*0.5))+"px";}}}});B.TopAxisLayout=h;B.mix(B.AxisRenderer.prototype,{_ui:null,getLayout:function(t){var Y;switch(t){case"top":Y=new B.TopAxisLayout({axisRenderer:this});break;case"bottom":Y=new B.BottomAxisLayout({axisRenderer:this});break;case"left":Y=new B.LeftAxisLayout({axisRenderer:this});break;case"right":Y=new B.RightAxisLayout({axisRenderer:this});break;}return Y;},drawLine:function(u,t,Y){var v=this.get("graphic");v.lineStyle(Y.weight,Y.color,Y.alpha);v.moveTo(u.x,u.y);v.lineTo(t.x,t.y);v.end();},_drawAxis:function(){var t=this.get("styles"),AC=t.majorTicks,AD=AC.display!="none",w,AB=t.majorUnit,u=this.get("axis"),AA,AF,x=0,v,y,z,AG,AE=this._ui,Y=this.get("graphic");Y.clear();AE.setTickOffsets();v=this.getLength();z=AE.getLineStart();AA=u.getTotalMajorUnits(AB,v);AF=u.getMajorUnitDistance(AA,v,AB);this.set("edgeOffset",u.getEdgeOffset(AA,v)*0.5);w=this.getFirstPoint(z);this.drawLine(z,this.getLineEnd(w),this.get("styles").line);if(AD){AE.drawTick(w,AC);}if(AA<1){return;}this._createLabelCache();AE.set("maxLabelSize",0);for(;x<AA;++x){if(AD){AE.drawTick(w,AC);}y=this.getPosition(w);AG=this.getLabel(w,u.getLabelAtPosition(y,v));AE.positionLabel(AG,AE.getLabelPoint(w));w=this.getNextPoint(w,AF);}AE.setSizeAndPosition();this._clearLabelCache();if(this.get("overlapGraph")){AE.offsetNodeForTick(this.get("node"));}this.fire("axisRendered");},_labels:null,_labelCache:null,getLabel:function(v,Y,w){var u,t=this._labelCache;if(t.length>0){u=t.shift();}else{u=document.createElement("span");}u.innerHTML=Y;u.style.display="block";u.style.position="absolute";this.get("node").appendChild(u);this._labels.push(u);return u;},_createLabelCache:function(){if(this._labels){this._labelCache=this._labels.concat();}else{this._labelCache=[];}this._labels=[];},_clearLabelCache:function(){var Y=this._labelCache.length,u=0,t,v;for(;u<Y;++u){t=v[u];t.parentNode.removeChild(t);}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(u){var Y=this.get("node").offsetWidth,t=this.get("node").offsetHeight,v=this.get("position");if(v==="top"||v==="bottom"){return{x:Y,y:u.y};}else{return{x:u.x,y:t};}},getLength:function(){var t,v=this.get("styles"),x=v.padding,Y=this.get("node").offsetWidth,u=this.get("node").offsetHeight,y=this.get("position");if(y==="top"||y==="bottom"){t=Y-(x.left+x.right);}else{t=u-(x.top+x.bottom);}return t;},getFirstPoint:function(v){var Y=this.get("styles"),w=this.get("position"),u=Y.padding,t={x:v.x,y:v.y};if(w==="top"||w==="bottom"){t.x+=u.left+this.get("edgeOffset");}else{t.y+=u.top+this.get("edgeOffset");}return t;},getNextPoint:function(Y,t){var u=this.get("position");if(u==="top"||u==="bottom"){Y.x=Y.x+t;}else{Y.y=Y.y+t;}return Y;},getLastPoint:function(){var t=this.get("styles"),u=t.padding,Y=this.get("node").offsetWidth,v=this.get("position");if(v==="top"||v==="bottom"){return{x:Y-u.right,y:u.top};}else{return{x:u.left,y:u.top};}},getPosition:function(Y){var x,v=this.get("node").offsetHeight,u=this.get("styles"),w=u.padding,y=this.get("position"),t=this.get("axis").get("dataType");if(y==="left"||y==="right"){if(t==="numeric"){x=(v-(w.top+w.bottom))-(Y.y-w.top);}else{x=Y.y-w.top;}}else{x=Y.x-w.left;}return x;}});function k(Y){k.superclass.constructor.apply(this,arguments);}k.NAME="cartesianChart";k.ATTRS={dataProvider:{getter:function(){return this._dataProvider;},setter:function(Y){this._setDataValues(Y);}},axes:{getter:function(){return this._axes;},setter:function(Y){this._parseAxes(Y);}},seriesCollection:{getter:function(){return this._getSeriesCollection();},setter:function(Y){return this._setSeriesCollection(Y);}},leftAxesContainer:{value:null},bottomAxesContainer:{value:null},rightAxesContainer:{value:null},topAxesContainer:{value:null},graphContainer:{value:null},graph:{value:null},type:{getter:function(){if(this.get("stacked")){return"stacked"+this._type;}return this._type;},setter:function(Y){this._setChartType(Y);}},stacked:{value:false},direction:{getter:function(){var Y=this.get("type");if(Y=="bar"){return"vertical";}else{if(Y=="column"){return"horizontal";}}return this._direction;},setter:function(Y){this._direction=Y;}},showTooltip:{value:true},categoryKey:{value:"category"},seriesKeys:{value:null},showAreaFill:{value:null}};B.extend(k,B.Widget,{getSeriesByIndex:function(u){var Y,t=this.get("graph");if(t){Y=t.getSeriesByIndex(u);}return Y;},getSeriesByKey:function(u){var Y,t=this.get("graph");if(t){Y=t.getSeriesByKey(u);}return Y;},getAxisByKey:function(u){var Y,t=this.get("axes");if(t.hasOwnProperty(u)){Y=t[u];}return Y;},getCategoryAxis:function(){var t,Y=this.get("categoryKey"),u=this.get("axes");if(u.hasOwnProperty(Y)){t=u[Y];}return t;},_type:"combo",_direction:"horizontal",_dataProvider:null,_setDataValues:function(x){if(B.Lang.isArray(x[0])){var w,z=[],u=x[0],v=0,t=u.length,y,Y=x.length;for(;v<t;++v){w={category:u[v]};for(y=1;y<Y;++y){w["series"+y]=x[y][v];}z[v]=w;}this._dataProvider=z;return;}this._dataProvider=x;},_seriesCollection:null,_setSeriesCollection:function(Y){this._seriesCollection=Y;},_getSeriesCollection:function(){if(this._seriesCollection){return this._seriesCollection;}var z=this.get("axes"),u=this.get("direction"),AC=[],Y,t,AA,w=0,v,AB=this.get("type"),AE,y,AD,x=this.get("showAreaFill");if(u=="vertical"){Y="yAxis";y="yKey";t="xAxis";AD="xKey";}else{Y="xAxis";y="xKey";t="yAxis";AD="yKey";}if(z){AA=z.values.get("axis").get("keyCollection");AE=z.category.get("axis").get("keyCollection")[0];
v=AA.length;for(;w<v;++w){AC[w]={type:AB};AC[w][Y]="category";AC[w][t]="values";AC[w][y]=AE;AC[w][AD]=AA[w];if((AB=="combo"||AB=="stackedcombo"||AB=="combospline"||AB=="stackedcombospline")&&x!==null){AC[w].showAreaFill=x;}}}this._seriesCollection=AC;return AC;},_getDataClass:function(Y){return this._dataClass[Y];},_dataClass:{stacked:B.StackedAxis,numeric:B.NumericAxis,category:B.CategoryAxis,time:B.TimeAxis},_parseAxes:function(y){if(!this._axes){this._axes={};}if(!this._dataAxes){this._dataAxes={};}var u,z,v,Y,w,t,x;for(u in y){if(y.hasOwnProperty(u)){w=y[u];z=w.position;x=this._getDataClass(w.type);t={dataProvider:this.get("dataProvider"),keys:w.keys};if(w.hasOwnProperty("roundingUnit")){t.roundingUnit=w.roundingUnit;}Y=new x(t);if(z&&z!="none"){v=new B.AxisRenderer({axis:Y,position:w.position,styles:w.styles});this._axes[u]=v;}this._dataAxes[u]=Y;}}},_dataAxes:null,_axes:null,renderUI:function(){this._createLayout();},bindUI:function(){this.after("showTooltipChange",B.bind(this._showTooltipChangeHandler,this));},syncUI:function(){this._addAxes();this._addSeries();if(!this.tooltip&&this.get("showTooltip")){this._addTooltip();}},_setChartType:function(Y){if(Y==this._type){return;}if(this._type=="bar"){if(Y!="bar"){this.set("direction","horizontal");}}else{if(Y=="bar"){this.set("direction","vertical");}}this._type=Y;},_addAxes:function(){var w=this.get("axes"),u={left:this.get("leftAxesContainer"),bottom:this.get("bottomAxesContainer"),right:this.get("rightAxesContainer"),top:this.get("topAxesContainer")},Y,t,v;if(!w){this.set("axes",this._getDefaultAxes());w=this.get("axes");}for(Y in w){if(w.hasOwnProperty(Y)){t=w[Y];v=t.get("position");t.render(u[v]);}}},_addSeries:function(){var Y=this.get("seriesCollection");this._parseSeriesAxes(Y);this.set("graph",new B.Graph({parent:this.get("graphContainer")}));this.get("graph").on("chartRendered",B.bind(function(t){this.fire("chartRendered");},this));this.get("graph").set("seriesCollection",Y);this._seriesCollection=this.get("graph").get("seriesCollection");},_parseSeriesAxes:function(v){var t=0,Y=v.length,u;for(;t<Y;++t){u=v[t];u.xAxis=this._dataAxes[u.xAxis];u.yAxis=this._dataAxes[u.yAxis];}},_createLayout:function(){var w=this.get("contentBox"),t=document.createElement("table"),Y=document.createElement("tr"),y=document.createElement("tr"),AI=document.createElement("tr"),AD=document.createElement("td"),AB=document.createElement("td"),AF=document.createElement("td"),AK=document.createElement("td"),AG=document.createElement("td"),AL=document.createElement("td"),AE=document.createElement("td"),AC=document.createElement("td"),AH=document.createElement("td"),z=document.createElement("div"),u=document.createElement("div"),AA=document.createElement("div"),v=document.createElement("div"),AJ=document.createElement("div"),x="vertical-align:top;border:0px;margin:0px;padding:0px;border-spacing:0px";t.setAttribute("style",x);Y.setAttribute("style",x);y.setAttribute("style",x);AI.setAttribute("style",x);AD.setAttribute("style",x);AB.setAttribute("style",x);AF.setAttribute("style",x);AK.setAttribute("style",x);AG.setAttribute("style",x);AL.setAttribute("style",x);AE.setAttribute("style",x);AC.setAttribute("style",x);AH.setAttribute("style",x);Y.id="topRow";y.id="midRow";AI.id="bottomRow";w.appendChild(t);t.appendChild(Y);Y.appendChild(AD);Y.appendChild(AB);Y.appendChild(AF);t.appendChild(y);y.appendChild(AK);y.appendChild(AG);y.appendChild(AL);t.appendChild(AI);AI.appendChild(AE);AI.appendChild(AC);AI.appendChild(AH);v.setAttribute("style","position:relative;width:800px;");v.setAttribute("id","topAxesContainer");z.setAttribute("style","position:relative;height:300px;");z.setAttribute("id","leftAxesContainer");u.setAttribute("style","position:relative;width:800px;");u.setAttribute("id","bottomAxesContainer");AA.setAttribute("style","position:relative;height:300px;");AA.setAttribute("id","rightAxesContainer");AJ.setAttribute("style","position:relative;width:100%;height:100%;");AB.appendChild(v);AK.appendChild(z);AC.appendChild(u);AL.appendChild(AA);AG.appendChild(AJ);this.set("leftAxesContainer",z);this.set("bottomAxesContainer",u);this.set("rightAxesContainer",AA);this.set("topAxesContainer",v);this.set("graphContainer",AJ);},_getDefaultAxes:function(){var w=this.get("categoryKey"),t=this.get("seriesKeys")||[],v,u=this.get("dataProvider")[0],y=this.get("direction"),x,z,Y=this.get("stacked")?"stacked":"numeric";if(y=="vertical"){x="bottom";z="left";}else{x="left";z="bottom";}if(t.length<1){for(v in u){if(v!=w){t.push(v);}}if(t.length>0){this.set("seriesKeys",t);}}return{values:{keys:t,position:x,type:Y},category:{keys:[w],position:z,type:"category"}};},tooltip:null,_addTooltip:function(t){if(!B.Tooltip){return;}var Y=new B.Tooltip({triggerNodes:".yui3-seriesmarker",delegate:"#"+this._parentNode.get("id"),shim:false,zIndex:2});Y.render();Y.on("triggerEnter",function(AC){var x=AC.node,AA=B.Widget.getByNode(x),AB=AA.get("index"),z=AA.get("series"),v=z.get("xAxis"),u=z.get("yAxis"),AD=z.get("xKey"),y=z.get("yKey"),w=z.get("xDisplayName")+": "+v.get("labelFunction")(v.getKeyValueAt(AD,AB))+"<br/>"+z.get("yDisplayName")+": "+u.get("labelFunction")(u.getKeyValueAt(y,AB));if(x){this.setTriggerContent(w);}});this.tooltip=Y;},_showTooltipChangeHandler:function(Y){if(this.get("showTooltip")&&this.get("rendered")){this._addTooltip();}}});B.CartesianChart=k;function c(Y){if(Y.type!="pie"){return new B.CartesianChart(Y);}}B.Chart=c;},"gallery-2010.09.08-19-45",{requires:["dom","datatype","event-custom","event-mouseenter","widget","widget-position","widget-stack"]});