<!DOCTYPE html>
<html>
    <head>
        <title>
            Async Tests
        </title>
        <script src="http://yui.yahooapis.com/3.5.1/build/yui/yui-min.js">
        </script>
        <style type="text/css">
            #console .yui3-console-entry {
                padding: 2px;
                margin: 0;
                min-height: 0;
            }

            #console .yui3-console-entry-fail .yui3-console-entry-cat {
                background-color: red;
            }

            #console .yui3-console-entry-pass .yui3-console-entry-cat {
                background-color: green;
            }

            #console .yui3-console-entry-perf .yui3-console-entry-cat {
                background-color: blue;
            }

            #console {
                position: static;
            }

            html, body {
                height: 100%;
            }
        </style>
    </head>
    <body class="yui3-skin-sam">
        <div id="testbed" class="yui3-skin-foo">
        </div>
        <p>
            <button id="runButton" type="button">
                Run Tests
            </button>
        </p>
        <script>
            YUI({
                useBrowserConsole:false,
                filter: (window.location.search.match(/[?&]filter=([^&]+)/) || [])[1] || 'min',
                modules: {
                    'gallery-array-unnest': {
                        fullpath: '../../../build/gallery-array-unnest/gallery-array-unnest-min.js'
                    },
                    'gallery-async': {
                        fullpath: '../../../build/gallery-async/gallery-async-min.js',
                        requires: [
                            'gallery-array-unnest',
                            'gallery-async-command'
                        ]
                    },
                    'gallery-async-command': {
                        fullpath: '../../../build/gallery-async-command/gallery-async-command-min.js',
                        requires: [
                            'base'
                        ]
                    }
                }
            }).use('console', 'test', 'gallery-async', function (Y) {
                'use strict';
                
                var assert = Y.Assert,
                    assertAreSame = assert.areSame,
                    assertFail = assert.fail,
                    assertIsArray = assert.isArray,
                    assertIsFunction = assert.isFunction,
                    assertIsUndefined = assert.isUndefined,
                    Async = Y.Async,
                    AsyncCommand = Y.AsyncCommand,
                    console,
                    runButtonNode = Y.one('#runButton'),
                    later = Y.later,
                    test = Y.Test,
                    testRunner = test.Runner,
                    testSuite = new test.Suite('Async Tests');
                    
                if (!runButtonNode) {
                    return;
                }

                testSuite.add(new test.Case({
                    name: 'Async Tests',
                    'test:001-emptyRunAllSynchronousSuccess': function () {
                        new Async({
                            mode: 'all'
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 0);
                            assertAreSame(targetValue.length, 0);
                        });
                    },
                    'test:002-emptyRunQueueSynchronousSuccess': function () {
                        new Async().run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 0);
                            assertAreSame(targetValue.length, 0);
                        });
                    },
                    'test:003-runAllSingleCommandSynchronousFailure': function () {
                        new Async({
                            mode: 'all',
                            run: new AsyncCommand({
                                fn: function (success) {
                                    success.fail();
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                        });
                    },
                    'test:004-runAllSingleCommandSynchronousFailureWithError': function () {
                        new Async({
                            mode: 'all',
                            run: new AsyncCommand({
                                fn: function (success) {
                                    success.fail('error message');
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                        });
                    },
                    'test:005-runQueueSingleCommandSynchronousFailure': function () {
                        new Async({
                            run: new AsyncCommand({
                                fn: function (success) {
                                    success.fail();
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                        });
                    },
                    'test:006-runQueueSingleCommandSynchronousFailureWithError': function () {
                        new Async({
                            run: new AsyncCommand({
                                fn: function (success) {
                                    success.fail('error message');
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                        });
                    },
                    'test:007-runAllSingleCommandSynchronousSuccess': function () {
                        new Async({
                            mode: 'all',
                            run: new AsyncCommand({
                                fn: function (success) {
                                    success();
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 1);
                            assertAreSame(targetValue.length, 1);
                            
                            assertIsUndefined(eventFacadeValue[0]);
                            assertIsUndefined(targetValue[0]);
                        });
                    },
                    'test:008-runAllSingleCommandSynchronousSuccessWithValue': function () {
                        new Async({
                            mode: 'all',
                            run: new AsyncCommand({
                                fn: function (success) {
                                    success('success value');
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 1);
                            assertAreSame(targetValue.length, 1);
                            
                            assertAreSame(eventFacadeValue[0], 'success value');
                            assertAreSame(targetValue[0], 'success value');
                        });
                    },
                    'test:009-runQueueSingleCommandSynchronousSuccess': function () {
                        new Async({
                            run: new AsyncCommand({
                                fn: function (success) {
                                    success();
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 1);
                            assertAreSame(targetValue.length, 1);
                            
                            assertIsUndefined(eventFacadeValue[0]);
                            assertIsUndefined(targetValue[0]);
                        });
                    },
                    'test:010-runQueueSingleCommandSynchronousSuccessWithValue': function () {
                        new Async({
                            run: new AsyncCommand({
                                fn: function (success) {
                                    success('success value');
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 1);
                            assertAreSame(targetValue.length, 1);
                            
                            assertAreSame(eventFacadeValue[0], 'success value');
                            assertAreSame(targetValue[0], 'success value');
                        });
                    },
                    'test:011-runAllMultipleCommandsSynchronousFailure': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success.fail();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        success();
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:012-runAllMultipleCommandsSynchronousFailureWithError': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success.fail('error message');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        success();
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:013-runAllMultipleCommandsSynchronousFailureWithValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success('success value 1');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success.fail();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        success('success value 3');
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:014-runAllMultipleCommandsSynchronousFailureWithErrorAndValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success('success value 1');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success.fail('error message');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        success('success value 3');
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:015-runQueueMultipleCommandsSynchronousFailure': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success.fail();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        assertFail();
                                        success();
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 2);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                        });
                    },
                    'test:016-runQueueMultipleCommandsSynchronousFailureWithError': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success.fail('error message');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        assertFail();
                                        success();
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 2);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                        });
                    },
                    'test:017-runQueueMultipleCommandsSynchronousFailureWithValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success('success value 1');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success.fail();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        assertFail();
                                        success('success value 3');
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 2);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                        });
                    },
                    'test:018-runQueueMultipleCommandsSynchronousFailureWithErrorAndValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success('success value 1');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success.fail('error message');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        assertFail();
                                        success('success value 3');
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 2);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                        });
                    },
                    'test:019-runAllMultipleCommandsSynchronousSuccess': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        success();
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertIsUndefined(eventFacadeValue[0]);
                            assertIsUndefined(targetValue[0]);
                            
                            assertIsUndefined(eventFacadeValue[1]);
                            assertIsUndefined(targetValue[1]);
                            
                            assertIsUndefined(eventFacadeValue[2]);
                            assertIsUndefined(targetValue[2]);
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:020-runAllMultipleCommandsSynchronousSuccessWithValue': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success('success value');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        success();
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertAreSame(eventFacadeValue[0], 'success value');
                            assertAreSame(targetValue[0], 'success value');
                            
                            assertIsUndefined(eventFacadeValue[1]);
                            assertIsUndefined(targetValue[1]);
                            
                            assertIsUndefined(eventFacadeValue[2]);
                            assertIsUndefined(targetValue[2]);
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:021-runAllMultipleCommandsSynchronousSuccessWithValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success('success value 1');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success('success value 2');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        success('success value 3');
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertAreSame(eventFacadeValue[0], 'success value 1');
                            assertAreSame(targetValue[0], 'success value 1');
                            
                            assertAreSame(eventFacadeValue[1], 'success value 2');
                            assertAreSame(targetValue[1], 'success value 2');
                            
                            assertAreSame(eventFacadeValue[2], 'success value 3');
                            assertAreSame(targetValue[2], 'success value 3');
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:022-runQueueMultipleCommandsSynchronousSuccess': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        success();
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertIsUndefined(eventFacadeValue[0]);
                            assertIsUndefined(targetValue[0]);
                            
                            assertIsUndefined(eventFacadeValue[1]);
                            assertIsUndefined(targetValue[1]);
                            
                            assertIsUndefined(eventFacadeValue[2]);
                            assertIsUndefined(targetValue[2]);
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:023-runQueueMultipleCommandsSynchronousSuccessWithValue': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success('success value');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success();
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        success();
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertAreSame(eventFacadeValue[0], 'success value');
                            assertAreSame(targetValue[0], 'success value');
                            
                            assertIsUndefined(eventFacadeValue[1]);
                            assertIsUndefined(targetValue[1]);
                            
                            assertIsUndefined(eventFacadeValue[2]);
                            assertIsUndefined(targetValue[2]);
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:024-runQueueMultipleCommandsSynchronousSuccessWithValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        success('success value 1');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        success('success value 2');
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        success('success value 3');
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertAreSame(eventFacadeValue[0], 'success value 1');
                            assertAreSame(targetValue[0], 'success value 1');
                            
                            assertAreSame(eventFacadeValue[1], 'success value 2');
                            assertAreSame(targetValue[1], 'success value 2');
                            
                            assertAreSame(eventFacadeValue[2], 'success value 3');
                            assertAreSame(targetValue[2], 'success value 3');
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:025-runAllSingleCommandAsynchronousFailure': function () {
                        var me = this;
                    
                        new Async({
                            mode: 'all',
                            run: new AsyncCommand({
                                fn: function (success) {
                                    later(610, null, success.fail);
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;
                            
                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:026-runAllSingleCommandAsynchronousFailureWithError': function () {
                        var me = this;
                        
                        new Async({
                            mode: 'all',
                            run: new AsyncCommand({
                                fn: function (success) {
                                    later(610, null, function () {
                                        success.fail('error message');
                                    });
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;
                            
                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:027-runQueueSingleCommandAsynchronousFailure': function () {
                        var me = this;
                        
                        new Async({
                            run: new AsyncCommand({
                                fn: function (success) {
                                    later(610, null, success.fail);
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            me.resume( function () {
                                var target = eventFacade.target;
                            
                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:028-runQueueSingleCommandAsynchronousFailureWithError': function () {
                        var me = this;
                        
                        new Async({
                            run: new AsyncCommand({
                                fn: function (success) {
                                    later(610, null, function () {
                                        success.fail('error message');
                                    });
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:029-runAllSingleCommandAsynchronousSuccess': function () {
                        var me = this;
                        
                        new Async({
                            mode: 'all',
                            run: new AsyncCommand({
                                fn: function (success) {
                                    later(610, null, success);
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 1);
                                assertAreSame(targetValue.length, 1);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:030-runAllSingleCommandAsynchronousSuccessWithValue': function () {
                        var me = this;
                        
                        new Async({
                            mode: 'all',
                            run: new AsyncCommand({
                                fn: function (success) {
                                    later(610, null, function () {
                                        success('success value');
                                    });
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 1);
                                assertAreSame(targetValue.length, 1);

                                assertAreSame(eventFacadeValue[0], 'success value');
                                assertAreSame(targetValue[0], 'success value');
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:031-runQueueSingleCommandAsynchronousSuccess': function () {
                        var me = this;
                        
                        new Async({
                            run: new AsyncCommand({
                                fn: function (success) {
                                    later(610, null, success);
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 1);
                                assertAreSame(targetValue.length, 1);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:032-runQueueSingleCommandAsynchronousSuccessWithValue': function () {
                        var me = this;
                        
                        new Async({
                            run: new AsyncCommand({
                                fn: function (success) {
                                    later(610, null, function () {
                                        success('success value');
                                    });
                                }
                            })
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 1);
                                assertAreSame(targetValue.length, 1);

                                assertAreSame(eventFacadeValue[0], 'success value');
                                assertAreSame(targetValue[0], 'success value');
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:033-runAllMultipleCommandsAsynchronousFailure': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(610, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(610, null, success.fail);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        
                                        later(610, null, success);
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:034-runAllMultipleCommandsAsynchronousFailureWithError': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(610, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(610, null, function () {
                                            success.fail('error message');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        
                                        later(610, null, success);
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:035-runAllMultipleCommandsAsynchronousFailureWithValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(610, null, function () {
                                            success('success value 1');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(610, null, success.fail);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        
                                        later(610, null, function () {
                                            success('success value 3');
                                        });
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:036-runAllMultipleCommandsAsynchronousFailureWithErrorAndValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(610, null, function () {
                                            success('success value 1');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(610, null, function () {
                                            success.fail('error message');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        
                                        later(610, null, function () {
                                            success('success value 3');
                                        });
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:037-runQueueMultipleCommandsAsynchronousFailure': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(233, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(233, null, success.fail);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        assertFail();
                                        
                                        later(233, null, success);
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 2);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:038-runQueueMultipleCommandsAsynchronousFailureWithError': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(233, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(233, null, function () {
                                            success.fail('error message');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        assertFail();
                                        
                                        later(233, null, success);
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 2);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:039-runQueueMultipleCommandsAsynchronousFailureWithValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(233, null, function () {
                                            success('success value 1');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(233, null, success.fail);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        assertFail();
                                        
                                        later(233, null, function () {
                                            success('success value 3');
                                        });
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 2);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:040-runQueueMultipleCommandsAsynchronousFailureWithErrorAndValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(233, null, function () {
                                            success('success value 1');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(233, null, function () {
                                            success.fail('error message');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        assertFail();
                                        
                                        later(233, null, function () {
                                            success('success value 3');
                                        });
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 2);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:041-runAllMultipleCommandsAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(610, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(610, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        
                                        later(610, null, success);
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:042-runAllMultipleCommandsAsynchronousSuccessWithValue': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(610, null, function () {
                                            success('success value');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(610, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        
                                        later(610, null, success);
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertAreSame(eventFacadeValue[0], 'success value');
                                assertAreSame(targetValue[0], 'success value');

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:043-runAllMultipleCommandsAsynchronousSuccessWithValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(610, null, function () {
                                            success('success value 1');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(610, null, function () {
                                            success('success value 2');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        
                                        later(610, null, function () {
                                            success('success value 3');
                                        });
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertAreSame(eventFacadeValue[0], 'success value 1');
                                assertAreSame(targetValue[0], 'success value 1');

                                assertAreSame(eventFacadeValue[1], 'success value 2');
                                assertAreSame(targetValue[1], 'success value 2');

                                assertAreSame(eventFacadeValue[2], 'success value 3');
                                assertAreSame(targetValue[2], 'success value 3');

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:044-runQueueMultipleCommandsAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(233, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(233, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        
                                        later(233, null, success);
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:045-runQueueMultipleCommandsAsynchronousSuccessWithValue': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(233, null, function () {
                                            success('success value');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(233, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        
                                        later(233, null, success);
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertAreSame(eventFacadeValue[0], 'success value');
                                assertAreSame(targetValue[0], 'success value');

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:046-runQueueMultipleCommandsAsynchronousSuccessWithValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);
                                        
                                        later(233, null, function () {
                                            success('success value 1');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(2);
                                        
                                        later(233, null, function () {
                                            success('success value 2');
                                        });
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);
                                        
                                        later(233, null, function () {
                                            success('success value 3');
                                        });
                                    }
                                })
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertAreSame(eventFacadeValue[0], 'success value 1');
                                assertAreSame(targetValue[0], 'success value 1');

                                assertAreSame(eventFacadeValue[1], 'success value 2');
                                assertAreSame(targetValue[1], 'success value 2');

                                assertAreSame(eventFacadeValue[2], 'success value 3');
                                assertAreSame(targetValue[2], 'success value 3');

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:047-runAllSingleFunctionSynchronousFailure': function () {
                        new Async({
                            mode: 'all',
                            run: function (success) {
                                success.fail();
                            }
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                        });
                    },
                    'test:048-runAllSingleFunctionSynchronousFailureWithError': function () {
                        new Async({
                            mode: 'all',
                            run: function (success) {
                                success.fail('error message');
                            }
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                        });
                    },
                    'test:049-runQueueSingleFunctionSynchronousFailure': function () {
                        new Async({
                            run: function (success) {
                                success.fail();
                            }
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                        });
                    },
                    'test:050-runQueueSingleFunctionSynchronousFailureWithError': function () {
                        new Async({
                            run: function (success) {
                                success.fail('error message');
                            }
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                        });
                    },
                    'test:051-runAllSingleFunctionSynchronousSuccess': function () {
                        new Async({
                            mode: 'all',
                            run: function (success) {
                                success();
                            }
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 1);
                            assertAreSame(targetValue.length, 1);
                            
                            assertIsUndefined(eventFacadeValue[0]);
                            assertIsUndefined(targetValue[0]);
                        });
                    },
                    'test:052-runAllSingleFunctionSynchronousSuccessWithValue': function () {
                        new Async({
                            mode: 'all',
                            run: function (success) {
                                success('success value');
                            }
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 1);
                            assertAreSame(targetValue.length, 1);
                            
                            assertAreSame(eventFacadeValue[0], 'success value');
                            assertAreSame(targetValue[0], 'success value');
                        });
                    },
                    'test:053-runQueueSingleFunctionSynchronousSuccess': function () {
                        new Async({
                            run: function (success) {
                                success();
                            }
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 1);
                            assertAreSame(targetValue.length, 1);
                            
                            assertIsUndefined(eventFacadeValue[0]);
                            assertIsUndefined(targetValue[0]);
                        });
                    },
                    'test:054-runQueueSingleFunctionSynchronousSuccessWithValue': function () {
                        new Async({
                            run: function (success) {
                                success('success value');
                            }
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 1);
                            assertAreSame(targetValue.length, 1);
                            
                            assertAreSame(eventFacadeValue[0], 'success value');
                            assertAreSame(targetValue[0], 'success value');
                        });
                    },
                    'test:055-runAllMultipleFunctionsSynchronousFailure': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success();
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success.fail();
                                },
                                function (success) {
                                    runOrder.push(3);
                                    success();
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:056-runAllMultipleFunctionsSynchronousFailureWithError': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success();
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success.fail('error message');
                                },
                                function (success) {
                                    runOrder.push(3);
                                    success();
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:057-runAllMultipleFunctionsSynchronousFailureWithValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success('success value 1');
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success.fail();
                                },
                                function (success) {
                                    runOrder.push(3);
                                    success('success value 3');
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:058-runAllMultipleFunctionsSynchronousFailureWithErrorAndValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success('success value 1');
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success.fail('error message');
                                },
                                function (success) {
                                    runOrder.push(3);
                                    success('success value 3');
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:059-runQueueMultipleFunctionsSynchronousFailure': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success();
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success.fail();
                                },
                                function (success) {
                                    assertFail();
                                    success();
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 2);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                        });
                    },
                    'test:060-runQueueMultipleFunctionsSynchronousFailureWithError': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success();
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success.fail('error message');
                                },
                                function (success) {
                                    assertFail();
                                    success();
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 2);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                        });
                    },
                    'test:061-runQueueMultipleFunctionsSynchronousFailureWithValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success('success value 1');
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success.fail();
                                },
                                function (success) {
                                    assertFail();
                                    success('success value 3');
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 2);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                        });
                    },
                    'test:062-runQueueMultipleFunctionsSynchronousFailureWithErrorAndValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success('success value 1');
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success.fail('error message');
                                },
                                function (success) {
                                    assertFail();
                                    success('success value 3');
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var target = eventFacade.target;
                            
                            assertAreSame(eventFacade.error, 'error message');
                            assertAreSame(target.get('error'), 'error message');
                            
                            assertAreSame(eventFacade.failed, true);
                            assertAreSame(target.get('failed'), true);
                            
                            assertIsUndefined(eventFacade.value);
                            assertIsUndefined(target.get('value'));
                            
                            assertAreSame(runOrder.length, 2);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                        });
                    },
                    'test:063-runAllMultipleFunctionsSynchronousSuccess': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success();
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success();
                                },
                                function (success) {
                                    runOrder.push(3);
                                    success();
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertIsUndefined(eventFacadeValue[0]);
                            assertIsUndefined(targetValue[0]);
                            
                            assertIsUndefined(eventFacadeValue[1]);
                            assertIsUndefined(targetValue[1]);
                            
                            assertIsUndefined(eventFacadeValue[2]);
                            assertIsUndefined(targetValue[2]);
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:064-runAllMultipleFunctionsSynchronousSuccessWithValue': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success('success value');
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success();
                                },
                                function (success) {
                                    runOrder.push(3);
                                    success();
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertAreSame(eventFacadeValue[0], 'success value');
                            assertAreSame(targetValue[0], 'success value');
                            
                            assertIsUndefined(eventFacadeValue[1]);
                            assertIsUndefined(targetValue[1]);
                            
                            assertIsUndefined(eventFacadeValue[2]);
                            assertIsUndefined(targetValue[2]);
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:065-runAllMultipleFunctionsSynchronousSuccessWithValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success('success value 1');
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success('success value 2');
                                },
                                function (success) {
                                    runOrder.push(3);
                                    success('success value 3');
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertAreSame(eventFacadeValue[0], 'success value 1');
                            assertAreSame(targetValue[0], 'success value 1');
                            
                            assertAreSame(eventFacadeValue[1], 'success value 2');
                            assertAreSame(targetValue[1], 'success value 2');
                            
                            assertAreSame(eventFacadeValue[2], 'success value 3');
                            assertAreSame(targetValue[2], 'success value 3');
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:066-runQueueMultipleFunctionsSynchronousSuccess': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success();
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success();
                                },
                                function (success) {
                                    runOrder.push(3);
                                    success();
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertIsUndefined(eventFacadeValue[0]);
                            assertIsUndefined(targetValue[0]);
                            
                            assertIsUndefined(eventFacadeValue[1]);
                            assertIsUndefined(targetValue[1]);
                            
                            assertIsUndefined(eventFacadeValue[2]);
                            assertIsUndefined(targetValue[2]);
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:067-runQueueMultipleFunctionsSynchronousSuccessWithValue': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success('success value');
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success();
                                },
                                function (success) {
                                    runOrder.push(3);
                                    success();
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertAreSame(eventFacadeValue[0], 'success value');
                            assertAreSame(targetValue[0], 'success value');
                            
                            assertIsUndefined(eventFacadeValue[1]);
                            assertIsUndefined(targetValue[1]);
                            
                            assertIsUndefined(eventFacadeValue[2]);
                            assertIsUndefined(targetValue[2]);
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:068-runQueueMultipleFunctionsSynchronousSuccessWithValues': function () {
                        var runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);
                                    success('success value 1');
                                },
                                function (success) {
                                    runOrder.push(2);
                                    success('success value 2');
                                },
                                function (success) {
                                    runOrder.push(3);
                                    success('success value 3');
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 3);
                            assertAreSame(targetValue.length, 3);
                            
                            assertAreSame(eventFacadeValue[0], 'success value 1');
                            assertAreSame(targetValue[0], 'success value 1');
                            
                            assertAreSame(eventFacadeValue[1], 'success value 2');
                            assertAreSame(targetValue[1], 'success value 2');
                            
                            assertAreSame(eventFacadeValue[2], 'success value 3');
                            assertAreSame(targetValue[2], 'success value 3');
                            
                            assertAreSame(runOrder.length, 3);
                            assertAreSame(runOrder[0], 1);
                            assertAreSame(runOrder[1], 2);
                            assertAreSame(runOrder[2], 3);
                        });
                    },
                    'test:069-runAllSingleFunctionAsynchronousFailure': function () {
                        var me = this;
                    
                        new Async({
                            mode: 'all',
                            run: function (success) {
                                later(610, null, success.fail);
                            }
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;
                            
                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:070-runAllSingleFunctionAsynchronousFailureWithError': function () {
                        var me = this;
                        
                        new Async({
                            mode: 'all',
                            run: function (success) {
                                later(610, null, function () {
                                    success.fail('error message');
                                });
                            }
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;
                            
                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:071-runQueueSingleFunctionAsynchronousFailure': function () {
                        var me = this;
                        
                        new Async({
                            run: function (success) {
                                later(610, null, success.fail);
                            }
                        }).run().on('complete', function (eventFacade) {
                            me.resume( function () {
                                var target = eventFacade.target;
                            
                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:072-runQueueSingleFunctionAsynchronousFailureWithError': function () {
                        var me = this;
                        
                        new Async({
                            run: function (success) {
                                later(610, null, function () {
                                    success.fail('error message');
                                });
                            }
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:073-runAllSingleFunctionAsynchronousSuccess': function () {
                        var me = this;
                        
                        new Async({
                            mode: 'all',
                            run: function (success) {
                                later(610, null, success);
                            }
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 1);
                                assertAreSame(targetValue.length, 1);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:074-runAllSingleFunctionAsynchronousSuccessWithValue': function () {
                        var me = this;
                        
                        new Async({
                            mode: 'all',
                            run: function (success) {
                                later(610, null, function () {
                                    success('success value');
                                });
                            }
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 1);
                                assertAreSame(targetValue.length, 1);

                                assertAreSame(eventFacadeValue[0], 'success value');
                                assertAreSame(targetValue[0], 'success value');
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:075-runQueueSingleFunctionAsynchronousSuccess': function () {
                        var me = this;
                        
                        new Async({
                            run: function (success) {
                                later(610, null, success);
                            }
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 1);
                                assertAreSame(targetValue.length, 1);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:076-runQueueSingleFunctionAsynchronousSuccessWithValue': function () {
                        var me = this;
                        
                        new Async({
                            run: function (success) {
                                later(610, null, function () {
                                    success('success value');
                                });
                            }
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 1);
                                assertAreSame(targetValue.length, 1);

                                assertAreSame(eventFacadeValue[0], 'success value');
                                assertAreSame(targetValue[0], 'success value');
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:077-runAllMultipleFunctionsAsynchronousFailure': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(610, null, success);
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(610, null, success.fail);
                                },
                                function (success) {
                                    runOrder.push(3);

                                    later(610, null, success);
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:078-runAllMultipleFunctionsAsynchronousFailureWithError': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(610, null, success);
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(610, null, function () {
                                        success.fail('error message');
                                    });
                                },
                                function (success) {
                                    runOrder.push(3);

                                    later(610, null, success);
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:079-runAllMultipleFunctionsAsynchronousFailureWithValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(610, null, function () {
                                        success('success value 1');
                                    });
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(610, null, success.fail);
                                },
                                function (success) {
                                    runOrder.push(3);

                                    later(610, null, function () {
                                        success('success value 3');
                                    });
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:080-runAllMultipleFunctionsAsynchronousFailureWithErrorAndValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(610, null, function () {
                                        success('success value 1');
                                    });
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(610, null, function () {
                                        success.fail('error message');
                                    });
                                },
                                function (success) {
                                    runOrder.push(3);

                                    later(610, null, function () {
                                        success('success value 3');
                                    });
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:081-runQueueMultipleFunctionsAsynchronousFailure': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(233, null, success);
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(233, null, success.fail);
                                },
                                function (success) {
                                    assertFail();

                                    later(233, null, success);
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 2);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:082-runQueueMultipleFunctionsAsynchronousFailureWithError': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(233, null, success);
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(233, null, function () {
                                        success.fail('error message');
                                    });
                                },
                                function (success) {
                                    assertFail();

                                    later(233, null, success);
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 2);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:083-runQueueMultipleFunctionsAsynchronousFailureWithValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(233, null, function () {
                                        success('success value 1');
                                    });
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(233, null, success.fail);
                                },
                                function (success) {
                                    assertFail();

                                    later(233, null, function () {
                                        success('success value 3');
                                    });
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 2);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:084-runQueueMultipleFunctionsAsynchronousFailureWithErrorAndValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(233, null, function () {
                                        success('success value 1');
                                    });
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(233, null, function () {
                                        success.fail('error message');
                                    });
                                },
                                function (success) {
                                    assertFail();

                                    later(233, null, function () {
                                        success('success value 3');
                                    });
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var target = eventFacade.target;

                                assertAreSame(eventFacade.error, 'error message');
                                assertAreSame(target.get('error'), 'error message');

                                assertAreSame(eventFacade.failed, true);
                                assertAreSame(target.get('failed'), true);

                                assertIsUndefined(eventFacade.value);
                                assertIsUndefined(target.get('value'));

                                assertAreSame(runOrder.length, 2);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:085-runAllMultipleFunctionsAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(610, null, success);
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(610, null, success);
                                },
                                function (success) {
                                    runOrder.push(3);

                                    later(610, null, success);
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:086-runAllMultipleFunctionsAsynchronousSuccessWithValue': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(610, null, function () {
                                        success('success value');
                                    });
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(610, null, success);
                                },
                                function (success) {
                                    runOrder.push(3);

                                    later(610, null, success);
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertAreSame(eventFacadeValue[0], 'success value');
                                assertAreSame(targetValue[0], 'success value');

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:087-runAllMultipleFunctionsAsynchronousSuccessWithValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(610, null, function () {
                                        success('success value 1');
                                    });
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(610, null, function () {
                                        success('success value 2');
                                    });
                                },
                                function (success) {
                                    runOrder.push(3);

                                    later(610, null, function () {
                                        success('success value 3');
                                    });
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertAreSame(eventFacadeValue[0], 'success value 1');
                                assertAreSame(targetValue[0], 'success value 1');

                                assertAreSame(eventFacadeValue[1], 'success value 2');
                                assertAreSame(targetValue[1], 'success value 2');

                                assertAreSame(eventFacadeValue[2], 'success value 3');
                                assertAreSame(targetValue[2], 'success value 3');

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:088-runQueueMultipleFunctionsAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(233, null, success);
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(233, null, success);
                                },
                                function (success) {
                                    runOrder.push(3);

                                    later(233, null, success);
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:089-runQueueMultipleFunctionsAsynchronousSuccessWithValue': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(233, null, function () {
                                        success('success value');
                                    });
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(233, null, success);
                                },
                                function (success) {
                                    runOrder.push(3);

                                    later(233, null, success);
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertAreSame(eventFacadeValue[0], 'success value');
                                assertAreSame(targetValue[0], 'success value');

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:090-runQueueMultipleFunctionsAsynchronousSuccessWithValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                function (success) {
                                    runOrder.push(1);

                                    later(233, null, function () {
                                        success('success value 1');
                                    });
                                },
                                function (success) {
                                    runOrder.push(2);

                                    later(233, null, function () {
                                        success('success value 2');
                                    });
                                },
                                function (success) {
                                    runOrder.push(3);

                                    later(233, null, function () {
                                        success('success value 3');
                                    });
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertAreSame(eventFacadeValue[0], 'success value 1');
                                assertAreSame(targetValue[0], 'success value 1');

                                assertAreSame(eventFacadeValue[1], 'success value 2');
                                assertAreSame(targetValue[1], 'success value 2');

                                assertAreSame(eventFacadeValue[2], 'success value 3');
                                assertAreSame(targetValue[2], 'success value 3');

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:091-runAllMixedCommandsFunctionsAsynchronousSuccessWithValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            mode: 'all',
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);

                                        later(233, null, function () {
                                            success('success value 1');
                                        });
                                    }
                                }),
                                function (success) {
                                    runOrder.push(2);

                                    later(233, null, function () {
                                        success('success value 2');
                                    });
                                },
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);

                                        later(233, null, function () {
                                            success('success value 3');
                                        });
                                    }
                                }),
                                function (success) {
                                    runOrder.push(4);

                                    later(233, null, function () {
                                        success('success value 4');
                                    });
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 4);
                                assertAreSame(targetValue.length, 4);

                                assertAreSame(eventFacadeValue[0], 'success value 1');
                                assertAreSame(targetValue[0], 'success value 1');

                                assertAreSame(eventFacadeValue[1], 'success value 2');
                                assertAreSame(targetValue[1], 'success value 2');

                                assertAreSame(eventFacadeValue[2], 'success value 3');
                                assertAreSame(targetValue[2], 'success value 3');
                                
                                assertAreSame(eventFacadeValue[3], 'success value 4');
                                assertAreSame(targetValue[3], 'success value 4');

                                assertAreSame(runOrder.length, 4);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                                assertAreSame(runOrder[3], 4);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:092-runQueueMixedCommandsFunctionsAsynchronousSuccessWithValues': function () {
                        var me = this,
                            runOrder = [];
                        
                        new Async({
                            run: [
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(1);

                                        later(144, null, function () {
                                            success('success value 1');
                                        });
                                    }
                                }),
                                function (success) {
                                    runOrder.push(2);

                                    later(144, null, function () {
                                        success('success value 2');
                                    });
                                },
                                new AsyncCommand({
                                    fn: function (success) {
                                        runOrder.push(3);

                                        later(144, null, function () {
                                            success('success value 3');
                                        });
                                    }
                                }),
                                function (success) {
                                    runOrder.push(4);

                                    later(144, null, function () {
                                        success('success value 4');
                                    });
                                }
                            ]
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 4);
                                assertAreSame(targetValue.length, 4);

                                assertAreSame(eventFacadeValue[0], 'success value 1');
                                assertAreSame(targetValue[0], 'success value 1');

                                assertAreSame(eventFacadeValue[1], 'success value 2');
                                assertAreSame(targetValue[1], 'success value 2');

                                assertAreSame(eventFacadeValue[2], 'success value 3');
                                assertAreSame(targetValue[2], 'success value 3');
                                
                                assertAreSame(eventFacadeValue[3], 'success value 4');
                                assertAreSame(targetValue[3], 'success value 4');

                                assertAreSame(runOrder.length, 4);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                                assertAreSame(runOrder[3], 4);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:093-runQueueMultipleCommandsStrictAsynchronousCallbackOrdering1': function () {
                        var me = this,
                            order = [],
                            run = [
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(13, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(21, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(34, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(55, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(89, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(144, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(233, null, success);
                                    }
                                })
                            ];
                            
                        Y.each(run, function (asyncCommand, index) {
                            asyncCommand.on([
                                'complete',
                                'completedChange',
                                'startedChange'
                            ], function (eventFacade) {
                                order.push(index + ':' + eventFacade.type);
                            });
                        })
                        
                        new Async({
                            run: run
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 7);
                                assertAreSame(targetValue.length, 7);

                                Y.each(eventFacadeValue, function (value) {
                                    assertIsUndefined(value);
                                });
                                
                                Y.each(targetValue, function (value) {
                                    assertIsUndefined(value);
                                });
                                
                                assertAreSame(order.length, 21);
                                assertAreSame(order[0], '0:async-command:startedChange');
                                assertAreSame(order[1], '0:async-command:complete');
                                assertAreSame(order[2], '0:async-command:completedChange');
                                assertAreSame(order[3], '1:async-command:startedChange');
                                assertAreSame(order[4], '1:async-command:complete');
                                assertAreSame(order[5], '1:async-command:completedChange');
                                assertAreSame(order[6], '2:async-command:startedChange');
                                assertAreSame(order[7], '2:async-command:complete');
                                assertAreSame(order[8], '2:async-command:completedChange');
                                assertAreSame(order[9], '3:async-command:startedChange');
                                assertAreSame(order[10], '3:async-command:complete');
                                assertAreSame(order[11], '3:async-command:completedChange');
                                assertAreSame(order[12], '4:async-command:startedChange');
                                assertAreSame(order[13], '4:async-command:complete');
                                assertAreSame(order[14], '4:async-command:completedChange');
                                assertAreSame(order[15], '5:async-command:startedChange');
                                assertAreSame(order[16], '5:async-command:complete');
                                assertAreSame(order[17], '5:async-command:completedChange');
                                assertAreSame(order[18], '6:async-command:startedChange');
                                assertAreSame(order[19], '6:async-command:complete');
                                assertAreSame(order[20], '6:async-command:completedChange');
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:094-runQueueMultipleCommandsStrictAsynchronousCallbackOrdering2': function () {
                        var me = this,
                            order = [],
                            run = [
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(233, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(144, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(89, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(55, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(34, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(21, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(13, null, success);
                                    }
                                })
                            ];
                            
                        Y.each(run, function (asyncCommand, index) {
                            asyncCommand.on([
                                'complete',
                                'completedChange',
                                'startedChange'
                            ], function (eventFacade) {
                                order.push(index + ':' + eventFacade.type);
                            });
                        })
                        
                        new Async({
                            run: run
                        }).run().on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 7);
                                assertAreSame(targetValue.length, 7);

                                Y.each(eventFacadeValue, function (value) {
                                    assertIsUndefined(value);
                                });
                                
                                Y.each(targetValue, function (value) {
                                    assertIsUndefined(value);
                                });
                                
                                assertAreSame(order.length, 21);
                                assertAreSame(order[0], '0:async-command:startedChange');
                                assertAreSame(order[1], '0:async-command:complete');
                                assertAreSame(order[2], '0:async-command:completedChange');
                                assertAreSame(order[3], '1:async-command:startedChange');
                                assertAreSame(order[4], '1:async-command:complete');
                                assertAreSame(order[5], '1:async-command:completedChange');
                                assertAreSame(order[6], '2:async-command:startedChange');
                                assertAreSame(order[7], '2:async-command:complete');
                                assertAreSame(order[8], '2:async-command:completedChange');
                                assertAreSame(order[9], '3:async-command:startedChange');
                                assertAreSame(order[10], '3:async-command:complete');
                                assertAreSame(order[11], '3:async-command:completedChange');
                                assertAreSame(order[12], '4:async-command:startedChange');
                                assertAreSame(order[13], '4:async-command:complete');
                                assertAreSame(order[14], '4:async-command:completedChange');
                                assertAreSame(order[15], '5:async-command:startedChange');
                                assertAreSame(order[16], '5:async-command:complete');
                                assertAreSame(order[17], '5:async-command:completedChange');
                                assertAreSame(order[18], '6:async-command:startedChange');
                                assertAreSame(order[19], '6:async-command:complete');
                                assertAreSame(order[20], '6:async-command:completedChange');
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:095-emptyStaticRunAllSynchronousSuccess': function () {
                        Async.runAll().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 0);
                            assertAreSame(targetValue.length, 0);
                        });
                    },
                    'test:096-emptyStaticRunQueueSynchronousSuccess': function () {
                        Async.runQueue().on('complete', function (eventFacade) {
                            var eventFacadeValue = eventFacade.value,
                                target = eventFacade.target,
                                targetValue = target.get('value');
                            
                            assertIsUndefined(eventFacade.error);
                            assertIsUndefined(target.get('error'));
                            
                            assertAreSame(eventFacade.failed, false);
                            assertAreSame(target.get('failed'), false);
                            
                            assertIsArray(eventFacadeValue);
                            assertIsArray(targetValue);
                            
                            assertAreSame(eventFacadeValue.length, 0);
                            assertAreSame(targetValue.length, 0);
                        });
                    },
                    'test:097-staticRunAllMultipleCommandArgumentsAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        Async.runAll(
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(1);

                                    later(610, null, success);
                                }
                            }),
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(2);

                                    later(610, null, success);
                                }
                            }),
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(3);

                                    later(610, null, success);
                                }
                            })
                        ).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:098-staticRunAllCommandArrayAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        Async.runAll([
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(1);

                                    later(610, null, success);
                                }
                            }),
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(2);

                                    later(610, null, success);
                                }
                            }),
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(3);

                                    later(610, null, success);
                                }
                            })
                        ]).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:099-staticRunAllMultipleFunctionArgumentsAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        Async.runAll(
                            function (success) {
                                runOrder.push(1);

                                later(610, null, success);
                            },
                            function (success) {
                                runOrder.push(2);

                                later(610, null, success);
                            },
                            function (success) {
                                runOrder.push(3);

                                later(610, null, success);
                            }
                        ).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:100-staticRunAllFunctionArrayAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        Async.runAll([
                            function (success) {
                                runOrder.push(1);

                                later(610, null, success);
                            },
                            function (success) {
                                runOrder.push(2);

                                later(610, null, success);
                            },
                            function (success) {
                                runOrder.push(3);

                                later(610, null, success);
                            }
                        ]).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:101-staticRunAllMixedArgumentsAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        Async.runAll([
                            function (success) {
                                runOrder.push(1);

                                later(610, null, success);
                            },
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(2);

                                    later(610, null, success);
                                }
                            })
                        ], new AsyncCommand({
                            fn: function (success) {
                                runOrder.push(3);

                                later(610, null, success);
                            }
                        }), function (success) {
                            runOrder.push(4);

                            later(610, null, success);
                        }).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 4);
                                assertAreSame(targetValue.length, 4);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);
                                
                                assertIsUndefined(eventFacadeValue[3]);
                                assertIsUndefined(targetValue[3]);

                                assertAreSame(runOrder.length, 4);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                                assertAreSame(runOrder[3], 4);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:102-staticRunQueueMultipleCommandArgumentsAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        Async.runQueue(
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(1);

                                    later(233, null, success);
                                }
                            }),
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(2);

                                    later(233, null, success);
                                }
                            }),
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(3);

                                    later(233, null, success);
                                }
                            })
                        ).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:103-staticRunQueueCommandArrayAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        Async.runQueue([
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(1);

                                    later(233, null, success);
                                }
                            }),
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(2);

                                    later(233, null, success);
                                }
                            }),
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(3);

                                    later(233, null, success);
                                }
                            })
                        ]).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:104-staticRunQueueMultipleFunctionArgumentsAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        Async.runQueue(
                            function (success) {
                                runOrder.push(1);

                                later(233, null, success);
                            },
                            function (success) {
                                runOrder.push(2);

                                later(233, null, success);
                            },
                            function (success) {
                                runOrder.push(3);

                                later(233, null, success);
                            }
                        ).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:105-staticRunQueueFunctionArrayAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        Async.runAll([
                            function (success) {
                                runOrder.push(1);

                                later(233, null, success);
                            },
                            function (success) {
                                runOrder.push(2);

                                later(233, null, success);
                            },
                            function (success) {
                                runOrder.push(3);

                                later(233, null, success);
                            }
                        ]).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 3);
                                assertAreSame(targetValue.length, 3);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);

                                assertAreSame(runOrder.length, 3);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:106-staticRunQueueMixedArgumentsAsynchronousSuccess': function () {
                        var me = this,
                            runOrder = [];
                        
                        Async.runAll([
                            function (success) {
                                runOrder.push(1);

                                later(144, null, success);
                            },
                            new AsyncCommand({
                                fn: function (success) {
                                    runOrder.push(2);

                                    later(144, null, success);
                                }
                            })
                        ], new AsyncCommand({
                            fn: function (success) {
                                runOrder.push(3);

                                later(144, null, success);
                            }
                        }), function (success) {
                            runOrder.push(4);

                            later(144, null, success);
                        }).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 4);
                                assertAreSame(targetValue.length, 4);

                                assertIsUndefined(eventFacadeValue[0]);
                                assertIsUndefined(targetValue[0]);

                                assertIsUndefined(eventFacadeValue[1]);
                                assertIsUndefined(targetValue[1]);

                                assertIsUndefined(eventFacadeValue[2]);
                                assertIsUndefined(targetValue[2]);
                                
                                assertIsUndefined(eventFacadeValue[3]);
                                assertIsUndefined(targetValue[3]);

                                assertAreSame(runOrder.length, 4);
                                assertAreSame(runOrder[0], 1);
                                assertAreSame(runOrder[1], 2);
                                assertAreSame(runOrder[2], 3);
                                assertAreSame(runOrder[3], 4);
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:107-staticRunQueueCommandArrayStrictAsynchronousCallbackOrdering1': function () {
                        var me = this,
                            order = [],
                            run = [
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(13, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(21, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(34, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(55, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(89, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(144, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(233, null, success);
                                    }
                                })
                            ];
                            
                        Y.each(run, function (asyncCommand, index) {
                            asyncCommand.on([
                                'complete',
                                'completedChange',
                                'startedChange'
                            ], function (eventFacade) {
                                order.push(index + ':' + eventFacade.type);
                            });
                        })
                        
                        Async.runQueue(run).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 7);
                                assertAreSame(targetValue.length, 7);

                                Y.each(eventFacadeValue, function (value) {
                                    assertIsUndefined(value);
                                });
                                
                                Y.each(targetValue, function (value) {
                                    assertIsUndefined(value);
                                });
                                
                                assertAreSame(order.length, 21);
                                assertAreSame(order[0], '0:async-command:startedChange');
                                assertAreSame(order[1], '0:async-command:complete');
                                assertAreSame(order[2], '0:async-command:completedChange');
                                assertAreSame(order[3], '1:async-command:startedChange');
                                assertAreSame(order[4], '1:async-command:complete');
                                assertAreSame(order[5], '1:async-command:completedChange');
                                assertAreSame(order[6], '2:async-command:startedChange');
                                assertAreSame(order[7], '2:async-command:complete');
                                assertAreSame(order[8], '2:async-command:completedChange');
                                assertAreSame(order[9], '3:async-command:startedChange');
                                assertAreSame(order[10], '3:async-command:complete');
                                assertAreSame(order[11], '3:async-command:completedChange');
                                assertAreSame(order[12], '4:async-command:startedChange');
                                assertAreSame(order[13], '4:async-command:complete');
                                assertAreSame(order[14], '4:async-command:completedChange');
                                assertAreSame(order[15], '5:async-command:startedChange');
                                assertAreSame(order[16], '5:async-command:complete');
                                assertAreSame(order[17], '5:async-command:completedChange');
                                assertAreSame(order[18], '6:async-command:startedChange');
                                assertAreSame(order[19], '6:async-command:complete');
                                assertAreSame(order[20], '6:async-command:completedChange');
                            });
                        });
                        
                        me.wait(987);
                    },
                    'test:108-staticRunQueueCommandArrayStrictAsynchronousCallbackOrdering2': function () {
                        var me = this,
                            order = [],
                            run = [
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(233, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(144, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(89, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(55, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(34, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(21, null, success);
                                    }
                                }),
                                new AsyncCommand({
                                    fn: function (success) {
                                        later(13, null, success);
                                    }
                                })
                            ];
                            
                        Y.each(run, function (asyncCommand, index) {
                            asyncCommand.on([
                                'complete',
                                'completedChange',
                                'startedChange'
                            ], function (eventFacade) {
                                order.push(index + ':' + eventFacade.type);
                            });
                        })
                        
                        Async.runQueue(run).on('complete', function (eventFacade) {
                            me.resume(function () {
                                var eventFacadeValue = eventFacade.value,
                                    target = eventFacade.target,
                                    targetValue = target.get('value');

                                assertIsUndefined(eventFacade.error);
                                assertIsUndefined(target.get('error'));

                                assertAreSame(eventFacade.failed, false);
                                assertAreSame(target.get('failed'), false);

                                assertIsArray(eventFacadeValue);
                                assertIsArray(targetValue);

                                assertAreSame(eventFacadeValue.length, 7);
                                assertAreSame(targetValue.length, 7);

                                Y.each(eventFacadeValue, function (value) {
                                    assertIsUndefined(value);
                                });
                                
                                Y.each(targetValue, function (value) {
                                    assertIsUndefined(value);
                                });
                                
                                assertAreSame(order.length, 21);
                                assertAreSame(order[0], '0:async-command:startedChange');
                                assertAreSame(order[1], '0:async-command:complete');
                                assertAreSame(order[2], '0:async-command:completedChange');
                                assertAreSame(order[3], '1:async-command:startedChange');
                                assertAreSame(order[4], '1:async-command:complete');
                                assertAreSame(order[5], '1:async-command:completedChange');
                                assertAreSame(order[6], '2:async-command:startedChange');
                                assertAreSame(order[7], '2:async-command:complete');
                                assertAreSame(order[8], '2:async-command:completedChange');
                                assertAreSame(order[9], '3:async-command:startedChange');
                                assertAreSame(order[10], '3:async-command:complete');
                                assertAreSame(order[11], '3:async-command:completedChange');
                                assertAreSame(order[12], '4:async-command:startedChange');
                                assertAreSame(order[13], '4:async-command:complete');
                                assertAreSame(order[14], '4:async-command:completedChange');
                                assertAreSame(order[15], '5:async-command:startedChange');
                                assertAreSame(order[16], '5:async-command:complete');
                                assertAreSame(order[17], '5:async-command:completedChange');
                                assertAreSame(order[18], '6:async-command:startedChange');
                                assertAreSame(order[19], '6:async-command:complete');
                                assertAreSame(order[20], '6:async-command:completedChange');
                            });
                        });
                        
                        me.wait(987);
                    }
                }));

                testRunner.setName('Async Tests');
                testRunner.add(testSuite);
                testRunner.enableLogging();

                runButtonNode.on('click', function() {
                    if (!console) {
                        console = new Y.Console({
                            entryTemplate: '<pre class="{entry_class} {cat_class} {src_class}">' +
                                '<span class="{entry_cat_class}">' +
                                    '{label}' +
                                '</span>' +
                                '<span class="{entry_content_class}">' +
                                    '{message}' +
                                '</span>' +
                            '</pre>',
                            height: '90%',
                            id: 'console',
                            newestOnTop: false,
                            printTimeout: 0,
                            verbose: false,
                            width: '100%'
                        }).render();
                    }
                    
                    testRunner.run();
                });
            });
        </script>
    </body>
</html>
